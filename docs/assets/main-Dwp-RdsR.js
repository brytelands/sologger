var eU=Object.defineProperty;var tU=(t,e,n)=>e in t?eU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>tU(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var nU=Object.defineProperty,RP=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,xP=(t,e,n)=>e in t?nU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sU=(t,e)=>{for(var n in e||(e={}))iU.call(e,n)&&xP(t,n,e[n]);if(RP)for(var n of RP(e))oU.call(e,n)&&xP(t,n,e[n]);return t};function Eu(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function tE(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ut(t){return!Eu(t)}function Or(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function Wo(t,...e){return tE(t)?t(...e):t}function to(t,e=!0){return typeof t=="string"&&(e||t!=="")}function ys(t){return to(t)?t.replace(/(-|_)/g,"").toLowerCase():t}function nE(t,e="",n={}){const i=ys(e).split("."),o=i.shift();return o?Or(t)?nE(Wo(t[Object.keys(t).find(s=>ys(s)===o)||""],n),i.join("."),n):void 0:Wo(t,n)}function Zy(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}function rU(t){return Ut(t)&&!isNaN(t)}function Sa(t,e){if(e){const n=e.test(t);return e.lastIndex=0,n}return!1}function aU(...t){const e=(n={},i={})=>{const o=sU({},n);return Object.keys(i).forEach(s=>{Or(i[s])&&s in n&&Or(n[s])?o[s]=e(n[s],i[s]):o[s]=i[s]}),o};return t.reduce((n,i,o)=>o===0?i:e(n,i),{})}function bg(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function lU(t){return to(t,!1)?t[0].toUpperCase()+t.slice(1):t}function WD(t){return to(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,n)=>n===0?e:"-"+e.toLowerCase()).toLowerCase():t}function EP(t){return to(t)?t.replace(/[A-Z]/g,(e,n)=>n===0?e:"."+e.toLowerCase()).toLowerCase():t}function BD(){const t=new Map;return{on(e,n){let i=t.get(e);return i?i.push(n):i=[n],t.set(e,i),this},off(e,n){let i=t.get(e);return i&&i.splice(i.indexOf(n)>>>0,1),this},emit(e,n){let i=t.get(e);i&&i.slice().map(o=>{o(n)})},clear(){t.clear()}}}var cU=Object.defineProperty,uU=Object.defineProperties,hU=Object.getOwnPropertyDescriptors,kv=Object.getOwnPropertySymbols,jD=Object.prototype.hasOwnProperty,UD=Object.prototype.propertyIsEnumerable,TP=(t,e,n)=>e in t?cU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cs=(t,e)=>{for(var n in e||(e={}))jD.call(e,n)&&TP(t,n,e[n]);if(kv)for(var n of kv(e))UD.call(e,n)&&TP(t,n,e[n]);return t},pS=(t,e)=>uU(t,hU(e)),jr=(t,e)=>{var n={};for(var i in t)jD.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&kv)for(var i of kv(t))e.indexOf(i)<0&&UD.call(t,i)&&(n[i]=t[i]);return n},dU=BD(),bs=dU;function MP(t,e){Zy(t)?t.push(...e||[]):Or(t)&&Object.assign(t,e)}function fU(t){return Or(t)&&t.hasOwnProperty("value")&&t.hasOwnProperty("type")?t.value:t}function gU(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function mR(t="",e=""){return gU(`${to(t,!1)&&to(e,!1)?`${t}-`:t}${e}`)}function zD(t="",e=""){return`--${mR(t,e)}`}function mU(t=""){const e=(t.match(/{/g)||[]).length,n=(t.match(/}/g)||[]).length;return(e+n)%2!==0}function YD(t,e="",n="",i=[],o){if(to(t)){const s=/{([^}]*)}/g,r=t.trim();if(mU(r))return;if(Sa(r,s)){const a=r.replaceAll(s,u=>{const d=u.replace(/{|}/g,"").split(".").filter(f=>!i.some(g=>Sa(f,g)));return`var(${zD(n,WD(d.join("-")))}${Ut(o)?`, ${o}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,c=/var\([^)]+\)/g;return Sa(a.replace(c,"0"),l)?`calc(${a})`:a}return r}else if(rU(t))return t}function pU(t,e,n){to(e,!1)&&t.push(`${e}:${n};`)}function Mh(t,e){return t?`${t}{${e}}`:""}var vg=(...t)=>wU($t.getTheme(),...t),wU=(t={},e,n,i)=>{if(e){const{variable:o,options:s}=$t.defaults||{},{prefix:r,transform:a}=(t==null?void 0:t.options)||s||{},c=Sa(e,/{([^}]*)}/g)?e:`{${e}}`;return i==="value"||Eu(i)&&a==="strict"?$t.getTokenValue(e):YD(c,void 0,r,[o.excludedKeyRegex],n)}return""};function bU(t,e={}){const n=$t.defaults.variable,{prefix:i=n.prefix,selector:o=n.selector,excludedKeyRegex:s=n.excludedKeyRegex}=e,r=(c,u="")=>Object.entries(c).reduce((h,[d,f])=>{const g=Sa(d,s)?mR(u):mR(u,WD(d)),m=fU(f);if(Or(m)){const{variables:w,tokens:b}=r(m,g);MP(h.tokens,b),MP(h.variables,w)}else h.tokens.push((i?g.replace(`${i}-`,""):g).replaceAll("-",".")),pU(h.variables,zD(g),YD(m,g,i,[s]));return h},{variables:[],tokens:[]}),{variables:a,tokens:l}=r(t,i);return{value:a,tokens:l,declarations:a.join(""),css:Mh(o,a.join(""))}}var es={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:`${t}{:root{[CSS]}}`,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){const e=Object.keys(this.rules).filter(n=>n!=="custom").map(n=>this.rules[n]);return[t].flat().map(n=>{var i;return(i=e.map(o=>o.resolve(n)).find(o=>o.matched))!=null?i:this.rules.custom.resolve(n)})}},_toVariables(t,e){return bU(t,{prefix:e==null?void 0:e.prefix})},getCommon({name:t="",theme:e={},params:n,set:i,defaults:o}){var s,r,a,l,c,u,h;const{preset:d,options:f}=e;let g,m,w,b,C,y,E;if(Ut(d)&&f.transform!=="strict"){const{primitive:T,semantic:N,extend:D}=d,B=N||{},{colorScheme:K}=B,q=jr(B,["colorScheme"]),J=D||{},{colorScheme:ee}=J,re=jr(J,["colorScheme"]),me=K||{},{dark:pe}=me,ye=jr(me,["dark"]),de=ee||{},{dark:ae}=de,we=jr(de,["dark"]),Ne=Ut(T)?this._toVariables({primitive:T},f):{},p=Ut(q)?this._toVariables({semantic:q},f):{},v=Ut(ye)?this._toVariables({light:ye},f):{},x=Ut(pe)?this._toVariables({dark:pe},f):{},A=Ut(re)?this._toVariables({semantic:re},f):{},V=Ut(we)?this._toVariables({light:we},f):{},Y=Ut(ae)?this._toVariables({dark:ae},f):{},[I,G]=[(s=Ne.declarations)!=null?s:"",Ne.tokens],[Q,ie]=[(r=p.declarations)!=null?r:"",p.tokens||[]],[se,Re]=[(a=v.declarations)!=null?a:"",v.tokens||[]],[P,R]=[(l=x.declarations)!=null?l:"",x.tokens||[]],[z,te]=[(c=A.declarations)!=null?c:"",A.tokens||[]],[Z,ne]=[(u=V.declarations)!=null?u:"",V.tokens||[]],[oe,S]=[(h=Y.declarations)!=null?h:"",Y.tokens||[]];g=this.transformCSS(t,I,"light","variable",f,i,o),m=G;const _=this.transformCSS(t,`${Q}${se}`,"light","variable",f,i,o),M=this.transformCSS(t,`${P}`,"dark","variable",f,i,o);w=`${_}${M}`,b=[...new Set([...ie,...Re,...R])];const L=this.transformCSS(t,`${z}${Z}color-scheme:light`,"light","variable",f,i,o),O=this.transformCSS(t,`${oe}color-scheme:dark`,"dark","variable",f,i,o);C=`${L}${O}`,y=[...new Set([...te,...ne,...S])],E=Wo(d.css,{dt:vg})}return{primitive:{css:g,tokens:m},semantic:{css:w,tokens:b},global:{css:C,tokens:y},style:E}},getPreset({name:t="",preset:e={},options:n,params:i,set:o,defaults:s,selector:r}){var a,l,c;let u,h,d;if(Ut(e)&&n.transform!=="strict"){const f=t.replace("-directive",""),g=e,{colorScheme:m,extend:w,css:b}=g,C=jr(g,["colorScheme","extend","css"]),y=w||{},{colorScheme:E}=y,T=jr(y,["colorScheme"]),N=m||{},{dark:D}=N,B=jr(N,["dark"]),K=E||{},{dark:q}=K,J=jr(K,["dark"]),ee=Ut(C)?this._toVariables({[f]:Cs(Cs({},C),T)},n):{},re=Ut(B)?this._toVariables({[f]:Cs(Cs({},B),J)},n):{},me=Ut(D)?this._toVariables({[f]:Cs(Cs({},D),q)},n):{},[pe,ye]=[(a=ee.declarations)!=null?a:"",ee.tokens||[]],[de,ae]=[(l=re.declarations)!=null?l:"",re.tokens||[]],[we,Ne]=[(c=me.declarations)!=null?c:"",me.tokens||[]],p=this.transformCSS(f,`${pe}${de}`,"light","variable",n,o,s,r),v=this.transformCSS(f,we,"dark","variable",n,o,s,r);u=`${p}${v}`,h=[...new Set([...ye,...ae,...Ne])],d=Wo(b,{dt:vg})}return{css:u,tokens:h,style:d}},getPresetC({name:t="",theme:e={},params:n,set:i,defaults:o}){var s;const{preset:r,options:a}=e,l=(s=r==null?void 0:r.components)==null?void 0:s[t];return this.getPreset({name:t,preset:l,options:a,params:n,set:i,defaults:o})},getPresetD({name:t="",theme:e={},params:n,set:i,defaults:o}){var s;const r=t.replace("-directive",""),{preset:a,options:l}=e,c=(s=a==null?void 0:a.directives)==null?void 0:s[r];return this.getPreset({name:r,preset:c,options:l,params:n,set:i,defaults:o})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var n;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(n=t.darkModeSelector)!=null?n:e.options.darkModeSelector):[]},getLayerOrder(t,e={},n,i){const{cssLayer:o}=e;return o?`@layer ${Wo(o.order||"primeui",n)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:n,props:i={},set:o,defaults:s}){const r=this.getCommon({name:t,theme:e,params:n,set:o,defaults:s}),a=Object.entries(i).reduce((l,[c,u])=>l.push(`${c}="${u}"`)&&l,[]).join(" ");return Object.entries(r||{}).reduce((l,[c,u])=>{if(u!=null&&u.css){const h=bg(u==null?void 0:u.css),d=`${c}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${d}" ${a}>${h}</style>`)}return l},[]).join("")},getStyleSheet({name:t="",theme:e={},params:n,props:i={},set:o,defaults:s}){var r;const a={name:t,theme:e,params:n,set:o,defaults:s},l=(r=t.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:r.css,c=Object.entries(i).reduce((u,[h,d])=>u.push(`${h}="${d}"`)&&u,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${t}-variables" ${c}>${bg(l)}</style>`:""},createTokens(t={},e,n="",i="",o={}){return Object.entries(t).forEach(([s,r])=>{const a=Sa(s,e.variable.excludedKeyRegex)?n:n?`${n}.${EP(s)}`:EP(s),l=i?`${i}.${s}`:s;Or(r)?this.createTokens(r,e,a,l,o):(o[a]||(o[a]={paths:[],computed(c,u={}){var h,d;return this.paths.length===1?(h=this.paths[0])==null?void 0:h.computed(this.paths[0].scheme,u.binding):c&&c!=="none"?(d=this.paths.find(f=>f.scheme===c))==null?void 0:d.computed(c,u.binding):this.paths.map(f=>f.computed(f.scheme,u[f.scheme]))}}),o[a].paths.push({path:l,value:r,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(c,u={}){const h=/{([^}]*)}/g;let d=r;if(u.name=this.path,u.binding||(u.binding={}),Sa(r,h)){const g=r.trim().replaceAll(h,b=>{var C;const y=b.replace(/{|}/g,""),E=(C=o[y])==null?void 0:C.computed(c,u);return Zy(E)&&E.length===2?`light-dark(${E[0].value},${E[1].value})`:E==null?void 0:E.value}),m=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,w=/var\([^)]+\)/g;d=Sa(g.replace(w,"0"),m)?`calc(${g})`:g}return Eu(u.binding)&&delete u.binding,{colorScheme:c,path:this.path,paths:u,value:d.includes("undefined")?void 0:d}}}))}),o},getTokenValue(t,e,n){var i;const s=(l=>l.split(".").filter(u=>!Sa(u.toLowerCase(),n.variable.excludedKeyRegex)).join("."))(e),r=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,a=[(i=t[s])==null?void 0:i.computed(r)].flat().filter(l=>l);return a.length===1?a[0].value:a.reduce((l={},c)=>{const u=c,{colorScheme:h}=u,d=jr(u,["colorScheme"]);return l[h]=d,l},void 0)},getSelectorRule(t,e,n,i){return n==="class"||n==="attr"?Mh(Ut(e)?`${t}${e},${t} ${e}`:t,i):Mh(t,Ut(e)?Mh(e,i):i)},transformCSS(t,e,n,i,o={},s,r,a){if(Ut(e)){const{cssLayer:l}=o;if(i!=="style"){const c=this.getColorSchemeOption(o,r);e=n==="dark"?c.reduce((u,{type:h,selector:d})=>(Ut(d)&&(u+=d.includes("[CSS]")?d.replace("[CSS]",e):this.getSelectorRule(d,a,h,e)),u),""):Mh(a??":root",e)}if(l){const c={name:"primeui",order:"primeui"};Or(l)&&(c.name=Wo(l.name,{name:t,type:i})),Ut(c.name)&&(e=Mh(`@layer ${c.name}`,e),s==null||s.layerNames(c.name))}return e}return""}},$t={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){const{theme:e}=t;e&&(this._theme=pS(Cs({},e),{options:Cs(Cs({},this.defaults.options),e.options)}),this._tokens=es.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),bs.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=pS(Cs({},this.theme),{preset:t}),this._tokens=es.createTokens(t,this.defaults),this.clearLoadedStyleNames(),bs.emit("preset:change",t),bs.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=pS(Cs({},this.theme),{options:t}),this.clearLoadedStyleNames(),bs.emit("options:change",t),bs.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return es.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return es.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){const n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return es.getPresetC(n)},getDirective(t="",e){const n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return es.getPresetD(n)},getCustomPreset(t="",e,n,i){const o={name:t,preset:e,options:this.options,selector:n,params:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return es.getPreset(o)},getLayerOrderCSS(t=""){return es.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,n="style",i){return es.transformCSS(t,e,i,n,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,n={}){return es.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,n={}){return es.getStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),bs.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&bs.emit("theme:load"))}};function vU(t,e){return t?t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className):!1}function yU(t,e){if(t&&e){const n=i=>{vU(t,i)||(t.classList?t.classList.add(i):t.className+=" "+i)};[e].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(n))}}function wS(t,e){if(t&&e){const n=i=>{t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(n))}}function CU(t,e){return t instanceof HTMLElement?t.offsetWidth:0}function Jy(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}function Nv(t,e={}){if(Jy(t)){const n=(i,o)=>{var s,r;const a=(s=t==null?void 0:t.$attrs)!=null&&s[i]?[(r=t==null?void 0:t.$attrs)==null?void 0:r[i]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){const u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){const h=Array.isArray(c)?n(i,c):Object.entries(c).map(([d,f])=>i==="style"&&(f||f===0)?`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?d:void 0);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(e).forEach(([i,o])=>{if(o!=null){const s=i.match(/^on(.+)/);s?t.addEventListener(s[1].toLowerCase(),o):i==="p-bind"||i==="pBind"?Nv(t,o):(o=i==="class"?[...new Set(n("class",o))].join(" ").trim():i==="style"?n("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[i]=o),t.setAttribute(i,o))}})}}function SU(t,e={},...n){{const i=document.createElement(t);return Nv(i,e),i.append(...n),i}}function _U(t,e){return Jy(t)?t.matches(e)?t:t.querySelector(e):null}function RU(t,e){if(Jy(t)){const n=t.getAttribute(e);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}function PP(t){if(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}return 0}function xU(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function EU(t){if(t){let e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function TU(t,e){return t?t.offsetHeight:0}function MU(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&xU(t))}function OP(t){if(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}return 0}function GD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function PU(t,e="",n){Jy(t)&&n!==null&&n!==void 0&&t.setAttribute(e,n)}var Fp={};function KD(t="pui_id_"){return Fp.hasOwnProperty(t)||(Fp[t]=0),Fp[t]++,`${t}${Fp[t]}`}var wl={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}};/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function iE(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Bt={},qh=[],Tr=()=>{},OU=()=>!1,Qy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oE=t=>t.startsWith("onUpdate:"),Qn=Object.assign,sE=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},IU=Object.prototype.hasOwnProperty,xt=(t,e)=>IU.call(t,e),Ve=Array.isArray,Xh=t=>Zm(t)==="[object Map]",Td=t=>Zm(t)==="[object Set]",IP=t=>Zm(t)==="[object Date]",Ke=t=>typeof t=="function",On=t=>typeof t=="string",Ps=t=>typeof t=="symbol",qt=t=>t!==null&&typeof t=="object",qD=t=>(qt(t)||Ke(t))&&Ke(t.then)&&Ke(t.catch),XD=Object.prototype.toString,Zm=t=>XD.call(t),AU=t=>Zm(t).slice(8,-1),ZD=t=>Zm(t)==="[object Object]",rE=t=>On(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yg=iE(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eC=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},HU=/-(\w)/g,Yo=eC(t=>t.replace(HU,(e,n)=>n?n.toUpperCase():"")),kU=/\B([A-Z])/g,Tu=eC(t=>t.replace(kU,"-$1").toLowerCase()),tC=eC(t=>t.charAt(0).toUpperCase()+t.slice(1)),bS=eC(t=>t?`on${tC(t)}`:""),Al=(t,e)=>!Object.is(t,e),Zb=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},JD=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Dv=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let AP;const nC=()=>AP||(AP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function aE(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=On(i)?$U(i):aE(i);if(o)for(const s in o)e[s]=o[s]}return e}else if(On(t)||qt(t))return t}const NU=/;(?![^(]*\))/g,DU=/:([^]+)/,LU=/\/\*[^]*?\*\//g;function $U(t){const e={};return t.replace(LU,"").split(NU).forEach(n=>{if(n){const i=n.split(DU);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function fu(t){let e="";if(On(t))e=t;else if(Ve(t))for(let n=0;n<t.length;n++){const i=fu(t[n]);i&&(e+=i+" ")}else if(qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const FU="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VU=iE(FU);function QD(t){return!!t||t===""}function WU(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Jm(t[i],e[i]);return n}function Jm(t,e){if(t===e)return!0;let n=IP(t),i=IP(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Ps(t),i=Ps(e),n||i)return t===e;if(n=Ve(t),i=Ve(e),n||i)return n&&i?WU(t,e):!1;if(n=qt(t),i=qt(e),n||i){if(!n||!i)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!Jm(t[r],e[r]))return!1}}return String(t)===String(e)}function lE(t,e){return t.findIndex(n=>Jm(n,e))}const eL=t=>!!(t&&t.__v_isRef===!0),Cn=t=>On(t)?t:t==null?"":Ve(t)||qt(t)&&(t.toString===XD||!Ke(t.toString))?eL(t)?Cn(t.value):JSON.stringify(t,tL,2):String(t),tL=(t,e)=>eL(e)?tL(t,e.value):Xh(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o],s)=>(n[vS(i,s)+" =>"]=o,n),{})}:Td(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vS(n))}:Ps(e)?vS(e):qt(e)&&!Ve(e)&&!ZD(e)?String(e):e,vS=(t,e="")=>{var n;return Ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uo;class BU{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=uo,!e&&uo&&(this.index=(uo.scopes||(uo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=uo;try{return uo=this,e()}finally{uo=n}}}on(){uo=this}off(){uo=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function jU(){return uo}let zt;const yS=new WeakSet;class nL{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,uo&&uo.active&&uo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yS.has(this)&&(yS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,HP(this),sL(this);const e=zt,n=Es;zt=this,Es=!0;try{return this.fn()}finally{rL(this),zt=e,Es=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hE(e);this.deps=this.depsTail=void 0,HP(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pR(this)&&this.run()}get dirty(){return pR(this)}}let iL=0,Cg,Sg;function oL(t,e=!1){if(t.flags|=8,e){t.next=Sg,Sg=t;return}t.next=Cg,Cg=t}function cE(){iL++}function uE(){if(--iL>0)return;if(Sg){let e=Sg;for(Sg=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Cg;){let e=Cg;for(Cg=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function sL(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rL(t){let e,n=t.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),hE(i),UU(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}t.deps=e,t.depsTail=n}function pR(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(aL(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function aL(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===rm))return;t.globalVersion=rm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!pR(t)){t.flags&=-3;return}const n=zt,i=Es;zt=t,Es=!0;try{sL(t);const o=t.fn(t._value);(e.version===0||Al(o,t._value))&&(t._value=o,e.version++)}catch(o){throw e.version++,o}finally{zt=n,Es=i,rL(t),t.flags&=-3}}function hE(t,e=!1){const{dep:n,prevSub:i,nextSub:o}=t;if(i&&(i.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)hE(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function UU(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Es=!0;const lL=[];function Ul(){lL.push(Es),Es=!1}function zl(){const t=lL.pop();Es=t===void 0?!0:t}function HP(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=zt;zt=void 0;try{e()}finally{zt=n}}}let rm=0;class zU{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dE{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!zt||!Es||zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zt)n=this.activeLink=new zU(zt,this),zt.deps?(n.prevDep=zt.depsTail,zt.depsTail.nextDep=n,zt.depsTail=n):zt.deps=zt.depsTail=n,cL(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=zt.depsTail,n.nextDep=void 0,zt.depsTail.nextDep=n,zt.depsTail=n,zt.deps===n&&(zt.deps=i)}return n}trigger(e){this.version++,rm++,this.notify(e)}notify(e){cE();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uE()}}}function cL(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)cL(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const wR=new WeakMap,au=Symbol(""),bR=Symbol(""),am=Symbol("");function bi(t,e,n){if(Es&&zt){let i=wR.get(t);i||wR.set(t,i=new Map);let o=i.get(n);o||(i.set(n,o=new dE),o.map=i,o.key=n),o.track()}}function ba(t,e,n,i,o,s){const r=wR.get(t);if(!r){rm++;return}const a=l=>{l&&l.trigger()};if(cE(),e==="clear")r.forEach(a);else{const l=Ve(t),c=l&&rE(n);if(l&&n==="length"){const u=Number(i);r.forEach((h,d)=>{(d==="length"||d===am||!Ps(d)&&d>=u)&&a(h)})}else switch((n!==void 0||r.has(void 0))&&a(r.get(n)),c&&a(r.get(am)),e){case"add":l?c&&a(r.get("length")):(a(r.get(au)),Xh(t)&&a(r.get(bR)));break;case"delete":l||(a(r.get(au)),Xh(t)&&a(r.get(bR)));break;case"set":Xh(t)&&a(r.get(au));break}}uE()}function Wu(t){const e=wt(t);return e===t?e:(bi(e,"iterate",am),Uo(t)?e:e.map(vi))}function iC(t){return bi(t=wt(t),"iterate",am),t}const YU={__proto__:null,[Symbol.iterator](){return CS(this,Symbol.iterator,vi)},concat(...t){return Wu(this).concat(...t.map(e=>Ve(e)?Wu(e):e))},entries(){return CS(this,"entries",t=>(t[1]=vi(t[1]),t))},every(t,e){return Ur(this,"every",t,e,void 0,arguments)},filter(t,e){return Ur(this,"filter",t,e,n=>n.map(vi),arguments)},find(t,e){return Ur(this,"find",t,e,vi,arguments)},findIndex(t,e){return Ur(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ur(this,"findLast",t,e,vi,arguments)},findLastIndex(t,e){return Ur(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ur(this,"forEach",t,e,void 0,arguments)},includes(...t){return SS(this,"includes",t)},indexOf(...t){return SS(this,"indexOf",t)},join(t){return Wu(this).join(t)},lastIndexOf(...t){return SS(this,"lastIndexOf",t)},map(t,e){return Ur(this,"map",t,e,void 0,arguments)},pop(){return zd(this,"pop")},push(...t){return zd(this,"push",t)},reduce(t,...e){return kP(this,"reduce",t,e)},reduceRight(t,...e){return kP(this,"reduceRight",t,e)},shift(){return zd(this,"shift")},some(t,e){return Ur(this,"some",t,e,void 0,arguments)},splice(...t){return zd(this,"splice",t)},toReversed(){return Wu(this).toReversed()},toSorted(t){return Wu(this).toSorted(t)},toSpliced(...t){return Wu(this).toSpliced(...t)},unshift(...t){return zd(this,"unshift",t)},values(){return CS(this,"values",vi)}};function CS(t,e,n){const i=iC(t),o=i[e]();return i!==t&&!Uo(t)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=n(s.value)),s}),o}const GU=Array.prototype;function Ur(t,e,n,i,o,s){const r=iC(t),a=r!==t&&!Uo(t),l=r[e];if(l!==GU[e]){const h=l.apply(t,s);return a?vi(h):h}let c=n;r!==t&&(a?c=function(h,d){return n.call(this,vi(h),d,t)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,t)}));const u=l.call(r,c,i);return a&&o?o(u):u}function kP(t,e,n,i){const o=iC(t);let s=n;return o!==t&&(Uo(t)?n.length>3&&(s=function(r,a,l){return n.call(this,r,a,l,t)}):s=function(r,a,l){return n.call(this,r,vi(a),l,t)}),o[e](s,...i)}function SS(t,e,n){const i=wt(t);bi(i,"iterate",am);const o=i[e](...n);return(o===-1||o===!1)&&ep(n[0])?(n[0]=wt(n[0]),i[e](...n)):o}function zd(t,e,n=[]){Ul(),cE();const i=wt(t)[e].apply(t,n);return uE(),zl(),i}const KU=iE("__proto__,__v_isRef,__isVue"),uL=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ps));function qU(t){Ps(t)||(t=String(t));const e=wt(this);return bi(e,"has",t),e.hasOwnProperty(t)}class hL{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?sz:mL:s?gL:fL).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const r=Ve(e);if(!o){let l;if(r&&(l=YU[n]))return l;if(n==="hasOwnProperty")return qU}const a=Reflect.get(e,n,Si(e)?e:i);return(Ps(n)?uL.has(n):KU(n))||(o||bi(e,"get",n),s)?a:Si(a)?r&&rE(n)?a:a.value:qt(a)?o?gE(a):Qm(a):a}}class dL extends hL{constructor(e=!1){super(!1,e)}set(e,n,i,o){let s=e[n];if(!this._isShallow){const l=gu(s);if(!Uo(i)&&!gu(i)&&(s=wt(s),i=wt(i)),!Ve(e)&&Si(s)&&!Si(i))return l?!1:(s.value=i,!0)}const r=Ve(e)&&rE(n)?Number(n)<e.length:xt(e,n),a=Reflect.set(e,n,i,Si(e)?e:o);return e===wt(o)&&(r?Al(i,s)&&ba(e,"set",n,i):ba(e,"add",n,i)),a}deleteProperty(e,n){const i=xt(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&i&&ba(e,"delete",n,void 0),o}has(e,n){const i=Reflect.has(e,n);return(!Ps(n)||!uL.has(n))&&bi(e,"has",n),i}ownKeys(e){return bi(e,"iterate",Ve(e)?"length":au),Reflect.ownKeys(e)}}class XU extends hL{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ZU=new dL,JU=new XU,QU=new dL(!0);const vR=t=>t,Vp=t=>Reflect.getPrototypeOf(t);function ez(t,e,n){return function(...i){const o=this.__v_raw,s=wt(o),r=Xh(s),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=o[t](...i),u=n?vR:e?yR:vi;return!e&&bi(s,"iterate",l?bR:au),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Wp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tz(t,e){const n={get(o){const s=this.__v_raw,r=wt(s),a=wt(o);t||(Al(o,a)&&bi(r,"get",o),bi(r,"get",a));const{has:l}=Vp(r),c=e?vR:t?yR:vi;if(l.call(r,o))return c(s.get(o));if(l.call(r,a))return c(s.get(a));s!==r&&s.get(o)},get size(){const o=this.__v_raw;return!t&&bi(wt(o),"iterate",au),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,r=wt(s),a=wt(o);return t||(Al(o,a)&&bi(r,"has",o),bi(r,"has",a)),o===a?s.has(o):s.has(o)||s.has(a)},forEach(o,s){const r=this,a=r.__v_raw,l=wt(a),c=e?vR:t?yR:vi;return!t&&bi(l,"iterate",au),a.forEach((u,h)=>o.call(s,c(u),c(h),r))}};return Qn(n,t?{add:Wp("add"),set:Wp("set"),delete:Wp("delete"),clear:Wp("clear")}:{add(o){!e&&!Uo(o)&&!gu(o)&&(o=wt(o));const s=wt(this);return Vp(s).has.call(s,o)||(s.add(o),ba(s,"add",o,o)),this},set(o,s){!e&&!Uo(s)&&!gu(s)&&(s=wt(s));const r=wt(this),{has:a,get:l}=Vp(r);let c=a.call(r,o);c||(o=wt(o),c=a.call(r,o));const u=l.call(r,o);return r.set(o,s),c?Al(s,u)&&ba(r,"set",o,s):ba(r,"add",o,s),this},delete(o){const s=wt(this),{has:r,get:a}=Vp(s);let l=r.call(s,o);l||(o=wt(o),l=r.call(s,o)),a&&a.call(s,o);const c=s.delete(o);return l&&ba(s,"delete",o,void 0),c},clear(){const o=wt(this),s=o.size!==0,r=o.clear();return s&&ba(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=ez(o,t,e)}),n}function fE(t,e){const n=tz(t,e);return(i,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(xt(n,o)&&o in i?n:i,o,s)}const nz={get:fE(!1,!1)},iz={get:fE(!1,!0)},oz={get:fE(!0,!1)};const fL=new WeakMap,gL=new WeakMap,mL=new WeakMap,sz=new WeakMap;function rz(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function az(t){return t.__v_skip||!Object.isExtensible(t)?0:rz(AU(t))}function Qm(t){return gu(t)?t:mE(t,!1,ZU,nz,fL)}function pL(t){return mE(t,!1,QU,iz,gL)}function gE(t){return mE(t,!0,JU,oz,mL)}function mE(t,e,n,i,o){if(!qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const r=az(t);if(r===0)return t;const a=new Proxy(t,r===2?i:n);return o.set(t,a),a}function Zh(t){return gu(t)?Zh(t.__v_raw):!!(t&&t.__v_isReactive)}function gu(t){return!!(t&&t.__v_isReadonly)}function Uo(t){return!!(t&&t.__v_isShallow)}function ep(t){return t?!!t.__v_raw:!1}function wt(t){const e=t&&t.__v_raw;return e?wt(e):t}function wL(t){return!xt(t,"__v_skip")&&Object.isExtensible(t)&&JD(t,"__v_skip",!0),t}const vi=t=>qt(t)?Qm(t):t,yR=t=>qt(t)?gE(t):t;function Si(t){return t?t.__v_isRef===!0:!1}function Pa(t){return bL(t,!1)}function pE(t){return bL(t,!0)}function bL(t,e){return Si(t)?t:new lz(t,e)}class lz{constructor(e,n){this.dep=new dE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:wt(e),this._value=n?e:vi(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Uo(e)||gu(e);e=i?e:wt(e),Al(e,n)&&(this._rawValue=e,this._value=i?e:vi(e),this.dep.trigger())}}function Jh(t){return Si(t)?t.value:t}const cz={get:(t,e,n)=>e==="__v_raw"?t:Jh(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return Si(o)&&!Si(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function vL(t){return Zh(t)?t:new Proxy(t,cz)}class uz{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new dE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=rm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&zt!==this)return oL(this,!0),!0}get value(){const e=this.dep.track();return aL(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hz(t,e,n=!1){let i,o;return Ke(t)?i=t:(i=t.get,o=t.set),new uz(i,o,n)}const Bp={},Lv=new WeakMap;let Uc;function dz(t,e=!1,n=Uc){if(n){let i=Lv.get(n);i||Lv.set(n,i=[]),i.push(t)}}function fz(t,e,n=Bt){const{immediate:i,deep:o,once:s,scheduler:r,augmentJob:a,call:l}=n,c=E=>o?E:Uo(E)||o===!1||o===0?va(E,1):va(E);let u,h,d,f,g=!1,m=!1;if(Si(t)?(h=()=>t.value,g=Uo(t)):Zh(t)?(h=()=>c(t),g=!0):Ve(t)?(m=!0,g=t.some(E=>Zh(E)||Uo(E)),h=()=>t.map(E=>{if(Si(E))return E.value;if(Zh(E))return c(E);if(Ke(E))return l?l(E,2):E()})):Ke(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Ul();try{d()}finally{zl()}}const E=Uc;Uc=u;try{return l?l(t,3,[f]):t(f)}finally{Uc=E}}:h=Tr,e&&o){const E=h,T=o===!0?1/0:o;h=()=>va(E(),T)}const w=jU(),b=()=>{u.stop(),w&&sE(w.effects,u)};if(s&&e){const E=e;e=(...T)=>{E(...T),b()}}let C=m?new Array(t.length).fill(Bp):Bp;const y=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const T=u.run();if(o||g||(m?T.some((N,D)=>Al(N,C[D])):Al(T,C))){d&&d();const N=Uc;Uc=u;try{const D=[T,C===Bp?void 0:m&&C[0]===Bp?[]:C,f];l?l(e,3,D):e(...D),C=T}finally{Uc=N}}}else u.run()};return a&&a(y),u=new nL(h),u.scheduler=r?()=>r(y,!1):y,f=E=>dz(E,!1,u),d=u.onStop=()=>{const E=Lv.get(u);if(E){if(l)l(E,4);else for(const T of E)T();Lv.delete(u)}},e?i?y(!0):C=u.run():r?r(y.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function va(t,e=1/0,n){if(e<=0||!qt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Si(t))va(t.value,e,n);else if(Ve(t))for(let i=0;i<t.length;i++)va(t[i],e,n);else if(Td(t)||Xh(t))t.forEach(i=>{va(i,e,n)});else if(ZD(t)){for(const i in t)va(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&va(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tp(t,e,n,i){try{return i?t(...i):t()}catch(o){oC(o,e,n)}}function Ir(t,e,n,i){if(Ke(t)){const o=tp(t,e,n,i);return o&&qD(o)&&o.catch(s=>{oC(s,e,n)}),o}if(Ve(t)){const o=[];for(let s=0;s<t.length;s++)o.push(Ir(t[s],e,n,i));return o}}function oC(t,e,n,i=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||Bt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(s){Ul(),tp(s,null,10,[t,l,c]),zl();return}}gz(t,n,o,i,r)}function gz(t,e,n,i=!0,o=!1){if(o)throw t;console.error(t)}const Hi=[];let ur=-1;const Qh=[];let cl=null,Ph=0;const yL=Promise.resolve();let $v=null;function np(t){const e=$v||yL;return t?e.then(this?t.bind(this):t):e}function mz(t){let e=ur+1,n=Hi.length;for(;e<n;){const i=e+n>>>1,o=Hi[i],s=lm(o);s<t||s===t&&o.flags&2?e=i+1:n=i}return e}function wE(t){if(!(t.flags&1)){const e=lm(t),n=Hi[Hi.length-1];!n||!(t.flags&2)&&e>=lm(n)?Hi.push(t):Hi.splice(mz(e),0,t),t.flags|=1,CL()}}function CL(){$v||($v=yL.then(_L))}function pz(t){Ve(t)?Qh.push(...t):cl&&t.id===-1?cl.splice(Ph+1,0,t):t.flags&1||(Qh.push(t),t.flags|=1),CL()}function NP(t,e,n=ur+1){for(;n<Hi.length;n++){const i=Hi[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Hi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function SL(t){if(Qh.length){const e=[...new Set(Qh)].sort((n,i)=>lm(n)-lm(i));if(Qh.length=0,cl){cl.push(...e);return}for(cl=e,Ph=0;Ph<cl.length;Ph++){const n=cl[Ph];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}cl=null,Ph=0}}const lm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _L(t){try{for(ur=0;ur<Hi.length;ur++){const e=Hi[ur];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),tp(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ur<Hi.length;ur++){const e=Hi[ur];e&&(e.flags&=-2)}ur=-1,Hi.length=0,SL(),$v=null,(Hi.length||Qh.length)&&_L()}}let Xn=null,RL=null;function Fv(t){const e=Xn;return Xn=t,RL=t&&t.type.__scopeId||null,e}function Lh(t,e=Xn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&UP(-1);const s=Fv(e);let r;try{r=t(...o)}finally{Fv(s),i._d&&UP(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function _g(t,e){if(Xn===null)return t;const n=lC(Xn),i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,r,a,l=Bt]=e[o];s&&(Ke(s)&&(s={mounted:s,updated:s}),s.deep&&va(r),i.push({dir:s,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ql(t,e,n,i){const o=t.dirs,s=e&&e.dirs;for(let r=0;r<o.length;r++){const a=o[r];s&&(a.oldValue=s[r].value);let l=a.dir[i];l&&(Ul(),Ir(l,n,8,[t.el,a,t,e]),zl())}}const wz=Symbol("_vte"),bz=t=>t.__isTeleport;function bE(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bE(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Md(t,e){return Ke(t)?Qn({name:t.name},e,{setup:t}):t}function xL(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function CR(t,e,n,i,o=!1){if(Ve(t)){t.forEach((g,m)=>CR(g,e&&(Ve(e)?e[m]:e),n,i,o));return}if(ed(i)&&!o)return;const s=i.shapeFlag&4?lC(i.component):i.el,r=o?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Bt?a.refs={}:a.refs,h=a.setupState,d=wt(h),f=h===Bt?()=>!1:g=>xt(d,g);if(c!=null&&c!==l&&(On(c)?(u[c]=null,f(c)&&(h[c]=null)):Si(c)&&(c.value=null)),Ke(l))tp(l,a,12,[r,u]);else{const g=On(l),m=Si(l);if(g||m){const w=()=>{if(t.f){const b=g?f(l)?h[l]:u[l]:l.value;o?Ve(b)&&sE(b,s):Ve(b)?b.includes(s)||b.push(s):g?(u[l]=[s],f(l)&&(h[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else g?(u[l]=r,f(l)&&(h[l]=r)):m&&(l.value=r,t.k&&(u[t.k]=r))};r?(w.id=-1,ro(w,n)):w()}}}nC().requestIdleCallback;nC().cancelIdleCallback;const ed=t=>!!t.type.__asyncLoader,EL=t=>t.type.__isKeepAlive;function vz(t,e){TL(t,"a",e)}function yz(t,e){TL(t,"da",e)}function TL(t,e,n=si){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(sC(e,i,n),n){let o=n.parent;for(;o&&o.parent;)EL(o.parent.vnode)&&Cz(i,e,n,o),o=o.parent}}function Cz(t,e,n,i){const o=sC(e,t,i,!0);op(()=>{sE(i[e],o)},n)}function sC(t,e,n=si,i=!1){if(n){const o=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...r)=>{Ul();const a=sp(n),l=Ir(e,n,t,r);return a(),zl(),l});return i?o.unshift(s):o.push(s),s}}const $a=t=>(e,n=si)=>{(!hm||t==="sp")&&sC(t,(...i)=>e(...i),n)},Sz=$a("bm"),ip=$a("m"),_z=$a("bu"),Rz=$a("u"),xz=$a("bum"),op=$a("um"),Ez=$a("sp"),Tz=$a("rtg"),Mz=$a("rtc");function Pz(t,e=si){sC("ec",t,e)}const vE="components",Oz="directives";function _r(t,e){return yE(vE,t,!0,e)||t}const ML=Symbol.for("v-ndc");function Iz(t){return On(t)?yE(vE,t,!1)||t:t||ML}function Az(t){return yE(Oz,t)}function yE(t,e,n=!0,i=!1){const o=Xn||si;if(o){const s=o.type;if(t===vE){const a=vY(s,!1);if(a&&(a===e||a===Yo(e)||a===tC(Yo(e))))return s}const r=DP(o[t]||s[t],e)||DP(o.appContext[t],e);return!r&&i?s:r}}function DP(t,e){return t&&(t[e]||t[Yo(e)]||t[tC(Yo(e))])}function td(t,e,n,i){let o;const s=n,r=Ve(t);if(r||On(t)){const a=r&&Zh(t);let l=!1;a&&(l=!Uo(t),t=iC(t)),o=new Array(t.length);for(let c=0,u=t.length;c<u;c++)o[c]=e(l?vi(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s)}else if(qt(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=e(t[u],u,l,s)}}else o=[];return o}function $h(t,e,n={},i,o){if(Xn.ce||Xn.parent&&ed(Xn.parent)&&Xn.parent.ce)return e!=="default"&&(n.name=e),We(),lu(Yn,null,[tn("slot",n,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),We();const r=s&&PL(s(n)),a=n.key||r&&r.key,l=lu(Yn,{key:(a&&!Ps(a)?a:`_${e}`)+(!r&&i?"_fb":"")},r||(i?i():[]),r&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function PL(t){return t.some(e=>um(e)?!(e.type===Fl||e.type===Yn&&!PL(e.children)):!0)?t:null}const SR=t=>t?qL(t)?lC(t):SR(t.parent):null,Rg=Qn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>SR(t.parent),$root:t=>SR(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>CE(t),$forceUpdate:t=>t.f||(t.f=()=>{wE(t.update)}),$nextTick:t=>t.n||(t.n=np.bind(t.proxy)),$watch:t=>Qz.bind(t)}),_S=(t,e)=>t!==Bt&&!t.__isScriptSetup&&xt(t,e),Hz={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:s,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=r[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(_S(i,e))return r[e]=1,i[e];if(o!==Bt&&xt(o,e))return r[e]=2,o[e];if((c=t.propsOptions[0])&&xt(c,e))return r[e]=3,s[e];if(n!==Bt&&xt(n,e))return r[e]=4,n[e];_R&&(r[e]=0)}}const u=Rg[e];let h,d;if(u)return e==="$attrs"&&bi(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Bt&&xt(n,e))return r[e]=4,n[e];if(d=l.config.globalProperties,xt(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:s}=t;return _S(o,e)?(o[e]=n,!0):i!==Bt&&xt(i,e)?(i[e]=n,!0):xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:s}},r){let a;return!!n[r]||t!==Bt&&xt(t,r)||_S(e,r)||(a=s[0])&&xt(a,r)||xt(i,r)||xt(Rg,r)||xt(o.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function LP(t){return Ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let _R=!0;function kz(t){const e=CE(t),n=t.proxy,i=t.ctx;_R=!1,e.beforeCreate&&$P(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:w,beforeDestroy:b,beforeUnmount:C,destroyed:y,unmounted:E,render:T,renderTracked:N,renderTriggered:D,errorCaptured:B,serverPrefetch:K,expose:q,inheritAttrs:J,components:ee,directives:re,filters:me}=e;if(c&&Nz(c,i,null),r)for(const de in r){const ae=r[de];Ke(ae)&&(i[de]=ae.bind(n))}if(o){const de=o.call(n,n);qt(de)&&(t.data=Qm(de))}if(_R=!0,s)for(const de in s){const ae=s[de],we=Ke(ae)?ae.bind(n,n):Ke(ae.get)?ae.get.bind(n,n):Tr,Ne=!Ke(ae)&&Ke(ae.set)?ae.set.bind(n):Tr,p=Fo({get:we,set:Ne});Object.defineProperty(i,de,{enumerable:!0,configurable:!0,get:()=>p.value,set:v=>p.value=v})}if(a)for(const de in a)OL(a[de],i,n,de);if(l){const de=Ke(l)?l.call(n):l;Reflect.ownKeys(de).forEach(ae=>{Jb(ae,de[ae])})}u&&$P(u,t,"c");function ye(de,ae){Ve(ae)?ae.forEach(we=>de(we.bind(n))):ae&&de(ae.bind(n))}if(ye(Sz,h),ye(ip,d),ye(_z,f),ye(Rz,g),ye(vz,m),ye(yz,w),ye(Pz,B),ye(Mz,N),ye(Tz,D),ye(xz,C),ye(op,E),ye(Ez,K),Ve(q))if(q.length){const de=t.exposed||(t.exposed={});q.forEach(ae=>{Object.defineProperty(de,ae,{get:()=>n[ae],set:we=>n[ae]=we})})}else t.exposed||(t.exposed={});T&&t.render===Tr&&(t.render=T),J!=null&&(t.inheritAttrs=J),ee&&(t.components=ee),re&&(t.directives=re),K&&xL(t)}function Nz(t,e,n=Tr){Ve(t)&&(t=RR(t));for(const i in t){const o=t[i];let s;qt(o)?"default"in o?s=Oa(o.from||i,o.default,!0):s=Oa(o.from||i):s=Oa(o),Si(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):e[i]=s}}function $P(t,e,n){Ir(Ve(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function OL(t,e,n,i){let o=i.includes(".")?UL(n,i):()=>n[i];if(On(t)){const s=e[t];Ke(s)&&Rr(o,s)}else if(Ke(t))Rr(o,t.bind(n));else if(qt(t))if(Ve(t))t.forEach(s=>OL(s,e,n,i));else{const s=Ke(t.handler)?t.handler.bind(n):e[t.handler];Ke(s)&&Rr(o,s,t)}}function CE(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:r}}=t.appContext,a=s.get(e);let l;return a?l=a:!o.length&&!n&&!i?l=e:(l={},o.length&&o.forEach(c=>Vv(l,c,r,!0)),Vv(l,e,r)),qt(e)&&s.set(e,l),l}function Vv(t,e,n,i=!1){const{mixins:o,extends:s}=e;s&&Vv(t,s,n,!0),o&&o.forEach(r=>Vv(t,r,n,!0));for(const r in e)if(!(i&&r==="expose")){const a=Dz[r]||n&&n[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const Dz={data:FP,props:VP,emits:VP,methods:sg,computed:sg,beforeCreate:Ti,created:Ti,beforeMount:Ti,mounted:Ti,beforeUpdate:Ti,updated:Ti,beforeDestroy:Ti,beforeUnmount:Ti,destroyed:Ti,unmounted:Ti,activated:Ti,deactivated:Ti,errorCaptured:Ti,serverPrefetch:Ti,components:sg,directives:sg,watch:$z,provide:FP,inject:Lz};function FP(t,e){return e?t?function(){return Qn(Ke(t)?t.call(this,this):t,Ke(e)?e.call(this,this):e)}:e:t}function Lz(t,e){return sg(RR(t),RR(e))}function RR(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ti(t,e){return t?[...new Set([].concat(t,e))]:e}function sg(t,e){return t?Qn(Object.create(null),t,e):e}function VP(t,e){return t?Ve(t)&&Ve(e)?[...new Set([...t,...e])]:Qn(Object.create(null),LP(t),LP(e??{})):e}function $z(t,e){if(!t)return e;if(!e)return t;const n=Qn(Object.create(null),t);for(const i in e)n[i]=Ti(t[i],e[i]);return n}function IL(){return{app:null,config:{isNativeTag:OU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fz=0;function Vz(t,e){return function(i,o=null){Ke(i)||(i=Qn({},i)),o!=null&&!qt(o)&&(o=null);const s=IL(),r=new WeakSet,a=[];let l=!1;const c=s.app={_uid:Fz++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:ZL,get config(){return s.config},set config(u){},use(u,...h){return r.has(u)||(u&&Ke(u.install)?(r.add(u),u.install(c,...h)):Ke(u)&&(r.add(u),u(c,...h))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,h){return h?(s.components[u]=h,c):s.components[u]},directive(u,h){return h?(s.directives[u]=h,c):s.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||tn(i,o);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(f,u):t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,lC(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ir(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return s.provides[u]=h,c},runWithContext(u){const h=nd;nd=c;try{return u()}finally{nd=h}}};return c}}let nd=null;function Jb(t,e){if(si){let n=si.provides;const i=si.parent&&si.parent.provides;i===n&&(n=si.provides=Object.create(i)),n[t]=e}}function Oa(t,e,n=!1){const i=si||Xn;if(i||nd){const o=nd?nd._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Ke(e)?e.call(i&&i.proxy):e}}const AL={},HL=()=>Object.create(AL),kL=t=>Object.getPrototypeOf(t)===AL;function Wz(t,e,n,i=!1){const o={},s=HL();t.propsDefaults=Object.create(null),NL(t,e,o,s);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);n?t.props=i?o:pL(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function Bz(t,e,n,i){const{props:o,attrs:s,vnode:{patchFlag:r}}=t,a=wt(o),[l]=t.propsOptions;let c=!1;if((i||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(rC(t.emitsOptions,d))continue;const f=e[d];if(l)if(xt(s,d))f!==s[d]&&(s[d]=f,c=!0);else{const g=Yo(d);o[g]=xR(l,a,g,f,t,!1)}else f!==s[d]&&(s[d]=f,c=!0)}}}else{NL(t,e,o,s)&&(c=!0);let u;for(const h in a)(!e||!xt(e,h)&&((u=Tu(h))===h||!xt(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=xR(l,a,h,void 0,t,!0)):delete o[h]);if(s!==a)for(const h in s)(!e||!xt(e,h))&&(delete s[h],c=!0)}c&&ba(t.attrs,"set","")}function NL(t,e,n,i){const[o,s]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(yg(l))continue;const c=e[l];let u;o&&xt(o,u=Yo(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:rC(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,r=!0)}if(s){const l=wt(n),c=a||Bt;for(let u=0;u<s.length;u++){const h=s[u];n[h]=xR(o,l,h,c[h],t,!xt(c,h))}}return r}function xR(t,e,n,i,o,s){const r=t[n];if(r!=null){const a=xt(r,"default");if(a&&i===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Ke(l)){const{propsDefaults:c}=o;if(n in c)i=c[n];else{const u=sp(o);i=c[n]=l.call(null,e),u()}}else i=l;o.ce&&o.ce._setProp(n,i)}r[0]&&(s&&!a?i=!1:r[1]&&(i===""||i===Tu(n))&&(i=!0))}return i}const jz=new WeakMap;function DL(t,e,n=!1){const i=n?jz:e.propsCache,o=i.get(t);if(o)return o;const s=t.props,r={},a=[];let l=!1;if(!Ke(t)){const u=h=>{l=!0;const[d,f]=DL(h,e,!0);Qn(r,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return qt(t)&&i.set(t,qh),qh;if(Ve(s))for(let u=0;u<s.length;u++){const h=Yo(s[u]);WP(h)&&(r[h]=Bt)}else if(s)for(const u in s){const h=Yo(u);if(WP(h)){const d=s[u],f=r[h]=Ve(d)||Ke(d)?{type:d}:Qn({},d),g=f.type;let m=!1,w=!0;if(Ve(g))for(let b=0;b<g.length;++b){const C=g[b],y=Ke(C)&&C.name;if(y==="Boolean"){m=!0;break}else y==="String"&&(w=!1)}else m=Ke(g)&&g.name==="Boolean";f[0]=m,f[1]=w,(m||xt(f,"default"))&&a.push(h)}}const c=[r,a];return qt(t)&&i.set(t,c),c}function WP(t){return t[0]!=="$"&&!yg(t)}const LL=t=>t[0]==="_"||t==="$stable",SE=t=>Ve(t)?t.map(br):[br(t)],Uz=(t,e,n)=>{if(e._n)return e;const i=Lh((...o)=>SE(e(...o)),n);return i._c=!1,i},$L=(t,e,n)=>{const i=t._ctx;for(const o in t){if(LL(o))continue;const s=t[o];if(Ke(s))e[o]=Uz(o,s,i);else if(s!=null){const r=SE(s);e[o]=()=>r}}},FL=(t,e)=>{const n=SE(e);t.slots.default=()=>n},VL=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},zz=(t,e,n)=>{const i=t.slots=HL();if(t.vnode.shapeFlag&32){const o=e._;o?(VL(i,e,n),n&&JD(i,"_",o,!0)):$L(e,i)}else e&&FL(t,e)},Yz=(t,e,n)=>{const{vnode:i,slots:o}=t;let s=!0,r=Bt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:VL(o,e,n):(s=!e.$stable,$L(e,o)),r=e}else e&&(FL(t,e),r={default:1});if(s)for(const a in o)!LL(a)&&r[a]==null&&delete o[a]},ro=rY;function Gz(t){return Kz(t)}function Kz(t,e){const n=nC();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Tr,insertStaticContent:g}=t,m=(P,R,z,te=null,Z=null,ne=null,oe=void 0,S=null,_=!!R.dynamicChildren)=>{if(P===R)return;P&&!Yd(P,R)&&(te=I(P),v(P,Z,ne,!0),P=null),R.patchFlag===-2&&(_=!1,R.dynamicChildren=null);const{type:M,ref:L,shapeFlag:O}=R;switch(M){case aC:w(P,R,z,te);break;case Fl:b(P,R,z,te);break;case Qb:P==null&&C(R,z,te,oe);break;case Yn:ee(P,R,z,te,Z,ne,oe,S,_);break;default:O&1?T(P,R,z,te,Z,ne,oe,S,_):O&6?re(P,R,z,te,Z,ne,oe,S,_):(O&64||O&128)&&M.process(P,R,z,te,Z,ne,oe,S,_,ie)}L!=null&&Z&&CR(L,P&&P.ref,ne,R||P,!R)},w=(P,R,z,te)=>{if(P==null)i(R.el=a(R.children),z,te);else{const Z=R.el=P.el;R.children!==P.children&&c(Z,R.children)}},b=(P,R,z,te)=>{P==null?i(R.el=l(R.children||""),z,te):R.el=P.el},C=(P,R,z,te)=>{[P.el,P.anchor]=g(P.children,R,z,te,P.el,P.anchor)},y=({el:P,anchor:R},z,te)=>{let Z;for(;P&&P!==R;)Z=d(P),i(P,z,te),P=Z;i(R,z,te)},E=({el:P,anchor:R})=>{let z;for(;P&&P!==R;)z=d(P),o(P),P=z;o(R)},T=(P,R,z,te,Z,ne,oe,S,_)=>{R.type==="svg"?oe="svg":R.type==="math"&&(oe="mathml"),P==null?N(R,z,te,Z,ne,oe,S,_):K(P,R,Z,ne,oe,S,_)},N=(P,R,z,te,Z,ne,oe,S)=>{let _,M;const{props:L,shapeFlag:O,transition:$,dirs:H}=P;if(_=P.el=r(P.type,ne,L&&L.is,L),O&8?u(_,P.children):O&16&&B(P.children,_,null,te,Z,RS(P,ne),oe,S),H&&Ql(P,null,te,"created"),D(_,P,P.scopeId,oe,te),L){for(const j in L)j!=="value"&&!yg(j)&&s(_,j,null,L[j],ne,te);"value"in L&&s(_,"value",null,L.value,ne),(M=L.onVnodeBeforeMount)&&Vs(M,te,P)}H&&Ql(P,null,te,"beforeMount");const k=qz(Z,$);k&&$.beforeEnter(_),i(_,R,z),((M=L&&L.onVnodeMounted)||k||H)&&ro(()=>{M&&Vs(M,te,P),k&&$.enter(_),H&&Ql(P,null,te,"mounted")},Z)},D=(P,R,z,te,Z)=>{if(z&&f(P,z),te)for(let ne=0;ne<te.length;ne++)f(P,te[ne]);if(Z){let ne=Z.subTree;if(R===ne||YL(ne.type)&&(ne.ssContent===R||ne.ssFallback===R)){const oe=Z.vnode;D(P,oe,oe.scopeId,oe.slotScopeIds,Z.parent)}}},B=(P,R,z,te,Z,ne,oe,S,_=0)=>{for(let M=_;M<P.length;M++){const L=P[M]=S?ul(P[M]):br(P[M]);m(null,L,R,z,te,Z,ne,oe,S)}},K=(P,R,z,te,Z,ne,oe)=>{const S=R.el=P.el;let{patchFlag:_,dynamicChildren:M,dirs:L}=R;_|=P.patchFlag&16;const O=P.props||Bt,$=R.props||Bt;let H;if(z&&ec(z,!1),(H=$.onVnodeBeforeUpdate)&&Vs(H,z,R,P),L&&Ql(R,P,z,"beforeUpdate"),z&&ec(z,!0),(O.innerHTML&&$.innerHTML==null||O.textContent&&$.textContent==null)&&u(S,""),M?q(P.dynamicChildren,M,S,z,te,RS(R,Z),ne):oe||ae(P,R,S,null,z,te,RS(R,Z),ne,!1),_>0){if(_&16)J(S,O,$,z,Z);else if(_&2&&O.class!==$.class&&s(S,"class",null,$.class,Z),_&4&&s(S,"style",O.style,$.style,Z),_&8){const k=R.dynamicProps;for(let j=0;j<k.length;j++){const W=k[j],X=O[W],he=$[W];(he!==X||W==="value")&&s(S,W,X,he,Z,z)}}_&1&&P.children!==R.children&&u(S,R.children)}else!oe&&M==null&&J(S,O,$,z,Z);((H=$.onVnodeUpdated)||L)&&ro(()=>{H&&Vs(H,z,R,P),L&&Ql(R,P,z,"updated")},te)},q=(P,R,z,te,Z,ne,oe)=>{for(let S=0;S<R.length;S++){const _=P[S],M=R[S],L=_.el&&(_.type===Yn||!Yd(_,M)||_.shapeFlag&70)?h(_.el):z;m(_,M,L,null,te,Z,ne,oe,!0)}},J=(P,R,z,te,Z)=>{if(R!==z){if(R!==Bt)for(const ne in R)!yg(ne)&&!(ne in z)&&s(P,ne,R[ne],null,Z,te);for(const ne in z){if(yg(ne))continue;const oe=z[ne],S=R[ne];oe!==S&&ne!=="value"&&s(P,ne,S,oe,Z,te)}"value"in z&&s(P,"value",R.value,z.value,Z)}},ee=(P,R,z,te,Z,ne,oe,S,_)=>{const M=R.el=P?P.el:a(""),L=R.anchor=P?P.anchor:a("");let{patchFlag:O,dynamicChildren:$,slotScopeIds:H}=R;H&&(S=S?S.concat(H):H),P==null?(i(M,z,te),i(L,z,te),B(R.children||[],z,L,Z,ne,oe,S,_)):O>0&&O&64&&$&&P.dynamicChildren?(q(P.dynamicChildren,$,z,Z,ne,oe,S),(R.key!=null||Z&&R===Z.subTree)&&WL(P,R,!0)):ae(P,R,z,L,Z,ne,oe,S,_)},re=(P,R,z,te,Z,ne,oe,S,_)=>{R.slotScopeIds=S,P==null?R.shapeFlag&512?Z.ctx.activate(R,z,te,oe,_):me(R,z,te,Z,ne,oe,_):pe(P,R,_)},me=(P,R,z,te,Z,ne,oe)=>{const S=P.component=fY(P,te,Z);if(EL(P)&&(S.ctx.renderer=ie),mY(S,!1,oe),S.asyncDep){if(Z&&Z.registerDep(S,ye,oe),!P.el){const _=S.subTree=tn(Fl);b(null,_,R,z)}}else ye(S,P,R,z,Z,ne,oe)},pe=(P,R,z)=>{const te=R.component=P.component;if(oY(P,R,z))if(te.asyncDep&&!te.asyncResolved){de(te,R,z);return}else te.next=R,te.update();else R.el=P.el,te.vnode=R},ye=(P,R,z,te,Z,ne,oe)=>{const S=()=>{if(P.isMounted){let{next:O,bu:$,u:H,parent:k,vnode:j}=P;{const xe=BL(P);if(xe){O&&(O.el=j.el,de(P,O,oe)),xe.asyncDep.then(()=>{P.isUnmounted||S()});return}}let W=O,X;ec(P,!1),O?(O.el=j.el,de(P,O,oe)):O=j,$&&Zb($),(X=O.props&&O.props.onVnodeBeforeUpdate)&&Vs(X,k,O,j),ec(P,!0);const he=xS(P),be=P.subTree;P.subTree=he,m(be,he,h(be.el),I(be),P,Z,ne),O.el=he.el,W===null&&sY(P,he.el),H&&ro(H,Z),(X=O.props&&O.props.onVnodeUpdated)&&ro(()=>Vs(X,k,O,j),Z)}else{let O;const{el:$,props:H}=R,{bm:k,m:j,parent:W,root:X,type:he}=P,be=ed(R);if(ec(P,!1),k&&Zb(k),!be&&(O=H&&H.onVnodeBeforeMount)&&Vs(O,W,R),ec(P,!0),$&&Re){const xe=()=>{P.subTree=xS(P),Re($,P.subTree,P,Z,null)};be&&he.__asyncHydrate?he.__asyncHydrate($,P,xe):xe()}else{X.ce&&X.ce._injectChildStyle(he);const xe=P.subTree=xS(P);m(null,xe,z,te,P,Z,ne),R.el=xe.el}if(j&&ro(j,Z),!be&&(O=H&&H.onVnodeMounted)){const xe=R;ro(()=>Vs(O,W,xe),Z)}(R.shapeFlag&256||W&&ed(W.vnode)&&W.vnode.shapeFlag&256)&&P.a&&ro(P.a,Z),P.isMounted=!0,R=z=te=null}};P.scope.on();const _=P.effect=new nL(S);P.scope.off();const M=P.update=_.run.bind(_),L=P.job=_.runIfDirty.bind(_);L.i=P,L.id=P.uid,_.scheduler=()=>wE(L),ec(P,!0),M()},de=(P,R,z)=>{R.component=P;const te=P.vnode.props;P.vnode=R,P.next=null,Bz(P,R.props,te,z),Yz(P,R.children,z),Ul(),NP(P),zl()},ae=(P,R,z,te,Z,ne,oe,S,_=!1)=>{const M=P&&P.children,L=P?P.shapeFlag:0,O=R.children,{patchFlag:$,shapeFlag:H}=R;if($>0){if($&128){Ne(M,O,z,te,Z,ne,oe,S,_);return}else if($&256){we(M,O,z,te,Z,ne,oe,S,_);return}}H&8?(L&16&&Y(M,Z,ne),O!==M&&u(z,O)):L&16?H&16?Ne(M,O,z,te,Z,ne,oe,S,_):Y(M,Z,ne,!0):(L&8&&u(z,""),H&16&&B(O,z,te,Z,ne,oe,S,_))},we=(P,R,z,te,Z,ne,oe,S,_)=>{P=P||qh,R=R||qh;const M=P.length,L=R.length,O=Math.min(M,L);let $;for($=0;$<O;$++){const H=R[$]=_?ul(R[$]):br(R[$]);m(P[$],H,z,null,Z,ne,oe,S,_)}M>L?Y(P,Z,ne,!0,!1,O):B(R,z,te,Z,ne,oe,S,_,O)},Ne=(P,R,z,te,Z,ne,oe,S,_)=>{let M=0;const L=R.length;let O=P.length-1,$=L-1;for(;M<=O&&M<=$;){const H=P[M],k=R[M]=_?ul(R[M]):br(R[M]);if(Yd(H,k))m(H,k,z,null,Z,ne,oe,S,_);else break;M++}for(;M<=O&&M<=$;){const H=P[O],k=R[$]=_?ul(R[$]):br(R[$]);if(Yd(H,k))m(H,k,z,null,Z,ne,oe,S,_);else break;O--,$--}if(M>O){if(M<=$){const H=$+1,k=H<L?R[H].el:te;for(;M<=$;)m(null,R[M]=_?ul(R[M]):br(R[M]),z,k,Z,ne,oe,S,_),M++}}else if(M>$)for(;M<=O;)v(P[M],Z,ne,!0),M++;else{const H=M,k=M,j=new Map;for(M=k;M<=$;M++){const Le=R[M]=_?ul(R[M]):br(R[M]);Le.key!=null&&j.set(Le.key,M)}let W,X=0;const he=$-k+1;let be=!1,xe=0;const Be=new Array(he);for(M=0;M<he;M++)Be[M]=0;for(M=H;M<=O;M++){const Le=P[M];if(X>=he){v(Le,Z,ne,!0);continue}let Ie;if(Le.key!=null)Ie=j.get(Le.key);else for(W=k;W<=$;W++)if(Be[W-k]===0&&Yd(Le,R[W])){Ie=W;break}Ie===void 0?v(Le,Z,ne,!0):(Be[Ie-k]=M+1,Ie>=xe?xe=Ie:be=!0,m(Le,R[Ie],z,null,Z,ne,oe,S,_),X++)}const it=be?Xz(Be):qh;for(W=it.length-1,M=he-1;M>=0;M--){const Le=k+M,Ie=R[Le],st=Le+1<L?R[Le+1].el:te;Be[M]===0?m(null,Ie,z,st,Z,ne,oe,S,_):be&&(W<0||M!==it[W]?p(Ie,z,st,2):W--)}}},p=(P,R,z,te,Z=null)=>{const{el:ne,type:oe,transition:S,children:_,shapeFlag:M}=P;if(M&6){p(P.component.subTree,R,z,te);return}if(M&128){P.suspense.move(R,z,te);return}if(M&64){oe.move(P,R,z,ie);return}if(oe===Yn){i(ne,R,z);for(let O=0;O<_.length;O++)p(_[O],R,z,te);i(P.anchor,R,z);return}if(oe===Qb){y(P,R,z);return}if(te!==2&&M&1&&S)if(te===0)S.beforeEnter(ne),i(ne,R,z),ro(()=>S.enter(ne),Z);else{const{leave:O,delayLeave:$,afterLeave:H}=S,k=()=>i(ne,R,z),j=()=>{O(ne,()=>{k(),H&&H()})};$?$(ne,k,j):j()}else i(ne,R,z)},v=(P,R,z,te=!1,Z=!1)=>{const{type:ne,props:oe,ref:S,children:_,dynamicChildren:M,shapeFlag:L,patchFlag:O,dirs:$,cacheIndex:H}=P;if(O===-2&&(Z=!1),S!=null&&CR(S,null,z,P,!0),H!=null&&(R.renderCache[H]=void 0),L&256){R.ctx.deactivate(P);return}const k=L&1&&$,j=!ed(P);let W;if(j&&(W=oe&&oe.onVnodeBeforeUnmount)&&Vs(W,R,P),L&6)V(P.component,z,te);else{if(L&128){P.suspense.unmount(z,te);return}k&&Ql(P,null,R,"beforeUnmount"),L&64?P.type.remove(P,R,z,ie,te):M&&!M.hasOnce&&(ne!==Yn||O>0&&O&64)?Y(M,R,z,!1,!0):(ne===Yn&&O&384||!Z&&L&16)&&Y(_,R,z),te&&x(P)}(j&&(W=oe&&oe.onVnodeUnmounted)||k)&&ro(()=>{W&&Vs(W,R,P),k&&Ql(P,null,R,"unmounted")},z)},x=P=>{const{type:R,el:z,anchor:te,transition:Z}=P;if(R===Yn){A(z,te);return}if(R===Qb){E(P);return}const ne=()=>{o(z),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(P.shapeFlag&1&&Z&&!Z.persisted){const{leave:oe,delayLeave:S}=Z,_=()=>oe(z,ne);S?S(P.el,ne,_):_()}else ne()},A=(P,R)=>{let z;for(;P!==R;)z=d(P),o(P),P=z;o(R)},V=(P,R,z)=>{const{bum:te,scope:Z,job:ne,subTree:oe,um:S,m:_,a:M}=P;BP(_),BP(M),te&&Zb(te),Z.stop(),ne&&(ne.flags|=8,v(oe,P,R,z)),S&&ro(S,R),ro(()=>{P.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Y=(P,R,z,te=!1,Z=!1,ne=0)=>{for(let oe=ne;oe<P.length;oe++)v(P[oe],R,z,te,Z)},I=P=>{if(P.shapeFlag&6)return I(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const R=d(P.anchor||P.el),z=R&&R[wz];return z?d(z):R};let G=!1;const Q=(P,R,z)=>{P==null?R._vnode&&v(R._vnode,null,null,!0):m(R._vnode||null,P,R,null,null,null,z),R._vnode=P,G||(G=!0,NP(),SL(),G=!1)},ie={p:m,um:v,m:p,r:x,mt:me,mc:B,pc:ae,pbc:q,n:I,o:t};let se,Re;return{render:Q,hydrate:se,createApp:Vz(Q,se)}}function RS({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ec({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qz(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function WL(t,e,n=!1){const i=t.children,o=e.children;if(Ve(i)&&Ve(o))for(let s=0;s<i.length;s++){const r=i[s];let a=o[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[s]=ul(o[s]),a.el=r.el),!n&&a.patchFlag!==-2&&WL(r,a)),a.type===aC&&(a.el=r.el)}}function Xz(t){const e=t.slice(),n=[0];let i,o,s,r,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(o=n[n.length-1],t[o]<c){e[i]=o,n.push(i);continue}for(s=0,r=n.length-1;s<r;)a=s+r>>1,t[n[a]]<c?s=a+1:r=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,r=n[s-1];s-- >0;)n[s]=r,r=e[r];return n}function BL(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:BL(e)}function BP(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Zz=Symbol.for("v-scx"),Jz=()=>Oa(Zz);function Rr(t,e,n){return jL(t,e,n)}function jL(t,e,n=Bt){const{immediate:i,deep:o,flush:s,once:r}=n,a=Qn({},n),l=e&&i||!e&&s!=="post";let c;if(hm){if(s==="sync"){const f=Jz();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Tr,f.resume=Tr,f.pause=Tr,f}}const u=si;a.call=(f,g,m)=>Ir(f,u,g,m);let h=!1;s==="post"?a.scheduler=f=>{ro(f,u&&u.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():wE(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=fz(t,e,a);return hm&&(c?c.push(d):l&&d()),d}function Qz(t,e,n){const i=this.proxy,o=On(t)?t.includes(".")?UL(i,t):()=>i[t]:t.bind(i,i);let s;Ke(e)?s=e:(s=e.handler,n=e);const r=sp(this),a=jL(o,s.bind(i),n);return r(),a}function UL(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const eY=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Yo(e)}Modifiers`]||t[`${Tu(e)}Modifiers`];function tY(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Bt;let o=n;const s=e.startsWith("update:"),r=s&&eY(i,e.slice(7));r&&(r.trim&&(o=n.map(u=>On(u)?u.trim():u)),r.number&&(o=n.map(Dv)));let a,l=i[a=bS(e)]||i[a=bS(Yo(e))];!l&&s&&(l=i[a=bS(Tu(e))]),l&&Ir(l,t,6,o);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ir(c,t,6,o)}}function zL(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const s=t.emits;let r={},a=!1;if(!Ke(t)){const l=c=>{const u=zL(c,e,!0);u&&(a=!0,Qn(r,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(qt(t)&&i.set(t,null),null):(Ve(s)?s.forEach(l=>r[l]=null):Qn(r,s),qt(t)&&i.set(t,r),r)}function rC(t,e){return!t||!Qy(e)?!1:(e=e.slice(2).replace(/Once$/,""),xt(t,e[0].toLowerCase()+e.slice(1))||xt(t,Tu(e))||xt(t,e))}function xS(t){const{type:e,vnode:n,proxy:i,withProxy:o,propsOptions:[s],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=t,w=Fv(t);let b,C;try{if(n.shapeFlag&4){const E=o||i,T=E;b=br(c.call(T,E,u,h,f,d,g)),C=a}else{const E=e;b=br(E.length>1?E(h,{attrs:a,slots:r,emit:l}):E(h,null)),C=e.props?a:nY(a)}}catch(E){xg.length=0,oC(E,t,1),b=tn(Fl)}let y=b;if(C&&m!==!1){const E=Object.keys(C),{shapeFlag:T}=y;E.length&&T&7&&(s&&E.some(oE)&&(C=iY(C,s)),y=fd(y,C,!1,!0))}return n.dirs&&(y=fd(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&bE(y,n.transition),b=y,Fv(w),b}const nY=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qy(n))&&((e||(e={}))[n]=t[n]);return e},iY=(t,e)=>{const n={};for(const i in t)(!oE(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function oY(t,e,n){const{props:i,children:o,component:s}=t,{props:r,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?jP(i,r,c):!!r;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(r[d]!==i[d]&&!rC(c,d))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:i===r?!1:i?r?jP(i,r,c):!0:!!r;return!1}function jP(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(e[s]!==t[s]&&!rC(n,s))return!0}return!1}function sY({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const YL=t=>t.__isSuspense;function rY(t,e){e&&e.pendingBranch?Ve(t)?e.effects.push(...t):e.effects.push(t):pz(t)}const Yn=Symbol.for("v-fgt"),aC=Symbol.for("v-txt"),Fl=Symbol.for("v-cmt"),Qb=Symbol.for("v-stc"),xg=[];let wo=null;function We(t=!1){xg.push(wo=t?null:[])}function aY(){xg.pop(),wo=xg[xg.length-1]||null}let cm=1;function UP(t){cm+=t,t<0&&wo&&(wo.hasOnce=!0)}function GL(t){return t.dynamicChildren=cm>0?wo||qh:null,aY(),cm>0&&wo&&wo.push(t),t}function qe(t,e,n,i,o,s){return GL(le(t,e,n,i,o,s,!0))}function lu(t,e,n,i,o){return GL(tn(t,e,n,i,o,!0))}function um(t){return t?t.__v_isVNode===!0:!1}function Yd(t,e){return t.type===e.type&&t.key===e.key}const KL=({key:t})=>t??null,ev=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?On(t)||Si(t)||Ke(t)?{i:Xn,r:t,k:e,f:!!n}:t:null);function le(t,e=null,n=null,i=0,o=null,s=t===Yn?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&KL(e),ref:e&&ev(e),scopeId:RL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Xn};return a?(_E(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=On(n)?8:16),cm>0&&!r&&wo&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&wo.push(l),l}const tn=lY;function lY(t,e=null,n=null,i=0,o=null,s=!1){if((!t||t===ML)&&(t=Fl),um(t)){const a=fd(t,e,!0);return n&&_E(a,n),cm>0&&!s&&wo&&(a.shapeFlag&6?wo[wo.indexOf(t)]=a:wo.push(a)),a.patchFlag=-2,a}if(yY(t)&&(t=t.__vccOpts),e){e=cY(e);let{class:a,style:l}=e;a&&!On(a)&&(e.class=fu(a)),qt(l)&&(ep(l)&&!Ve(l)&&(l=Qn({},l)),e.style=aE(l))}const r=On(t)?1:YL(t)?128:bz(t)?64:qt(t)?4:Ke(t)?2:0;return le(t,e,n,i,o,r,s,!0)}function cY(t){return t?ep(t)||kL(t)?Qn({},t):t:null}function fd(t,e,n=!1,i=!1){const{props:o,ref:s,patchFlag:r,children:a,transition:l}=t,c=e?oi(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&KL(c),ref:e&&e.ref?n&&s?Ve(s)?s.concat(ev(e)):[s,ev(e)]:ev(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Yn?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fd(t.ssContent),ssFallback:t.ssFallback&&fd(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&bE(u,l.clone(u)),u}function Fh(t=" ",e=0){return tn(aC,null,t,e)}function uY(t,e){const n=tn(Qb,null,t);return n.staticCount=e,n}function mu(t="",e=!1){return e?(We(),lu(Fl,null,t)):tn(Fl,null,t)}function br(t){return t==null||typeof t=="boolean"?tn(Fl):Ve(t)?tn(Yn,null,t.slice()):um(t)?ul(t):tn(aC,null,String(t))}function ul(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:fd(t)}function _E(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),_E(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!kL(e)?e._ctx=Xn:o===3&&Xn&&(Xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ke(e)?(e={default:e,_ctx:Xn},n=32):(e=String(e),i&64?(n=16,e=[Fh(e)]):n=8);t.children=e,t.shapeFlag|=n}function oi(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=fu([e.class,i.class]));else if(o==="style")e.style=aE([e.style,i.style]);else if(Qy(o)){const s=e[o],r=i[o];r&&s!==r&&!(Ve(s)&&s.includes(r))&&(e[o]=s?[].concat(s,r):r)}else o!==""&&(e[o]=i[o])}return e}function Vs(t,e,n,i=null){Ir(t,e,7,[n,i])}const hY=IL();let dY=0;function fY(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||hY,s={uid:dY++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new BU(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:DL(i,o),emitsOptions:zL(i,o),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:i.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=tY.bind(null,s),t.ce&&t.ce(s),s}let si=null;const gY=()=>si||Xn;let Wv,ER;{const t=nC(),e=(n,i)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(i),s=>{o.length>1?o.forEach(r=>r(s)):o[0](s)}};Wv=e("__VUE_INSTANCE_SETTERS__",n=>si=n),ER=e("__VUE_SSR_SETTERS__",n=>hm=n)}const sp=t=>{const e=si;return Wv(t),t.scope.on(),()=>{t.scope.off(),Wv(e)}},zP=()=>{si&&si.scope.off(),Wv(null)};function qL(t){return t.vnode.shapeFlag&4}let hm=!1;function mY(t,e=!1,n=!1){e&&ER(e);const{props:i,children:o}=t.vnode,s=qL(t);Wz(t,i,s,e),zz(t,o,n);const r=s?pY(t,e):void 0;return e&&ER(!1),r}function pY(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hz);const{setup:i}=n;if(i){Ul();const o=t.setupContext=i.length>1?bY(t):null,s=sp(t),r=tp(i,t,0,[t.props,o]),a=qD(r);if(zl(),s(),(a||t.sp)&&!ed(t)&&xL(t),a){if(r.then(zP,zP),e)return r.then(l=>{YP(t,l,e)}).catch(l=>{oC(l,t,0)});t.asyncDep=r}else YP(t,r,e)}else XL(t,e)}function YP(t,e,n){Ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qt(e)&&(t.setupState=vL(e)),XL(t,n)}let GP;function XL(t,e,n){const i=t.type;if(!t.render){if(!e&&GP&&!i.render){const o=i.template||CE(t).template;if(o){const{isCustomElement:s,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Qn(Qn({isCustomElement:s,delimiters:a},r),l);i.render=GP(o,c)}}t.render=i.render||Tr}{const o=sp(t);Ul();try{kz(t)}finally{zl(),o()}}}const wY={get(t,e){return bi(t,"get",""),t[e]}};function bY(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,wY),slots:t.slots,emit:t.emit,expose:e}}function lC(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vL(wL(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rg)return Rg[n](t)},has(e,n){return n in e||n in Rg}})):t.proxy}function vY(t,e=!0){return Ke(t)?t.displayName||t.name:t.name||e&&t.__name}function yY(t){return Ke(t)&&"__vccOpts"in t}const Fo=(t,e)=>hz(t,e,hm);function dm(t,e,n){const i=arguments.length;return i===2?qt(e)&&!Ve(e)?um(e)?tn(t,null,[e]):tn(t,e):tn(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&um(n)&&(n=[n]),tn(t,e,n))}const ZL="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let TR;const KP=typeof window<"u"&&window.trustedTypes;if(KP)try{TR=KP.createPolicy("vue",{createHTML:t=>t})}catch{}const JL=TR?t=>TR.createHTML(t):t=>t,CY="http://www.w3.org/2000/svg",SY="http://www.w3.org/1998/Math/MathML",ha=typeof document<"u"?document:null,qP=ha&&ha.createElement("template"),_Y={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e==="svg"?ha.createElementNS(CY,t):e==="mathml"?ha.createElementNS(SY,t):n?ha.createElement(t,{is:n}):ha.createElement(t);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>ha.createTextNode(t),createComment:t=>ha.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ha.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,s){const r=n?n.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{qP.innerHTML=JL(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=qP.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},RY=Symbol("_vtc");function xY(t,e,n){const i=t[RY];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const XP=Symbol("_vod"),EY=Symbol("_vsh"),TY=Symbol(""),MY=/(^|;)\s*display\s*:/;function PY(t,e,n){const i=t.style,o=On(n);let s=!1;if(n&&!o){if(e)if(On(e))for(const r of e.split(";")){const a=r.slice(0,r.indexOf(":")).trim();n[a]==null&&tv(i,a,"")}else for(const r in e)n[r]==null&&tv(i,r,"");for(const r in n)r==="display"&&(s=!0),tv(i,r,n[r])}else if(o){if(e!==n){const r=i[TY];r&&(n+=";"+r),i.cssText=n,s=MY.test(n)}}else e&&t.removeAttribute("style");XP in t&&(t[XP]=s?i.display:"",t[EY]&&(i.display="none"))}const ZP=/\s*!important$/;function tv(t,e,n){if(Ve(n))n.forEach(i=>tv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=OY(t,e);ZP.test(n)?t.setProperty(Tu(i),n.replace(ZP,""),"important"):t[i]=n}}const JP=["Webkit","Moz","ms"],ES={};function OY(t,e){const n=ES[e];if(n)return n;let i=Yo(e);if(i!=="filter"&&i in t)return ES[e]=i;i=tC(i);for(let o=0;o<JP.length;o++){const s=JP[o]+i;if(s in t)return ES[e]=s}return e}const QP="http://www.w3.org/1999/xlink";function eO(t,e,n,i,o,s=VU(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(QP,e.slice(6,e.length)):t.setAttributeNS(QP,e,n):n==null||s&&!QD(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Ps(n)?String(n):n)}function tO(t,e,n,i,o){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?JL(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=QD(n):n==null&&a==="string"?(n="",r=!0):a==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(o||e)}function bl(t,e,n,i){t.addEventListener(e,n,i)}function IY(t,e,n,i){t.removeEventListener(e,n,i)}const nO=Symbol("_vei");function AY(t,e,n,i,o=null){const s=t[nO]||(t[nO]={}),r=s[e];if(i&&r)r.value=i;else{const[a,l]=HY(e);if(i){const c=s[e]=DY(i,o);bl(t,a,c,l)}else r&&(IY(t,a,r,l),s[e]=void 0)}}const iO=/(?:Once|Passive|Capture)$/;function HY(t){let e;if(iO.test(t)){e={};let i;for(;i=t.match(iO);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Tu(t.slice(2)),e]}let TS=0;const kY=Promise.resolve(),NY=()=>TS||(kY.then(()=>TS=0),TS=Date.now());function DY(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ir(LY(i,n.value),e,5,[i])};return n.value=t,n.attached=NY(),n}function LY(t,e){if(Ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const oO=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$Y=(t,e,n,i,o,s)=>{const r=o==="svg";e==="class"?xY(t,i,r):e==="style"?PY(t,n,i):Qy(e)?oE(e)||AY(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):FY(t,e,i,r))?(tO(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&eO(t,e,i,r,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!On(i))?tO(t,Yo(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),eO(t,e,i,r))};function FY(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&oO(e)&&Ke(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return oO(e)&&On(n)?!1:e in t}const gd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ve(e)?n=>Zb(e,n):e};function VY(t){t.target.composing=!0}function sO(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ia=Symbol("_assign"),QL={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t[Ia]=gd(o);const s=i||o.props&&o.props.type==="number";bl(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Dv(a)),t[Ia](a)}),n&&bl(t,"change",()=>{t.value=t.value.trim()}),e||(bl(t,"compositionstart",VY),bl(t,"compositionend",sO),bl(t,"change",sO))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:o,number:s}},r){if(t[Ia]=gd(r),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Dv(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||o&&t.value.trim()===l)||(t.value=l))}},WY={deep:!0,created(t,e,n){t[Ia]=gd(n),bl(t,"change",()=>{const i=t._modelValue,o=fm(t),s=t.checked,r=t[Ia];if(Ve(i)){const a=lE(i,o),l=a!==-1;if(s&&!l)r(i.concat(o));else if(!s&&l){const c=[...i];c.splice(a,1),r(c)}}else if(Td(i)){const a=new Set(i);s?a.add(o):a.delete(o),r(a)}else r(e$(t,s))})},mounted:rO,beforeUpdate(t,e,n){t[Ia]=gd(n),rO(t,e,n)}};function rO(t,{value:e,oldValue:n},i){t._modelValue=e;let o;if(Ve(e))o=lE(e,i.props.value)>-1;else if(Td(e))o=e.has(i.props.value);else{if(e===n)return;o=Jm(e,e$(t,!0))}t.checked!==o&&(t.checked=o)}const BY={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const o=Td(e);bl(t,"change",()=>{const s=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>n?Dv(fm(r)):fm(r));t[Ia](t.multiple?o?new Set(s):s:s[0]),t._assigning=!0,np(()=>{t._assigning=!1})}),t[Ia]=gd(i)},mounted(t,{value:e}){aO(t,e)},beforeUpdate(t,e,n){t[Ia]=gd(n)},updated(t,{value:e}){t._assigning||aO(t,e)}};function aO(t,e){const n=t.multiple,i=Ve(e);if(!(n&&!i&&!Td(e))){for(let o=0,s=t.options.length;o<s;o++){const r=t.options[o],a=fm(r);if(n)if(i){const l=typeof a;l==="string"||l==="number"?r.selected=e.some(c=>String(c)===String(a)):r.selected=lE(e,a)>-1}else r.selected=e.has(a);else if(Jm(fm(r),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fm(t){return"_value"in t?t._value:t.value}function e$(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const jY=["ctrl","shift","alt","meta"],UY={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jY.some(n=>t[`${n}Key`]&&!e.includes(n))},t$=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(o,...s)=>{for(let r=0;r<e.length;r++){const a=UY[e[r]];if(a&&a(o,e))return}return t(o,...s)})},zY=Qn({patchProp:$Y},_Y);let lO;function YY(){return lO||(lO=Gz(zY))}const GY=(...t)=>{const e=YY().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=qY(i);if(!o)return;const s=e._component;!Ke(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=n(o,!1,KY(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},e};function KY(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qY(t){return On(t)?document.querySelector(t):t}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function uO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(i){XY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function XY(t,e,n){return(e=ZY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=JY(t,"string");return gm(e)=="symbol"?e:e+""}function JY(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(gm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gY()?ip(t):e?t():np(t)}var e3=0;function t3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Pa(!1),i=Pa(t),o=Pa(null),s=GD()?window.document:void 0,r=e.document,a=r===void 0?s:r,l=e.immediate,c=l===void 0?!0:l,u=e.manual,h=u===void 0?!1:u,d=e.name,f=d===void 0?"style_".concat(++e3):d,g=e.id,m=g===void 0?void 0:g,w=e.media,b=w===void 0?void 0:w,C=e.nonce,y=C===void 0?void 0:C,E=e.first,T=E===void 0?!1:E,N=e.onMounted,D=N===void 0?void 0:N,B=e.onUpdated,K=B===void 0?void 0:B,q=e.onLoad,J=q===void 0?void 0:q,ee=e.props,re=ee===void 0?{}:ee,me=function(){},pe=function(ae){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var Ne=uO(uO({},re),we),p=Ne.name||f,v=Ne.id||m,x=Ne.nonce||y;o.value=a.querySelector('style[data-primevue-style-id="'.concat(p,'"]'))||a.getElementById(v)||a.createElement("style"),o.value.isConnected||(i.value=ae||t,Nv(o.value,{type:"text/css",id:v,media:b,nonce:x}),T?a.head.prepend(o.value):a.head.appendChild(o.value),PU(o.value,"data-primevue-style-id",p),Nv(o.value,Ne),o.value.onload=function(A){return J==null?void 0:J(A,{name:p})},D==null||D(p)),!n.value&&(me=Rr(i,function(A){o.value.textContent=A,K==null||K(p)},{immediate:!0}),n.value=!0)}},ye=function(){!a||!n.value||(me(),MU(o.value)&&a.head.removeChild(o.value),n.value=!1)};return c&&!h&&QY(pe),{id:m,name:f,el:o,css:i,unload:ye,load:pe,isLoaded:gE(n)}}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function hO(t,e){return s3(t)||o3(t,e)||i3(t,e)||n3()}function n3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i3(t,e){if(t){if(typeof t=="string")return dO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dO(t,e):void 0}}function dO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function o3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,s,r,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}function s3(t){if(Array.isArray(t))return t}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function MS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(i){r3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function r3(t,e,n){return(e=a3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=l3(t,"string");return mm(e)=="symbol"?e:e+""}function l3(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(mm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c3=function(e){var n=e.dt;return`
* {
    box-sizing: border-box;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: `.concat(n("disabled.opacity"),`;
}

.pi {
    font-size: `).concat(n("icon.size"),`;
}

.p-icon {
    width: `).concat(n("icon.size"),`;
    height: `).concat(n("icon.size"),`;
}

.p-overlay-mask {
    background: `).concat(n("mask.background"),`;
    color: `).concat(n("mask.color"),`;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation `).concat(n("mask.transition.duration"),` forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation `).concat(n("mask.transition.duration"),` forwards;
}

@keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: `).concat(n("mask.background"),`;
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: `).concat(n("mask.background"),`;
    }
    to {
        background: transparent;
    }
}
`)},u3=function(e){var n=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(n("scrollbar.width"),`;
}
`)},h3={},d3={},en={name:"base",css:u3,theme:c3,classes:h3,inlineStyles:d3,load:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s},o=i(Wo(e,{dt:vg}));return Ut(o)?t3(bg(o),MS({name:this.name},n)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadTheme:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.theme,n,function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return $t.transformCSS(n.name||e.name,"".concat(o).concat(i))})},getCommonTheme:function(e){return $t.getCommon(this.name,e)},getComponentTheme:function(e){return $t.getComponent(this.name,e)},getDirectiveTheme:function(e){return $t.getDirective(this.name,e)},getPresetTheme:function(e,n,i){return $t.getCustomPreset(this.name,e,n,i)},getLayerOrderThemeCSS:function(){return $t.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var i=Wo(this.css,{dt:vg})||"",o=bg("".concat(i).concat(e)),s=Object.entries(n).reduce(function(r,a){var l=hO(a,2),c=l[0],u=l[1];return r.push("".concat(c,'="').concat(u,'"'))&&r},[]).join(" ");return Ut(o)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(s,">").concat(o,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $t.getCommonStyleSheet(this.name,e,n)},getThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[$t.getStyleSheet(this.name,e,n)];if(this.theme){var o=this.name==="base"?"global-style":"".concat(this.name,"-style"),s=Wo(this.theme,{dt:vg}),r=bg($t.transformCSS(o,s)),a=Object.entries(n).reduce(function(l,c){var u=hO(c,2),h=u[0],d=u[1];return l.push("".concat(h,'="').concat(d,'"'))&&l},[]).join(" ");Ut(r)&&i.push('<style type="text/css" data-primevue-style-id="'.concat(o,'" ').concat(a,">").concat(r,"</style>"))}return i.join("")},extend:function(e){return MS(MS({},this),{},{css:void 0,theme:void 0},e)}},gO=en.extend({name:"common"});function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function f3(t){return o$(t)||g3(t)||i$(t)||n$()}function g3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gd(t,e){return o$(t)||m3(t,e)||i$(t,e)||n$()}function n$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$(t,e){if(t){if(typeof t=="string")return mO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mO(t,e):void 0}}function mO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function m3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,s,r,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}function o$(t){if(Array.isArray(t))return t}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(i){rg(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rg(t,e,n){return(e=p3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p3(t){var e=w3(t,"string");return pm(e)=="symbol"?e:e+""}function w3(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(pm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cC={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e){var n=this;e?(this._loadScopedThemeStyles(e),this._themeChangeListener(function(){return n._loadScopedThemeStyles(e)})):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,$attrSelector:void 0,beforeCreate:function(){var e,n,i,o,s,r,a,l,c,u,h,d=(e=this.pt)===null||e===void 0?void 0:e._usept,f=d?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=d?(i=this.pt)===null||i===void 0||(i=i.value)===null||i===void 0?void 0:i[this.$.type.name]:this.pt;(o=g||f)===null||o===void 0||(o=o.hooks)===null||o===void 0||(s=o.onBeforeCreate)===null||s===void 0||s.call(o);var m=(r=this.$primevueConfig)===null||r===void 0||(r=r.pt)===null||r===void 0?void 0:r._usept,w=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,b=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0?void 0:c.pt;(u=b||w)===null||u===void 0||(u=u[this.$.type.name])===null||u===void 0||(u=u.hooks)===null||u===void 0||(h=u.onBeforeCreate)===null||h===void 0||h.call(u),this.$attrSelector=KD("pc")},created:function(){this._hook("onCreated")},beforeMount:function(){this.rootEl=_U(this.$el,'[data-pc-name="'.concat(ys(this.$.type.name),'"]')),this.rootEl&&(this.$attrSelector&&!this.rootEl.hasAttribute(this.$attrSelector)&&this.rootEl.setAttribute(this.$attrSelector,""),this.rootEl.$pc=ct({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),i=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),i==null||i()}},_mergeProps:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return tE(e)?e.apply(void 0,i):oi.apply(void 0,i)},_loadStyles:function(){var e=this,n=function(){wl.isStyleNameLoaded("base")||(en.loadCSS(e.$styleOptions),e._loadGlobalStyles(),wl.setLoadedStyleName("base")),e._loadThemeStyles()};n(),this._themeChangeListener(n)},_loadCoreStyles:function(){var e,n;!wl.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name&&(gO.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),wl.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ut(e)&&en.load(e,ct({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,n;if(!(this.isUnstyled||this.$theme==="none")){if(!$t.isStyleNameLoaded("common")){var i,o,s=((i=this.$style)===null||i===void 0||(o=i.getCommonTheme)===null||o===void 0?void 0:o.call(i))||{},r=s.primitive,a=s.semantic,l=s.global,c=s.style;en.load(r==null?void 0:r.css,ct({name:"primitive-variables"},this.$styleOptions)),en.load(a==null?void 0:a.css,ct({name:"semantic-variables"},this.$styleOptions)),en.load(l==null?void 0:l.css,ct({name:"global-variables"},this.$styleOptions)),en.loadTheme(ct({name:"global-style"},this.$styleOptions),c),$t.setLoadedStyleName("common")}if(!$t.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name){var u,h,d,f,g=((u=this.$style)===null||u===void 0||(h=u.getComponentTheme)===null||h===void 0?void 0:h.call(u))||{},m=g.css,w=g.style;(d=this.$style)===null||d===void 0||d.load(m,ct({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(f=this.$style)===null||f===void 0||f.loadTheme(ct({name:"".concat(this.$style.name,"-style")},this.$styleOptions),w),$t.setLoadedStyleName(this.$style.name)}if(!$t.isStyleNameLoaded("layer-order")){var b,C,y=(b=this.$style)===null||b===void 0||(C=b.getLayerOrderThemeCSS)===null||C===void 0?void 0:C.call(b);en.load(y,ct({name:"layer-order",first:!0},this.$styleOptions)),$t.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var n,i,o,s=((n=this.$style)===null||n===void 0||(i=n.getPresetTheme)===null||i===void 0?void 0:i.call(n,e,"[".concat(this.$attrSelector,"]")))||{},r=s.css,a=(o=this.$style)===null||o===void 0?void 0:o.load(r,ct({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=a.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};wl.clearLoadedStyleNames(),bs.on("theme:change",e)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return nE(e,n,i)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r=/./g.test(i)&&!!o[i.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,h=u===void 0?!1:u,d=s?r?this._useGlobalPT(this._getPTClassValue,i,o):this._useDefaultPT(this._getPTClassValue,i,o):void 0,f=r?void 0:this._getPTSelf(n,this._getPTClassValue,i,ct(ct({},o),{},{global:d||{}})),g=this._getPTDatasets(i);return c||!c&&f?h?this._mergeProps(h,d,f,g):ct(ct(ct({},d),f),g):ct(ct({},f),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return oi(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(i)),this._usePT.apply(this,[this.$_attrsPT].concat(i)))},_getPTDatasets:function(){var e,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o="data-pc-",s=i==="root"&&Ut((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return i!=="transition"&&ct(ct({},i==="root"&&ct(ct(rg({},"".concat(o,"name"),ys(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&rg({},"".concat(o,"extend"),ys(this.$.type.name))),GD()&&rg({},"".concat(this.$attrSelector),""))),{},rg({},"".concat(o,"section"),ys(i)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return to(e)||Zy(e)?{class:e}:e},_getPT:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,s=function(a){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=o?o(a):a,h=ys(i),d=ys(n.$name);return(l=c?h!==d?u==null?void 0:u[h]:void 0:u==null?void 0:u[h])!==null&&l!==void 0?l:u};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,i,o){var s=function(m){return n(m,i,o)};if(e!=null&&e.hasOwnProperty("_usept")){var r,a=e._usept||((r=this.$primevueConfig)===null||r===void 0?void 0:r.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,h=u===void 0?!1:u,d=s(e.originalValue),f=s(e.value);return d===void 0&&f===void 0?void 0:to(f)?f:to(d)?d:c||!c&&f?h?this._mergeProps(h,d,f):ct(ct({},d),f):f}return s(e)},_useGlobalPT:function(e,n,i){return this._usePT(this.globalPT,e,n,i)},_useDefaultPT:function(e,n,i){return this._usePT(this.defaultPT,e,n,i)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,ct(ct({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oi(this.$_attrsWithoutPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,ct({instance:this},i),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,ct(ct({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var o=this._getOptionValue(this.$style.inlineStyles,e,ct(ct({},this.$params),i)),s=this._getOptionValue(gO.inlineStyles,e,ct(ct({},this.$params),i));return[s,o]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(i){return Wo(i,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(i){return n._getOptionValue(i,n.$name,ct({},n.$params))||Wo(i,ct({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$inProps:function(){var e,n=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(i){var o=Gd(i,1),s=o[0];return n==null?void 0:n.includes(s)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return ct(ct({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Gd(e,1),i=n[0];return i==null?void 0:i.startsWith("pt:")}).reduce(function(e,n){var i=Gd(n,2),o=i[0],s=i[1],r=o.split(":"),a=f3(r),l=a.slice(1);return l==null||l.reduce(function(c,u,h,d){return!c[u]&&(c[u]=h===d.length-1?s:{}),c[u]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Gd(e,1),i=n[0];return!(i!=null&&i.startsWith("pt:"))}).reduce(function(e,n){var i=Gd(n,2),o=i[0],s=i[1];return e[o]=s,e},{})}}},b3=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,v3=en.extend({name:"baseicon",css:b3});function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(i){y3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function y3(t,e,n){return(e=C3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3(t){var e=S3(t,"string");return wm(e)=="symbol"?e:e+""}function S3(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(wm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _3={name:"BaseIcon",extends:cC,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:v3,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=Eu(this.label);return bO(bO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},s$={name:"SpinnerIcon",extends:_3};function R3(t,e,n,i,o,s){return We(),qe("svg",oi({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[le("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}s$.render=R3;var x3=function(e){var n=e.dt;return`
.p-badge {
    display: inline-flex;
    border-radius: `.concat(n("badge.border.radius"),`;
    align-items: center;
    justify-content: center;
    padding: `).concat(n("badge.padding"),`;
    background: `).concat(n("badge.primary.background"),`;
    color: `).concat(n("badge.primary.color"),`;
    font-size: `).concat(n("badge.font.size"),`;
    font-weight: `).concat(n("badge.font.weight"),`;
    min-width: `).concat(n("badge.min.width"),`;
    height: `).concat(n("badge.height"),`;
}

.p-badge-dot {
    width: `).concat(n("badge.dot.size"),`;
    min-width: `).concat(n("badge.dot.size"),`;
    height: `).concat(n("badge.dot.size"),`;
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: `).concat(n("badge.secondary.background"),`;
    color: `).concat(n("badge.secondary.color"),`;
}

.p-badge-success {
    background: `).concat(n("badge.success.background"),`;
    color: `).concat(n("badge.success.color"),`;
}

.p-badge-info {
    background: `).concat(n("badge.info.background"),`;
    color: `).concat(n("badge.info.color"),`;
}

.p-badge-warn {
    background: `).concat(n("badge.warn.background"),`;
    color: `).concat(n("badge.warn.color"),`;
}

.p-badge-danger {
    background: `).concat(n("badge.danger.background"),`;
    color: `).concat(n("badge.danger.color"),`;
}

.p-badge-contrast {
    background: `).concat(n("badge.contrast.background"),`;
    color: `).concat(n("badge.contrast.color"),`;
}

.p-badge-sm {
    font-size: `).concat(n("badge.sm.font.size"),`;
    min-width: `).concat(n("badge.sm.min.width"),`;
    height: `).concat(n("badge.sm.height"),`;
}

.p-badge-lg {
    font-size: `).concat(n("badge.lg.font.size"),`;
    min-width: `).concat(n("badge.lg.min.width"),`;
    height: `).concat(n("badge.lg.height"),`;
}

.p-badge-xl {
    font-size: `).concat(n("badge.xl.font.size"),`;
    min-width: `).concat(n("badge.xl.min.width"),`;
    height: `).concat(n("badge.xl.height"),`;
}
`)},E3={root:function(e){var n=e.props,i=e.instance;return["p-badge p-component",{"p-badge-circle":Ut(n.value)&&String(n.value).length===1,"p-badge-dot":Eu(n.value)&&!i.$slots.default,"p-badge-sm":n.size==="small","p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warn":n.severity==="warn","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},T3=en.extend({name:"badge",theme:x3,classes:E3}),M3={name:"BaseBadge",extends:cC,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:T3,provide:function(){return{$pcBadge:this,$parentInstance:this}}},r$={name:"Badge",extends:M3,inheritAttrs:!1};function P3(t,e,n,i,o,s){return We(),qe("span",oi({class:t.cx("root")},t.ptmi("root")),[$h(t.$slots,"default",{},function(){return[Fh(Cn(t.value),1)]})],16)}r$.render=P3;var Vh=BD();function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function vO(t,e){return H3(t)||A3(t,e)||I3(t,e)||O3()}function O3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3(t,e){if(t){if(typeof t=="string")return yO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yO(t,e):void 0}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function A3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,o,s,r,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}function H3(t){if(Array.isArray(t))return t}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(i){MR(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function MR(t,e,n){return(e=k3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k3(t){var e=N3(t,"string");return bm(e)=="symbol"?e:e+""}function N3(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(bm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rt={_getMeta:function(){return[Or(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Wo(Or(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var i,o,s;return(i=(e==null||(o=e.instance)===null||o===void 0?void 0:o.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||i===void 0?void 0:i.config},_getOptionValue:nE,_getPTValue:function(){var e,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var C=rt._getOptionValue.apply(rt,arguments);return to(C)||Zy(C)?{class:C}:C},c=((e=i.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=i.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},u=c.mergeSections,h=u===void 0?!0:u,d=c.mergeProps,f=d===void 0?!1:d,g=a?rt._useDefaultPT(i,i.defaultPT(),l,s,r):void 0,m=rt._usePT(i,rt._getPT(o,i.$name),l,s,mt(mt({},r),{},{global:g||{}})),w=rt._getPTDatasets(i,s);return h||!h&&m?f?rt._mergeProps(i,f,g,m,w):mt(mt(mt({},g),m),w):mt(mt({},m),w)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i="data-pc-";return mt(mt({},n==="root"&&MR({},"".concat(i,"name"),ys(e.$name))),{},MR({},"".concat(i,"section"),ys(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,o=function(r){var a,l=i?i(r):r,c=ys(n);return(a=l==null?void 0:l[c])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:o(e.originalValue),value:o(e.value)}:o(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,r=function(w){return i(w,o,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},c=l.mergeSections,u=c===void 0?!0:c,h=l.mergeProps,d=h===void 0?!1:h,f=r(n.originalValue),g=r(n.value);return f===void 0&&g===void 0?void 0:to(g)?g:to(f)?f:u||!u&&g?d?rt._mergeProps(e,d,f,g):mt(mt({},f),g):g}return r(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return rt._usePT(e,n,i,o,s)},_loadStyles:function(e,n,i){var o,s=rt._getConfig(n,i),r={nonce:s==null||(o=s.csp)===null||o===void 0?void 0:o.nonce};rt._loadCoreStyles(e.$instance,r),rt._loadThemeStyles(e.$instance,r),rt._loadScopedThemeStyles(e.$instance,r),rt._themeChangeListener(function(){return rt._loadThemeStyles(e.$instance,r)})},_loadCoreStyles:function(){var e,n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(!wl.isStyleNameLoaded((e=i.$style)===null||e===void 0?void 0:e.name)&&(n=i.$style)!==null&&n!==void 0&&n.name){var s;en.loadCSS(o),(s=i.$style)===null||s===void 0||s.loadCSS(o),wl.setLoadedStyleName(i.$style.name)}},_loadThemeStyles:function(){var e,n,i,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(!(o!=null&&o.isUnstyled()||(o==null||(e=o.theme)===null||e===void 0?void 0:e.call(o))==="none")){if(!$t.isStyleNameLoaded("common")){var r,a,l=((r=o.$style)===null||r===void 0||(a=r.getCommonTheme)===null||a===void 0?void 0:a.call(r))||{},c=l.primitive,u=l.semantic,h=l.global,d=l.style;en.load(c==null?void 0:c.css,mt({name:"primitive-variables"},s)),en.load(u==null?void 0:u.css,mt({name:"semantic-variables"},s)),en.load(h==null?void 0:h.css,mt({name:"global-variables"},s)),en.loadTheme(mt({name:"global-style"},s),d),$t.setLoadedStyleName("common")}if(!$t.isStyleNameLoaded((n=o.$style)===null||n===void 0?void 0:n.name)&&(i=o.$style)!==null&&i!==void 0&&i.name){var f,g,m,w,b=((f=o.$style)===null||f===void 0||(g=f.getDirectiveTheme)===null||g===void 0?void 0:g.call(f))||{},C=b.css,y=b.style;(m=o.$style)===null||m===void 0||m.load(C,mt({name:"".concat(o.$style.name,"-variables")},s)),(w=o.$style)===null||w===void 0||w.loadTheme(mt({name:"".concat(o.$style.name,"-style")},s),y),$t.setLoadedStyleName(o.$style.name)}if(!$t.isStyleNameLoaded("layer-order")){var E,T,N=(E=o.$style)===null||E===void 0||(T=E.getLayerOrderThemeCSS)===null||T===void 0?void 0:T.call(E);en.load(N,mt({name:"layer-order",first:!0},s)),$t.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=e.preset();if(i&&e.$attrSelector){var o,s,r,a=((o=e.$style)===null||o===void 0||(s=o.getPresetTheme)===null||s===void 0?void 0:s.call(o,i,"[".concat(e.$attrSelector,"]")))||{},l=a.css,c=(r=e.$style)===null||r===void 0?void 0:r.load(l,mt({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},n));e.scopedStyleEl=c.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};wl.clearLoadedStyleNames(),bs.on("theme:change",e)},_hook:function(e,n,i,o,s,r){var a,l,c="on".concat(lU(n)),u=rt._getConfig(o,s),h=i==null?void 0:i.$instance,d=rt._usePT(h,rt._getPT(o==null||(a=o.value)===null||a===void 0?void 0:a.pt,e),rt._getOptionValue,"hooks.".concat(c)),f=rt._useDefaultPT(h,u==null||(l=u.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],rt._getOptionValue,"hooks.".concat(c)),g={el:i,binding:o,vnode:s,prevVnode:r};d==null||d(h,g),f==null||f(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return tE(e)?e.apply(void 0,i):oi.apply(void 0,i)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=function(r,a,l,c,u){var h,d,f,g;a._$instances=a._$instances||{};var m=rt._getConfig(l,c),w=a._$instances[e]||{},b=Eu(w)?mt(mt({},n),n==null?void 0:n.methods):{};a._$instances[e]=mt(mt({},w),{},{$name:e,$host:a,$binding:l,$modifiers:l==null?void 0:l.modifiers,$value:l==null?void 0:l.value,$el:w.$el||a||void 0,$style:mt({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadTheme:function(){}},n==null?void 0:n.style),$primevueConfig:m,$attrSelector:(h=a.$pd)===null||h===void 0||(h=h[e])===null||h===void 0?void 0:h.attrSelector,defaultPT:function(){return rt._getPT(m==null?void 0:m.pt,void 0,function(y){var E;return y==null||(E=y.directives)===null||E===void 0?void 0:E[e]})},isUnstyled:function(){var y,E;return((y=a.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled)!==void 0?(E=a.$instance)===null||E===void 0||(E=E.$binding)===null||E===void 0||(E=E.value)===null||E===void 0?void 0:E.unstyled:m==null?void 0:m.unstyled},theme:function(){var y;return(y=a.$instance)===null||y===void 0||(y=y.$primevueConfig)===null||y===void 0?void 0:y.theme},preset:function(){var y;return(y=a.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.dt},ptm:function(){var y,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rt._getPTValue(a.$instance,(y=a.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.pt,E,mt({},T))},ptmo:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return rt._getPTValue(a.$instance,y,E,T,!1)},cx:function(){var y,E,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(y=a.$instance)!==null&&y!==void 0&&y.isUnstyled()?void 0:rt._getOptionValue((E=a.$instance)===null||E===void 0||(E=E.$style)===null||E===void 0?void 0:E.classes,T,mt({},N))},sx:function(){var y,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return T?rt._getOptionValue((y=a.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.inlineStyles,E,mt({},N)):void 0}},b),a.$instance=a._$instances[e],(d=(f=a.$instance)[r])===null||d===void 0||d.call(f,a,l,c,u),a["$".concat(e)]=a.$instance,rt._hook(e,r,a,l,c,u),a.$pd||(a.$pd={}),a.$pd[e]=mt(mt({},(g=a.$pd)===null||g===void 0?void 0:g[e]),{},{name:e,instance:a.$instance})},o=function(r){var a,l,c,u,h,d=(a=r.$instance)===null||a===void 0?void 0:a.watch;d==null||(l=d.config)===null||l===void 0||l.call(r.$instance,(c=r.$instance)===null||c===void 0?void 0:c.$primevueConfig),Vh.on("config:change",function(f){var g,m=f.newValue,w=f.oldValue;return d==null||(g=d.config)===null||g===void 0?void 0:g.call(r.$instance,m,w)}),d==null||(u=d["config.ripple"])===null||u===void 0||u.call(r.$instance,(h=r.$instance)===null||h===void 0||(h=h.$primevueConfig)===null||h===void 0?void 0:h.ripple),Vh.on("config:ripple:change",function(f){var g,m=f.newValue,w=f.oldValue;return d==null||(g=d["config.ripple"])===null||g===void 0?void 0:g.call(r.$instance,m,w)})};return{created:function(r,a,l,c){r.$pd||(r.$pd={}),r.$pd[e]={name:e,attrSelector:KD("pd")},i("created",r,a,l,c)},beforeMount:function(r,a,l,c){rt._loadStyles(r,a,l),i("beforeMount",r,a,l,c),o(r)},mounted:function(r,a,l,c){rt._loadStyles(r,a,l),i("mounted",r,a,l,c)},beforeUpdate:function(r,a,l,c){i("beforeUpdate",r,a,l,c)},updated:function(r,a,l,c){rt._loadStyles(r,a,l),i("updated",r,a,l,c)},beforeUnmount:function(r,a,l,c){i("beforeUnmount",r,a,l,c)},unmounted:function(r,a,l,c){var u;(u=r.$instance)===null||u===void 0||(u=u.scopedStyleEl)===null||u===void 0||(u=u.value)===null||u===void 0||u.remove(),i("unmounted",r,a,l,c)}}},extend:function(){var e=rt._getMeta.apply(rt,arguments),n=vO(e,2),i=n[0],o=n[1];return mt({extend:function(){var r=rt._getMeta.apply(rt,arguments),a=vO(r,2),l=a[0],c=a[1];return rt.extend(l,mt(mt(mt({},o),o==null?void 0:o.methods),c))}},rt._extend(i,o))}},D3=function(e){var n=e.dt;return`
.p-ink {
    display: block;
    position: absolute;
    background: `.concat(n("ripple.background"),`;
    border-radius: 100%;
    transform: scale(0);
    pointer-events: none;
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`)},L3={root:"p-ink"},$3=en.extend({name:"ripple-directive",theme:D3,classes:L3}),F3=rt.extend({style:$3});function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function V3(t){return U3(t)||j3(t)||B3(t)||W3()}function W3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3(t,e){if(t){if(typeof t=="string")return PR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PR(t,e):void 0}}function j3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U3(t){if(Array.isArray(t))return PR(t)}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function SO(t,e,n){return(e=z3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3(t){var e=Y3(t,"string");return vm(e)=="symbol"?e:e+""}function Y3(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(vm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G3=F3.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var n=SU("span",SO(SO({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root")));e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,i=e.currentTarget,o=this.getInk(i);if(!(!o||getComputedStyle(o,null).display==="none")){if(!this.isUnstyled()&&wS(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"),!PP(o)&&!OP(o)){var s=Math.max(CU(i),TU(i));o.style.height=s+"px",o.style.width=s+"px"}var r=EU(i),a=e.pageX-r.left+document.body.scrollTop-OP(o)/2,l=e.pageY-r.top+document.body.scrollLeft-PP(o)/2;o.style.top=l+"px",o.style.left=a+"px",!this.isUnstyled()&&yU(o,"p-ink-active"),o.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){o&&(!n.isUnstyled()&&wS(o,"p-ink-active"),o.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&wS(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?V3(e.children).find(function(n){return RU(n,"data-pc-name")==="ripple"}):void 0}}});function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Ws(t,e,n){return(e=K3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3(t){var e=q3(t,"string");return ym(e)=="symbol"?e:e+""}function q3(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(ym(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X3=function(e){var n=e.dt;return`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: `.concat(n("button.primary.color"),`;
    background: `).concat(n("button.primary.background"),`;
    border: 1px solid `).concat(n("button.primary.border.color"),`;
    padding: `).concat(n("button.padding.y")," ").concat(n("button.padding.x"),`;
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background `).concat(n("button.transition.duration"),", color ").concat(n("button.transition.duration"),", border-color ").concat(n("button.transition.duration"),`,
            outline-color `).concat(n("button.transition.duration"),", box-shadow ").concat(n("button.transition.duration"),`;
    border-radius: `).concat(n("button.border.radius"),`;
    outline-color: transparent;
    gap: `).concat(n("button.gap"),`;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: `).concat(n("button.icon.only.width"),`;
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: `).concat(n("button.icon.only.width"),`;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: `).concat(n("button.sm.font.size"),`;
    padding: `).concat(n("button.sm.padding.y")," ").concat(n("button.sm.padding.x"),`;
}

.p-button-sm .p-button-icon {
    font-size: `).concat(n("button.sm.font.size"),`;
}

.p-button-lg {
    font-size: `).concat(n("button.lg.font.size"),`;
    padding: `).concat(n("button.lg.padding.y")," ").concat(n("button.lg.padding.x"),`;
}

.p-button-lg .p-button-icon {
    font-size: `).concat(n("button.lg.font.size"),`;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: `).concat(n("button.label.font.weight"),`;
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: `).concat(n("button.icon.only.width"),`;
}

.p-button:not(:disabled):hover {
    background: `).concat(n("button.primary.hover.background"),`;
    border: 1px solid `).concat(n("button.primary.hover.border.color"),`;
    color: `).concat(n("button.primary.hover.color"),`;
}

.p-button:not(:disabled):active {
    background: `).concat(n("button.primary.active.background"),`;
    border: 1px solid `).concat(n("button.primary.active.border.color"),`;
    color: `).concat(n("button.primary.active.color"),`;
}

.p-button:focus-visible {
    box-shadow: `).concat(n("button.primary.focus.ring.shadow"),`;
    outline: `).concat(n("button.focus.ring.width")," ").concat(n("button.focus.ring.style")," ").concat(n("button.primary.focus.ring.color"),`;
    outline-offset: `).concat(n("button.focus.ring.offset"),`;
}

.p-button .p-badge {
    min-width: `).concat(n("button.badge.size"),`;
    height: `).concat(n("button.badge.size"),`;
    line-height: `).concat(n("button.badge.size"),`;
}

.p-button-raised {
    box-shadow: `).concat(n("button.raised.shadow"),`;
}

.p-button-rounded {
    border-radius: `).concat(n("button.rounded.border.radius"),`;
}

.p-button-secondary {
    background: `).concat(n("button.secondary.background"),`;
    border: 1px solid `).concat(n("button.secondary.border.color"),`;
    color: `).concat(n("button.secondary.color"),`;
}

.p-button-secondary:not(:disabled):hover {
    background: `).concat(n("button.secondary.hover.background"),`;
    border: 1px solid `).concat(n("button.secondary.hover.border.color"),`;
    color: `).concat(n("button.secondary.hover.color"),`;
}

.p-button-secondary:not(:disabled):active {
    background: `).concat(n("button.secondary.active.background"),`;
    border: 1px solid `).concat(n("button.secondary.active.border.color"),`;
    color: `).concat(n("button.secondary.active.color"),`;
}

.p-button-secondary:focus-visible {
    outline-color: `).concat(n("button.secondary.focus.ring.color"),`;
    box-shadow: `).concat(n("button.secondary.focus.ring.shadow"),`;
}

.p-button-success {
    background: `).concat(n("button.success.background"),`;
    border: 1px solid `).concat(n("button.success.border.color"),`;
    color: `).concat(n("button.success.color"),`;
}

.p-button-success:not(:disabled):hover {
    background: `).concat(n("button.success.hover.background"),`;
    border: 1px solid `).concat(n("button.success.hover.border.color"),`;
    color: `).concat(n("button.success.hover.color"),`;
}

.p-button-success:not(:disabled):active {
    background: `).concat(n("button.success.active.background"),`;
    border: 1px solid `).concat(n("button.success.active.border.color"),`;
    color: `).concat(n("button.success.active.color"),`;
}

.p-button-success:focus-visible {
    outline-color: `).concat(n("button.success.focus.ring.color"),`;
    box-shadow: `).concat(n("button.success.focus.ring.shadow"),`;
}

.p-button-info {
    background: `).concat(n("button.info.background"),`;
    border: 1px solid `).concat(n("button.info.border.color"),`;
    color: `).concat(n("button.info.color"),`;
}

.p-button-info:not(:disabled):hover {
    background: `).concat(n("button.info.hover.background"),`;
    border: 1px solid `).concat(n("button.info.hover.border.color"),`;
    color: `).concat(n("button.info.hover.color"),`;
}

.p-button-info:not(:disabled):active {
    background: `).concat(n("button.info.active.background"),`;
    border: 1px solid `).concat(n("button.info.active.border.color"),`;
    color: `).concat(n("button.info.active.color"),`;
}

.p-button-info:focus-visible {
    outline-color: `).concat(n("button.info.focus.ring.color"),`;
    box-shadow: `).concat(n("button.info.focus.ring.shadow"),`;
}

.p-button-warn {
    background: `).concat(n("button.warn.background"),`;
    border: 1px solid `).concat(n("button.warn.border.color"),`;
    color: `).concat(n("button.warn.color"),`;
}

.p-button-warn:not(:disabled):hover {
    background: `).concat(n("button.warn.hover.background"),`;
    border: 1px solid `).concat(n("button.warn.hover.border.color"),`;
    color: `).concat(n("button.warn.hover.color"),`;
}

.p-button-warn:not(:disabled):active {
    background: `).concat(n("button.warn.active.background"),`;
    border: 1px solid `).concat(n("button.warn.active.border.color"),`;
    color: `).concat(n("button.warn.active.color"),`;
}

.p-button-warn:focus-visible {
    outline-color: `).concat(n("button.warn.focus.ring.color"),`;
    box-shadow: `).concat(n("button.warn.focus.ring.shadow"),`;
}

.p-button-help {
    background: `).concat(n("button.help.background"),`;
    border: 1px solid `).concat(n("button.help.border.color"),`;
    color: `).concat(n("button.help.color"),`;
}

.p-button-help:not(:disabled):hover {
    background: `).concat(n("button.help.hover.background"),`;
    border: 1px solid `).concat(n("button.help.hover.border.color"),`;
    color: `).concat(n("button.help.hover.color"),`;
}

.p-button-help:not(:disabled):active {
    background: `).concat(n("button.help.active.background"),`;
    border: 1px solid `).concat(n("button.help.active.border.color"),`;
    color: `).concat(n("button.help.active.color"),`;
}

.p-button-help:focus-visible {
    outline-color: `).concat(n("button.help.focus.ring.color"),`;
    box-shadow: `).concat(n("button.help.focus.ring.shadow"),`;
}

.p-button-danger {
    background: `).concat(n("button.danger.background"),`;
    border: 1px solid `).concat(n("button.danger.border.color"),`;
    color: `).concat(n("button.danger.color"),`;
}

.p-button-danger:not(:disabled):hover {
    background: `).concat(n("button.danger.hover.background"),`;
    border: 1px solid `).concat(n("button.danger.hover.border.color"),`;
    color: `).concat(n("button.danger.hover.color"),`;
}

.p-button-danger:not(:disabled):active {
    background: `).concat(n("button.danger.active.background"),`;
    border: 1px solid `).concat(n("button.danger.active.border.color"),`;
    color: `).concat(n("button.danger.active.color"),`;
}

.p-button-danger:focus-visible {
    outline-color: `).concat(n("button.danger.focus.ring.color"),`;
    box-shadow: `).concat(n("button.danger.focus.ring.shadow"),`;
}

.p-button-contrast {
    background: `).concat(n("button.contrast.background"),`;
    border: 1px solid `).concat(n("button.contrast.border.color"),`;
    color: `).concat(n("button.contrast.color"),`;
}

.p-button-contrast:not(:disabled):hover {
    background: `).concat(n("button.contrast.hover.background"),`;
    border: 1px solid `).concat(n("button.contrast.hover.border.color"),`;
    color: `).concat(n("button.contrast.hover.color"),`;
}

.p-button-contrast:not(:disabled):active {
    background: `).concat(n("button.contrast.active.background"),`;
    border: 1px solid `).concat(n("button.contrast.active.border.color"),`;
    color: `).concat(n("button.contrast.active.color"),`;
}

.p-button-contrast:focus-visible {
    outline-color: `).concat(n("button.contrast.focus.ring.color"),`;
    box-shadow: `).concat(n("button.contrast.focus.ring.shadow"),`;
}

.p-button-outlined {
    background: transparent;
    border-color: `).concat(n("button.outlined.primary.border.color"),`;
    color: `).concat(n("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):hover {
    background: `).concat(n("button.outlined.primary.hover.background"),`;
    border-color: `).concat(n("button.outlined.primary.border.color"),`;
    color: `).concat(n("button.outlined.primary.color"),`;
}

.p-button-outlined:not(:disabled):active {
    background: `).concat(n("button.outlined.primary.active.background"),`;
    border-color: `).concat(n("button.outlined.primary.border.color"),`;
    color: `).concat(n("button.outlined.primary.color"),`;
}

.p-button-outlined.p-button-secondary {
    border-color: `).concat(n("button.outlined.secondary.border.color"),`;
    color: `).concat(n("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: `).concat(n("button.outlined.secondary.hover.background"),`;
    border-color: `).concat(n("button.outlined.secondary.border.color"),`;
    color: `).concat(n("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: `).concat(n("button.outlined.secondary.active.background"),`;
    border-color: `).concat(n("button.outlined.secondary.border.color"),`;
    color: `).concat(n("button.outlined.secondary.color"),`;
}

.p-button-outlined.p-button-success {
    border-color: `).concat(n("button.outlined.success.border.color"),`;
    color: `).concat(n("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: `).concat(n("button.outlined.success.hover.background"),`;
    border-color: `).concat(n("button.outlined.success.border.color"),`;
    color: `).concat(n("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: `).concat(n("button.outlined.success.active.background"),`;
    border-color: `).concat(n("button.outlined.success.border.color"),`;
    color: `).concat(n("button.outlined.success.color"),`;
}

.p-button-outlined.p-button-info {
    border-color: `).concat(n("button.outlined.info.border.color"),`;
    color: `).concat(n("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: `).concat(n("button.outlined.info.hover.background"),`;
    border-color: `).concat(n("button.outlined.info.border.color"),`;
    color: `).concat(n("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: `).concat(n("button.outlined.info.active.background"),`;
    border-color: `).concat(n("button.outlined.info.border.color"),`;
    color: `).concat(n("button.outlined.info.color"),`;
}

.p-button-outlined.p-button-warn {
    border-color: `).concat(n("button.outlined.warn.border.color"),`;
    color: `).concat(n("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: `).concat(n("button.outlined.warn.hover.background"),`;
    border-color: `).concat(n("button.outlined.warn.border.color"),`;
    color: `).concat(n("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: `).concat(n("button.outlined.warn.active.background"),`;
    border-color: `).concat(n("button.outlined.warn.border.color"),`;
    color: `).concat(n("button.outlined.warn.color"),`;
}

.p-button-outlined.p-button-help {
    border-color: `).concat(n("button.outlined.help.border.color"),`;
    color: `).concat(n("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: `).concat(n("button.outlined.help.hover.background"),`;
    border-color: `).concat(n("button.outlined.help.border.color"),`;
    color: `).concat(n("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: `).concat(n("button.outlined.help.active.background"),`;
    border-color: `).concat(n("button.outlined.help.border.color"),`;
    color: `).concat(n("button.outlined.help.color"),`;
}

.p-button-outlined.p-button-danger {
    border-color: `).concat(n("button.outlined.danger.border.color"),`;
    color: `).concat(n("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: `).concat(n("button.outlined.danger.hover.background"),`;
    border-color: `).concat(n("button.outlined.danger.border.color"),`;
    color: `).concat(n("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: `).concat(n("button.outlined.danger.active.background"),`;
    border-color: `).concat(n("button.outlined.danger.border.color"),`;
    color: `).concat(n("button.outlined.danger.color"),`;
}

.p-button-outlined.p-button-contrast {
    border-color: `).concat(n("button.outlined.contrast.border.color"),`;
    color: `).concat(n("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: `).concat(n("button.outlined.contrast.hover.background"),`;
    border-color: `).concat(n("button.outlined.contrast.border.color"),`;
    color: `).concat(n("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: `).concat(n("button.outlined.contrast.active.background"),`;
    border-color: `).concat(n("button.outlined.contrast.border.color"),`;
    color: `).concat(n("button.outlined.contrast.color"),`;
}

.p-button-outlined.p-button-plain {
    border-color: `).concat(n("button.outlined.plain.border.color"),`;
    color: `).concat(n("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: `).concat(n("button.outlined.plain.hover.background"),`;
    border-color: `).concat(n("button.outlined.plain.border.color"),`;
    color: `).concat(n("button.outlined.plain.color"),`;
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: `).concat(n("button.outlined.plain.active.background"),`;
    border-color: `).concat(n("button.outlined.plain.border.color"),`;
    color: `).concat(n("button.outlined.plain.color"),`;
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):hover {
    background: `).concat(n("button.text.primary.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.primary.color"),`;
}

.p-button-text:not(:disabled):active {
    background: `).concat(n("button.text.primary.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.primary.color"),`;
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: `).concat(n("button.text.secondary.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.secondary.color"),`;
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: `).concat(n("button.text.secondary.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.secondary.color"),`;
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: `).concat(n("button.text.success.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.success.color"),`;
}

.p-button-text.p-button-success:not(:disabled):active {
    background: `).concat(n("button.text.success.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.success.color"),`;
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: `).concat(n("button.text.info.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.info.color"),`;
}

.p-button-text.p-button-info:not(:disabled):active {
    background: `).concat(n("button.text.info.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.info.color"),`;
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: `).concat(n("button.text.warn.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.warn.color"),`;
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: `).concat(n("button.text.warn.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.warn.color"),`;
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: `).concat(n("button.text.help.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.help.color"),`;
}

.p-button-text.p-button-help:not(:disabled):active {
    background: `).concat(n("button.text.help.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.help.color"),`;
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: `).concat(n("button.text.danger.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.danger.color"),`;
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: `).concat(n("button.text.danger.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.danger.color"),`;
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: `).concat(n("button.text.contrast.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.contrast.color"),`;
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: `).concat(n("button.text.contrast.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.contrast.color"),`;
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: `).concat(n("button.text.plain.hover.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.plain.color"),`;
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: `).concat(n("button.text.plain.active.background"),`;
    border-color: transparent;
    color: `).concat(n("button.text.plain.color"),`;
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.link.color"),`;
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.link.hover.color"),`;
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: `).concat(n("button.link.active.color"),`;
}
`)},Z3={root:function(e){var n=e.instance,i=e.props;return["p-button p-component",Ws(Ws(Ws(Ws(Ws(Ws(Ws(Ws(Ws({"p-button-icon-only":n.hasIcon&&!i.label&&!i.badge,"p-button-vertical":(i.iconPos==="top"||i.iconPos==="bottom")&&i.label,"p-button-loading":i.loading,"p-button-link":i.link||i.variant==="link"},"p-button-".concat(i.severity),i.severity),"p-button-raised",i.raised),"p-button-rounded",i.rounded),"p-button-text",i.text||i.variant==="text"),"p-button-outlined",i.outlined||i.variant==="outlined"),"p-button-sm",i.size==="small"),"p-button-lg",i.size==="large"),"p-button-plain",i.plain),"p-button-fluid",n.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var n=e.props;return["p-button-icon",Ws({},"p-button-icon-".concat(n.iconPos),n.label)]},label:"p-button-label"},J3=en.extend({name:"button",theme:X3,classes:Z3}),Q3={name:"BaseButton",extends:cC,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:J3,provide:function(){return{$pcButton:this,$parentInstance:this}}},RE={name:"Button",extends:Q3,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return oi(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return Eu(this.fluid)?!!this.$pcFluid:this.fluid}},components:{SpinnerIcon:s$,Badge:r$},directives:{ripple:G3}};function eG(t,e,n,i,o,s){var r=_r("SpinnerIcon"),a=_r("Badge"),l=Az("ripple");return t.asChild?$h(t.$slots,"default",{key:1,class:fu(t.cx("root")),a11yAttrs:s.a11yAttrs}):_g((We(),lu(Iz(t.as),oi({key:0,class:t.cx("root")},s.attrs),{default:Lh(function(){return[$h(t.$slots,"default",{},function(){return[t.loading?$h(t.$slots,"loadingicon",oi({key:0,class:[t.cx("loadingIcon"),t.cx("icon")]},t.ptm("loadingIcon")),function(){return[t.loadingIcon?(We(),qe("span",oi({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(We(),lu(r,oi({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):$h(t.$slots,"icon",oi({key:1,class:[t.cx("icon")]},t.ptm("icon")),function(){return[t.icon?(We(),qe("span",oi({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):mu("",!0)]}),le("span",oi({class:t.cx("label")},t.ptm("label")),Cn(t.label||" "),17),t.badge?(We(),lu(a,{key:2,value:t.badge,class:fu(t.badgeClass),severity:t.badgeSeverity,unstyled:t.unstyled,pt:t.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):mu("",!0)]})]}),_:3},16,["class"])),[[l]])}RE.render=eG;var hi={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(i){tG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function tG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=iG(t,"string");return Cm(e)=="symbol"?e:e+""}function iG(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Cm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oG={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[hi.STARTS_WITH,hi.CONTAINS,hi.NOT_CONTAINS,hi.ENDS_WITH,hi.EQUALS,hi.NOT_EQUALS],numeric:[hi.EQUALS,hi.NOT_EQUALS,hi.LESS_THAN,hi.LESS_THAN_OR_EQUAL_TO,hi.GREATER_THAN,hi.GREATER_THAN_OR_EQUAL_TO],date:[hi.DATE_IS,hi.DATE_IS_NOT,hi.DATE_BEFORE,hi.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},sG=Symbol();function rG(t,e){var n={config:Qm(e)};return t.config.globalProperties.$primevue=n,t.provide(sG,n),aG(),lG(t,n),n}var Wh=[];function aG(){bs.clear(),Wh.forEach(function(t){return t==null?void 0:t()}),Wh=[]}function lG(t,e){var n=Pa(!1),i=function(){var c;if(((c=e.config)===null||c===void 0?void 0:c.theme)!=="none"&&!$t.isStyleNameLoaded("common")){var u,h,d=((u=en.getCommonTheme)===null||u===void 0?void 0:u.call(en))||{},f=d.primitive,g=d.semantic,m=d.global,w=d.style,b={nonce:(h=e.config)===null||h===void 0||(h=h.csp)===null||h===void 0?void 0:h.nonce};en.load(f==null?void 0:f.css,jp({name:"primitive-variables"},b)),en.load(g==null?void 0:g.css,jp({name:"semantic-variables"},b)),en.load(m==null?void 0:m.css,jp({name:"global-variables"},b)),en.loadTheme(jp({name:"global-style"},b),w),$t.setLoadedStyleName("common")}};bs.on("theme:change",function(l){n.value||(t.config.globalProperties.$primevue.config.theme=l,n.value=!0)});var o=Rr(e.config,function(l,c){Vh.emit("config:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),s=Rr(function(){return e.config.ripple},function(l,c){Vh.emit("config:ripple:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),r=Rr(function(){return e.config.theme},function(l,c){n.value||$t.setTheme(l),e.config.unstyled||i(),n.value=!1,Vh.emit("config:theme:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!1}),a=Rr(function(){return e.config.unstyled},function(l,c){!l&&e.config.theme&&i(),Vh.emit("config:unstyled:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0});Wh.push(o),Wh.push(s),Wh.push(r),Wh.push(a)}var cG={install:function(e,n){var i=aU(oG,n);rG(e,i)}},uG={name:"BaseEditableHolder",extends:cC,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(e){this.d_value=e},defaultValue:function(e){this.d_value=e},$formName:{immediate:!0,handler:function(e){var n,i;this.formField=((n=this.$pcForm)===null||n===void 0||(i=n.register)===null||i===void 0?void 0:i.call(n,e,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(e){var n,i;this.formField=((n=this.$pcForm)===null||n===void 0||(i=n.register)===null||i===void 0?void 0:i.call(n,this.$formName,e))||{}}},$formDefaultValue:{immediate:!0,handler:function(e){this.d_value!==e&&(this.d_value=e)}}},formField:{},methods:{writeValue:function(e,n){var i,o;this.controlled&&(this.d_value=e,this.$emit("update:modelValue",e)),this.$emit("value-change",e),(i=(o=this.formField).onChange)===null||i===void 0||i.call(o,{originalEvent:n,value:e})}},computed:{$filled:function(){return Ut(this.d_value)},$invalid:function(){var e,n,i,o;return(e=(n=this.invalid)!==null&&n!==void 0?n:(i=this.$pcFormField)===null||i===void 0||(i=i.$field)===null||i===void 0?void 0:i.invalid)!==null&&e!==void 0?e:(o=this.$pcForm)===null||o===void 0||(o=o.states)===null||o===void 0||(o=o[this.$formName])===null||o===void 0?void 0:o.invalid},$formName:function(){var e;return this.name||((e=this.$formControl)===null||e===void 0?void 0:e.name)},$formControl:function(){var e;return this.formControl||((e=this.$pcFormField)===null||e===void 0?void 0:e.formControl)},$formDefaultValue:function(){var e,n,i,o;return(e=(n=this.d_value)!==null&&n!==void 0?n:(i=this.$pcFormField)===null||i===void 0?void 0:i.initialValue)!==null&&e!==void 0?e:(o=this.$pcForm)===null||o===void 0||(o=o.initialValues)===null||o===void 0?void 0:o[this.$formName]},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},hG={name:"BaseInput",extends:uG,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var e;return(e=this.variant)!==null&&e!==void 0?e:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var e;return(e=this.fluid)!==null&&e!==void 0?e:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},dG=function(e){var n=e.dt;return`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(n("inputtext.color"),`;
    background: `).concat(n("inputtext.background"),`;
    padding-block: `).concat(n("inputtext.padding.y"),`;
    padding-inline: `).concat(n("inputtext.padding.x"),`;
    border: 1px solid `).concat(n("inputtext.border.color"),`;
    transition: background `).concat(n("inputtext.transition.duration"),", color ").concat(n("inputtext.transition.duration"),", border-color ").concat(n("inputtext.transition.duration"),", outline-color ").concat(n("inputtext.transition.duration"),", box-shadow ").concat(n("inputtext.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(n("inputtext.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(n("inputtext.shadow"),`;
}

.p-inputtext:enabled:hover {
    border-color: `).concat(n("inputtext.hover.border.color"),`;
}

.p-inputtext:enabled:focus {
    border-color: `).concat(n("inputtext.focus.border.color"),`;
    box-shadow: `).concat(n("inputtext.focus.ring.shadow"),`;
    outline: `).concat(n("inputtext.focus.ring.width")," ").concat(n("inputtext.focus.ring.style")," ").concat(n("inputtext.focus.ring.color"),`;
    outline-offset: `).concat(n("inputtext.focus.ring.offset"),`;
}

.p-inputtext.p-invalid {
    border-color: `).concat(n("inputtext.invalid.border.color"),`;
}

.p-inputtext.p-variant-filled {
    background: `).concat(n("inputtext.filled.background"),`;
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: `).concat(n("inputtext.filled.hover.background"),`;
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: `).concat(n("inputtext.filled.focus.background"),`;
}

.p-inputtext:disabled {
    opacity: 1;
    background: `).concat(n("inputtext.disabled.background"),`;
    color: `).concat(n("inputtext.disabled.color"),`;
}

.p-inputtext::placeholder {
    color: `).concat(n("inputtext.placeholder.color"),`;
}

.p-inputtext.p-invalid::placeholder {
    color: `).concat(n("inputtext.invalid.placeholder.color"),`;
}

.p-inputtext-sm {
    font-size: `).concat(n("inputtext.sm.font.size"),`;
    padding-block: `).concat(n("inputtext.sm.padding.y"),`;
    padding-inline: `).concat(n("inputtext.sm.padding.x"),`;
}

.p-inputtext-lg {
    font-size: `).concat(n("inputtext.lg.font.size"),`;
    padding-block: `).concat(n("inputtext.lg.padding.y"),`;
    padding-inline: `).concat(n("inputtext.lg.padding.x"),`;
}

.p-inputtext-fluid {
    width: 100%;
}
`)},fG={root:function(e){var n=e.instance,i=e.props;return["p-inputtext p-component",{"p-filled":n.$filled,"p-inputtext-sm p-inputfield-sm":i.size==="small","p-inputtext-lg p-inputfield-lg":i.size==="large","p-invalid":n.$invalid,"p-variant-filled":n.$variant==="filled","p-inputtext-fluid":n.$fluid}]}},gG=en.extend({name:"inputtext",theme:dG,classes:fG}),mG={name:"BaseInputText",extends:hG,style:gG,provide:function(){return{$pcInputText:this,$parentInstance:this}}},a$={name:"InputText",extends:mG,inheritAttrs:!1,methods:{onInput:function(e){this.writeValue(e.target.value,e)}},computed:{attrs:function(){return oi(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)}}},pG=["value","disabled","aria-invalid"];function wG(t,e,n,i,o,s){return We(),qe("input",oi({type:"text",class:t.cx("root"),value:t.d_value,disabled:t.disabled,"aria-invalid":t.$invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.attrs),null,16,pG)}a$.render=wG;const bG=()=>{const t=Pa(localStorage.getItem("theme")||"system"),e=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",n=s=>{t.value=s,localStorage.setItem("theme",s);const r=s==="system"?e():s;document.documentElement.setAttribute("data-theme",r)},i=window.matchMedia("(prefers-color-scheme: dark)"),o=s=>{t.value==="system"&&document.documentElement.setAttribute("data-theme",s.matches?"dark":"light")};return ip(()=>{n(t.value),i.addEventListener("change",o)}),op(()=>{i.removeEventListener("change",o)}),{theme:t,updateTheme:n}},RO="/sologger/sologger_header.png",Yl=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},vG={name:"App",setup(){const{theme:t,updateTheme:e}=bG(),n=Pa(!1),i=Pa(!1),o=Fo(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),s=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}],r=[{to:"/",text:"Home"},{to:"/convert",text:"Convert Logs"},{to:"/about",text:"About"}],a=()=>{n.value=!n.value},l=u=>{e(u),n.value=!1},c=u=>{n.value&&!u.target.closest(".theme-toggle")&&(n.value=!1)};return window.addEventListener("click",c),op(()=>{window.removeEventListener("click",c)}),{theme:t,isDarkSystem:o,isThemeMenuOpen:n,isMobileMenuOpen:i,themeOptions:s,navigationLinks:r,toggleThemeMenu:a,selectTheme:l}}},yG={class:"app"},CG={class:"p-2 mb-6 relative"},SG={class:"container mx-auto"},_G={class:"md:hidden flex items-center justify-between"},RG={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},xG={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},EG={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},TG={class:"hidden md:flex items-center justify-between"},MG={class:"flex items-center gap-6"},PG={class:"flex items-center gap-4"},OG={class:"relative theme-toggle"},IG=["aria-label"],AG={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},HG={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kG={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},NG={key:0,class:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-surface-800 ring-1 ring-black ring-opacity-5 z-50"},DG={class:"py-1",role:"menu"},LG=["onClick"],$G={key:0,class:"md:hidden absolute top-full left-0 right-0 bg-surface-800 z-50"},FG={class:"px-2 pt-2 pb-3 space-y-1"},VG={class:"px-4 py-3 border-t border-surface-700"},WG={class:"flex items-center justify-between"},BG={class:"theme-toggle"},jG=["onClick"];function UG(t,e,n,i,o,s){const r=_r("router-link"),a=_r("router-view");return We(),qe("div",yG,[le("nav",CG,[le("div",SG,[le("div",_G,[le("button",{onClick:e[0]||(e[0]=l=>i.isMobileMenuOpen=!i.isMobileMenuOpen),class:"text-surface-50 p-2","aria-label":"Toggle menu"},[(We(),qe("svg",RG,[i.isMobileMenuOpen?(We(),qe("path",EG)):(We(),qe("path",xG))]))]),e[3]||(e[3]=le("div",{class:"flex items-center"},[le("span",{class:"text-xl font-bold text-primary-400"},[le("img",{src:RO,alt:"Sologger",class:"h-8"})])],-1)),e[4]||(e[4]=le("div",{class:"w-8"},null,-1))]),le("div",TG,[le("div",MG,[tn(r,{to:"/",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Lh(()=>e[5]||(e[5]=[Fh(" Home ")])),_:1}),tn(r,{to:"/convert",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Lh(()=>e[6]||(e[6]=[Fh(" Convert Logs ")])),_:1}),tn(r,{to:"/about",class:"text-surface-50 hover:text-primary-400 transition-colors"},{default:Lh(()=>e[7]||(e[7]=[Fh(" About ")])),_:1})]),e[12]||(e[12]=le("div",{class:"flex items-center"},[le("span",{class:"text-2xl font-bold text-primary-400"},[le("img",{src:RO,alt:"Sologger"})])],-1)),le("div",PG,[le("div",OG,[le("button",{type:"button",onClick:e[1]||(e[1]=t$((...l)=>i.toggleThemeMenu&&i.toggleThemeMenu(...l),["stop"])),class:"p-2 rounded-full bg-surface-800 hover:bg-surface-700 transition-colors","aria-label":"Current theme: "+i.theme},[i.theme==="light"?(We(),qe("svg",AG,e[8]||(e[8]=[le("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):i.theme==="dark"?(We(),qe("svg",HG,e[9]||(e[9]=[le("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(We(),qe("svg",kG,e[10]||(e[10]=[le("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])))],8,IG),i.isThemeMenuOpen?(We(),qe("div",NG,[le("div",DG,[(We(!0),qe(Yn,null,td(i.themeOptions,l=>(We(),qe("button",{key:l.value,type:"button",onClick:c=>i.selectTheme(l.value),class:fu(["w-full text-left px-4 py-2 text-sm text-gray-100 hover:bg-surface-700 transition-colors",{"bg-surface-800":i.theme===l.value}]),role:"menuitem"},Cn(l.label),11,LG))),128))])])):mu("",!0)]),e[11]||(e[11]=le("a",{href:"https://github.com/brytelands/sologger",target:"_blank",rel:"noopener noreferrer",class:"text-surface-50 hover:text-primary-400 transition-colors"},[le("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[le("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})])],-1))])]),i.isMobileMenuOpen?(We(),qe("div",$G,[le("div",FG,[(We(!0),qe(Yn,null,td(i.navigationLinks,l=>(We(),lu(r,{key:l.to,to:l.to,class:"block px-3 py-2 rounded-md text-surface-50 hover:text-primary-400 transition-colors",onClick:e[2]||(e[2]=c=>i.isMobileMenuOpen=!1)},{default:Lh(()=>[Fh(Cn(l.text),1)]),_:2},1032,["to"]))),128))]),le("div",VG,[le("div",WG,[le("div",BG,[(We(!0),qe(Yn,null,td(i.themeOptions,l=>(We(),qe("button",{key:l.value,type:"button",onClick:c=>i.selectTheme(l.value),class:fu(["mr-3 text-sm text-gray-100",{"text-primary-400":i.theme===l.value}])},Cn(l.label),11,jG))),128))]),e[13]||(e[13]=le("a",{href:"https://github.com/brytelands/sologger",target:"_blank",rel:"noopener noreferrer",class:"text-surface-50 hover:text-primary-400 transition-colors"},[le("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[le("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})])],-1))])])])):mu("",!0)])]),tn(a)])}const zG=Yl(vG,[["render",UG]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Oh=typeof document<"u";function l$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function YG(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&l$(t.default)}const It=Object.assign;function PS(t,e){const n={};for(const i in e){const o=e[i];n[i]=Os(o)?o.map(t):t(o)}return n}const Eg=()=>{},Os=Array.isArray,c$=/#/g,GG=/&/g,KG=/\//g,qG=/=/g,XG=/\?/g,u$=/\+/g,ZG=/%5B/g,JG=/%5D/g,h$=/%5E/g,QG=/%60/g,d$=/%7B/g,e4=/%7C/g,f$=/%7D/g,t4=/%20/g;function xE(t){return encodeURI(""+t).replace(e4,"|").replace(ZG,"[").replace(JG,"]")}function n4(t){return xE(t).replace(d$,"{").replace(f$,"}").replace(h$,"^")}function OR(t){return xE(t).replace(u$,"%2B").replace(t4,"+").replace(c$,"%23").replace(GG,"%26").replace(QG,"`").replace(d$,"{").replace(f$,"}").replace(h$,"^")}function i4(t){return OR(t).replace(qG,"%3D")}function o4(t){return xE(t).replace(c$,"%23").replace(XG,"%3F")}function s4(t){return t==null?"":o4(t).replace(KG,"%2F")}function Sm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const r4=/\/$/,a4=t=>t.replace(r4,"");function OS(t,e,n="/"){let i,o={},s="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),o=t(s)),a>-1&&(i=i||e.slice(0,a),r=e.slice(a,e.length)),i=h4(i??e,n),{fullPath:i+(s&&"?")+s+r,path:i,query:o,hash:Sm(r)}}function l4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function xO(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function c4(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&md(e.matched[i],n.matched[o])&&g$(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function md(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function g$(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!u4(t[n],e[n]))return!1;return!0}function u4(t,e){return Os(t)?EO(t,e):Os(e)?EO(e,t):t===e}function EO(t,e){return Os(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function h4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,r,a;for(r=0;r<i.length;r++)if(a=i[r],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(r).join("/")}const za={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _m;(function(t){t.pop="pop",t.push="push"})(_m||(_m={}));var Tg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tg||(Tg={}));function d4(t){if(!t)if(Oh){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),a4(t)}const f4=/^[^#]+#/;function g4(t,e){return t.replace(f4,"#")+e}function m4(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const uC=()=>({left:window.scrollX,top:window.scrollY});function p4(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=m4(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function TO(t,e){return(history.state?history.state.position-e:-1)+t}const IR=new Map;function w4(t,e){IR.set(t,e)}function b4(t){const e=IR.get(t);return IR.delete(t),e}let v4=()=>location.protocol+"//"+location.host;function m$(t,e){const{pathname:n,search:i,hash:o}=e,s=t.indexOf("#");if(s>-1){let a=o.includes(t.slice(s))?t.slice(s).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),xO(l,"")}return xO(n,t)+i+o}function y4(t,e,n,i){let o=[],s=[],r=null;const a=({state:d})=>{const f=m$(t,location),g=n.value,m=e.value;let w=0;if(d){if(n.value=f,e.value=d,r&&r===g){r=null;return}w=m?d.position-m.position:0}else i(f);o.forEach(b=>{b(n.value,g,{delta:w,type:_m.pop,direction:w?w>0?Tg.forward:Tg.back:Tg.unknown})})};function l(){r=n.value}function c(d){o.push(d);const f=()=>{const g=o.indexOf(d);g>-1&&o.splice(g,1)};return s.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(It({},d.state,{scroll:uC()}),"")}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function MO(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?uC():null}}function C4(t){const{history:e,location:n}=window,i={value:m$(t,n)},o={value:e.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:v4()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),o.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function r(l,c){const u=It({},e.state,MO(o.value.back,l,o.value.forward,!0),c,{position:o.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=It({},o.value,e.state,{forward:l,scroll:uC()});s(u.current,u,!0);const h=It({},MO(i.value,l,null),{position:u.position+1},c);s(l,h,!1),i.value=l}return{location:i,state:o,push:a,replace:r}}function S4(t){t=d4(t);const e=C4(t),n=y4(t,e.state,e.location,e.replace);function i(s,r=!0){r||n.pauseListeners(),history.go(s)}const o=It({location:"",base:t,go:i,createHref:g4.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function _4(t){return typeof t=="string"||t&&typeof t=="object"}function p$(t){return typeof t=="string"||typeof t=="symbol"}const w$=Symbol("");var PO;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(PO||(PO={}));function pd(t,e){return It(new Error,{type:t,[w$]:!0},e)}function zr(t,e){return t instanceof Error&&w$ in t&&(e==null||!!(t.type&e))}const OO="[^/]+?",R4={sensitive:!1,strict:!1,start:!0,end:!0},x4=/[.+*?^${}()[\]/\\]/g;function E4(t,e){const n=It({},R4,e),i=[];let o=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(o+="/"),o+=d.value.replace(x4,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:w,regexp:b}=d;s.push({name:g,repeatable:m,optional:w});const C=b||OO;if(C!==OO){f+=10;try{new RegExp(`(${C})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+E.message)}}let y=m?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(y=w&&c.length<2?`(?:/${y})`:"/"+y),w&&(y+="?"),o+=y,f+=20,w&&(f+=-8),m&&(f+=-20),C===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const r=new RegExp(o,n.sensitive?"":"i");function a(c){const u=c.match(r),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=s[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:w}=f,b=g in c?c[g]:"";if(Os(b)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=Os(b)?b.join("/"):b;if(!C)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=C}}return u||"/"}return{re:r,score:i,keys:s,parse:a,stringify:l}}function T4(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function b$(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const s=T4(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(IO(i))return 1;if(IO(o))return-1}return o.length-i.length}function IO(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const M4={type:0,value:""},P4=/[a-zA-Z0-9_]/;function O4(t){if(!t)return[[]];if(t==="/")return[[M4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,i=n;const o=[];let s;function r(){s&&o.push(s),s=[]}let a=0,l,c="",u="";function h(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),r()):l===":"?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:P4.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),r(),o}function I4(t,e,n){const i=E4(O4(t.path),n),o=It(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function A4(t,e){const n=[],i=new Map;e=NO({strict:!1,end:!0,sensitive:!1},e);function o(h){return i.get(h)}function s(h,d,f){const g=!f,m=HO(h);m.aliasOf=f&&f.record;const w=NO(e,h),b=[m];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const T of E)b.push(HO(It({},m,{components:f?f.record.components:m.components,path:T,aliasOf:f?f.record:m})))}let C,y;for(const E of b){const{path:T}=E;if(d&&T[0]!=="/"){const N=d.record.path,D=N[N.length-1]==="/"?"":"/";E.path=d.record.path+(T&&D+T)}if(C=I4(E,d,w),f?f.alias.push(C):(y=y||C,y!==C&&y.alias.push(C),g&&h.name&&!kO(C)&&r(h.name)),v$(C)&&l(C),m.children){const N=m.children;for(let D=0;D<N.length;D++)s(N[D],C,f&&f.children[D])}f=f||C}return y?()=>{r(y)}:Eg}function r(h){if(p$(h)){const d=i.get(h);d&&(i.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(r),d.alias.forEach(r))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&i.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function a(){return n}function l(h){const d=N4(h,n);n.splice(d,0,h),h.record.name&&!kO(h)&&i.set(h.record.name,h)}function c(h,d){let f,g={},m,w;if("name"in h&&h.name){if(f=i.get(h.name),!f)throw pd(1,{location:h});w=f.record.name,g=It(AO(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),h.params&&AO(h.params,f.keys.map(y=>y.name))),m=f.stringify(g)}else if(h.path!=null)m=h.path,f=n.find(y=>y.re.test(m)),f&&(g=f.parse(m),w=f.record.name);else{if(f=d.name?i.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw pd(1,{location:h,currentLocation:d});w=f.record.name,g=It({},d.params,h.params),m=f.stringify(g)}const b=[];let C=f;for(;C;)b.unshift(C.record),C=C.parent;return{name:w,path:m,params:g,matched:b,meta:k4(b)}}t.forEach(h=>s(h));function u(){n.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:o}}function AO(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function HO(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:H4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function H4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function kO(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function k4(t){return t.reduce((e,n)=>It(e,n.meta),{})}function NO(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function N4(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;b$(t,e[s])<0?i=s:n=s+1}const o=D4(t);return o&&(i=e.lastIndexOf(o,i-1)),i}function D4(t){let e=t;for(;e=e.parent;)if(v$(e)&&b$(t,e)===0)return e}function v$({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function L4(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(u$," "),r=s.indexOf("="),a=Sm(r<0?s:s.slice(0,r)),l=r<0?null:Sm(s.slice(r+1));if(a in e){let c=e[a];Os(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function DO(t){let e="";for(let n in t){const i=t[n];if(n=i4(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Os(i)?i.map(s=>s&&OR(s)):[i&&OR(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function $4(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Os(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const F4=Symbol(""),LO=Symbol(""),EE=Symbol(""),y$=Symbol(""),AR=Symbol("");function Kd(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hl(t,e,n,i,o,s=r=>r()){const r=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(pd(4,{from:n,to:e})):d instanceof Error?l(d):_4(d)?l(pd(2,{from:e,to:d})):(r&&i.enterCallbacks[o]===r&&typeof d=="function"&&r.push(d),a())},u=s(()=>t.call(i&&i.instances[o],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function IS(t,e,n,i,o=s=>s()){const s=[];for(const r of t)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(l$(l)){const u=(l.__vccOpts||l)[e];u&&s.push(hl(u,n,i,r,a,o))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const h=YG(u)?u.default:u;r.mods[a]=u,r.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&hl(f,n,i,r,a,o)()}))}}return s}function $O(t){const e=Oa(EE),n=Oa(y$),i=Fo(()=>{const l=Jh(t.to);return e.resolve(l)}),o=Fo(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(md.bind(null,u));if(d>-1)return d;const f=FO(l[c-2]);return c>1&&FO(u)===f&&h[h.length-1].path!==f?h.findIndex(md.bind(null,l[c-2])):d}),s=Fo(()=>o.value>-1&&j4(n.params,i.value.params)),r=Fo(()=>o.value>-1&&o.value===n.matched.length-1&&g$(n.params,i.value.params));function a(l={}){return B4(l)?e[Jh(t.replace)?"replace":"push"](Jh(t.to)).catch(Eg):Promise.resolve()}return{route:i,href:Fo(()=>i.value.href),isActive:s,isExactActive:r,navigate:a}}const V4=Md({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$O,setup(t,{slots:e}){const n=Qm($O(t)),{options:i}=Oa(EE),o=Fo(()=>({[VO(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[VO(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:dm("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),W4=V4;function B4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function j4(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Os(o)||o.length!==i.length||i.some((s,r)=>s!==o[r]))return!1}return!0}function FO(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const VO=(t,e,n)=>t??e??n,U4=Md({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Oa(AR),o=Fo(()=>t.route||i.value),s=Oa(LO,0),r=Fo(()=>{let c=Jh(s);const{matched:u}=o.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Fo(()=>o.value.matched[r.value]);Jb(LO,Fo(()=>r.value+1)),Jb(F4,a),Jb(AR,o);const l=Pa();return Rr(()=>[l.value,a.value,t.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!md(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=o.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return WO(n.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=dm(d,It({},g,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return WO(n.default,{Component:w,route:c})||w}}});function WO(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const z4=U4;function Y4(t){const e=A4(t.routes,t),n=t.parseQuery||L4,i=t.stringifyQuery||DO,o=t.history,s=Kd(),r=Kd(),a=Kd(),l=pE(za);let c=za;Oh&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=PS.bind(null,I=>""+I),h=PS.bind(null,s4),d=PS.bind(null,Sm);function f(I,G){let Q,ie;return p$(I)?(Q=e.getRecordMatcher(I),ie=G):ie=I,e.addRoute(ie,Q)}function g(I){const G=e.getRecordMatcher(I);G&&e.removeRoute(G)}function m(){return e.getRoutes().map(I=>I.record)}function w(I){return!!e.getRecordMatcher(I)}function b(I,G){if(G=It({},G||l.value),typeof I=="string"){const R=OS(n,I,G.path),z=e.resolve({path:R.path},G),te=o.createHref(R.fullPath);return It(R,z,{params:d(z.params),hash:Sm(R.hash),redirectedFrom:void 0,href:te})}let Q;if(I.path!=null)Q=It({},I,{path:OS(n,I.path,G.path).path});else{const R=It({},I.params);for(const z in R)R[z]==null&&delete R[z];Q=It({},I,{params:h(R)}),G.params=h(G.params)}const ie=e.resolve(Q,G),se=I.hash||"";ie.params=u(d(ie.params));const Re=l4(i,It({},I,{hash:n4(se),path:ie.path})),P=o.createHref(Re);return It({fullPath:Re,hash:se,query:i===DO?$4(I.query):I.query||{}},ie,{redirectedFrom:void 0,href:P})}function C(I){return typeof I=="string"?OS(n,I,l.value.path):It({},I)}function y(I,G){if(c!==I)return pd(8,{from:G,to:I})}function E(I){return D(I)}function T(I){return E(It(C(I),{replace:!0}))}function N(I){const G=I.matched[I.matched.length-1];if(G&&G.redirect){const{redirect:Q}=G;let ie=typeof Q=="function"?Q(I):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=C(ie):{path:ie},ie.params={}),It({query:I.query,hash:I.hash,params:ie.path!=null?{}:I.params},ie)}}function D(I,G){const Q=c=b(I),ie=l.value,se=I.state,Re=I.force,P=I.replace===!0,R=N(Q);if(R)return D(It(C(R),{state:typeof R=="object"?It({},se,R.state):se,force:Re,replace:P}),G||Q);const z=Q;z.redirectedFrom=G;let te;return!Re&&c4(i,ie,Q)&&(te=pd(16,{to:z,from:ie}),p(ie,ie,!0,!1)),(te?Promise.resolve(te):q(z,ie)).catch(Z=>zr(Z)?zr(Z,2)?Z:Ne(Z):ae(Z,z,ie)).then(Z=>{if(Z){if(zr(Z,2))return D(It({replace:P},C(Z.to),{state:typeof Z.to=="object"?It({},se,Z.to.state):se,force:Re}),G||z)}else Z=ee(z,ie,!0,P,se);return J(z,ie,Z),Z})}function B(I,G){const Q=y(I,G);return Q?Promise.reject(Q):Promise.resolve()}function K(I){const G=A.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(I):I()}function q(I,G){let Q;const[ie,se,Re]=G4(I,G);Q=IS(ie.reverse(),"beforeRouteLeave",I,G);for(const R of ie)R.leaveGuards.forEach(z=>{Q.push(hl(z,I,G))});const P=B.bind(null,I,G);return Q.push(P),Y(Q).then(()=>{Q=[];for(const R of s.list())Q.push(hl(R,I,G));return Q.push(P),Y(Q)}).then(()=>{Q=IS(se,"beforeRouteUpdate",I,G);for(const R of se)R.updateGuards.forEach(z=>{Q.push(hl(z,I,G))});return Q.push(P),Y(Q)}).then(()=>{Q=[];for(const R of Re)if(R.beforeEnter)if(Os(R.beforeEnter))for(const z of R.beforeEnter)Q.push(hl(z,I,G));else Q.push(hl(R.beforeEnter,I,G));return Q.push(P),Y(Q)}).then(()=>(I.matched.forEach(R=>R.enterCallbacks={}),Q=IS(Re,"beforeRouteEnter",I,G,K),Q.push(P),Y(Q))).then(()=>{Q=[];for(const R of r.list())Q.push(hl(R,I,G));return Q.push(P),Y(Q)}).catch(R=>zr(R,8)?R:Promise.reject(R))}function J(I,G,Q){a.list().forEach(ie=>K(()=>ie(I,G,Q)))}function ee(I,G,Q,ie,se){const Re=y(I,G);if(Re)return Re;const P=G===za,R=Oh?history.state:{};Q&&(ie||P?o.replace(I.fullPath,It({scroll:P&&R&&R.scroll},se)):o.push(I.fullPath,se)),l.value=I,p(I,G,Q,P),Ne()}let re;function me(){re||(re=o.listen((I,G,Q)=>{if(!V.listening)return;const ie=b(I),se=N(ie);if(se){D(It(se,{replace:!0}),ie).catch(Eg);return}c=ie;const Re=l.value;Oh&&w4(TO(Re.fullPath,Q.delta),uC()),q(ie,Re).catch(P=>zr(P,12)?P:zr(P,2)?(D(P.to,ie).then(R=>{zr(R,20)&&!Q.delta&&Q.type===_m.pop&&o.go(-1,!1)}).catch(Eg),Promise.reject()):(Q.delta&&o.go(-Q.delta,!1),ae(P,ie,Re))).then(P=>{P=P||ee(ie,Re,!1),P&&(Q.delta&&!zr(P,8)?o.go(-Q.delta,!1):Q.type===_m.pop&&zr(P,20)&&o.go(-1,!1)),J(ie,Re,P)}).catch(Eg)}))}let pe=Kd(),ye=Kd(),de;function ae(I,G,Q){Ne(I);const ie=ye.list();return ie.length?ie.forEach(se=>se(I,G,Q)):console.error(I),Promise.reject(I)}function we(){return de&&l.value!==za?Promise.resolve():new Promise((I,G)=>{pe.add([I,G])})}function Ne(I){return de||(de=!I,me(),pe.list().forEach(([G,Q])=>I?Q(I):G()),pe.reset()),I}function p(I,G,Q,ie){const{scrollBehavior:se}=t;if(!Oh||!se)return Promise.resolve();const Re=!Q&&b4(TO(I.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return np().then(()=>se(I,G,Re)).then(P=>P&&p4(P)).catch(P=>ae(P,I,G))}const v=I=>o.go(I);let x;const A=new Set,V={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:m,resolve:b,options:t,push:E,replace:T,go:v,back:()=>v(-1),forward:()=>v(1),beforeEach:s.add,beforeResolve:r.add,afterEach:a.add,onError:ye.add,isReady:we,install(I){const G=this;I.component("RouterLink",W4),I.component("RouterView",z4),I.config.globalProperties.$router=G,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Jh(l)}),Oh&&!x&&l.value===za&&(x=!0,E(o.location).catch(se=>{}));const Q={};for(const se in za)Object.defineProperty(Q,se,{get:()=>l.value[se],enumerable:!0});I.provide(EE,G),I.provide(y$,pL(Q)),I.provide(AR,l);const ie=I.unmount;A.add(I),I.unmount=function(){A.delete(I),A.size<1&&(c=za,re&&re(),re=null,l.value=za,x=!1,de=!1),ie()}}};function Y(I){return I.reduce((G,Q)=>G.then(()=>K(Q)),Promise.resolve())}return V}function G4(t,e){const n=[],i=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let r=0;r<s;r++){const a=e.matched[r];a&&(t.matched.find(c=>md(c,a))?i.push(a):n.push(a));const l=t.matched[r];l&&(e.matched.find(c=>md(c,l))||o.push(l))}return[n,i,o]}var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qd=function(t){return t&&t.Math===Math&&t},ri=qd(typeof globalThis=="object"&&globalThis)||qd(typeof window=="object"&&window)||qd(typeof self=="object"&&self)||qd(typeof Up=="object"&&Up)||qd(typeof Up=="object"&&Up)||function(){return this}()||Function("return this")(),TE={},no=function(t){try{return!!t()}catch{return!0}},q4=no,Ns=!q4(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),X4=no,hC=!X4(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Z4=hC,zp=Function.prototype.call,Ds=Z4?zp.bind(zp):function(){return zp.apply(zp,arguments)},C$={},S$={}.propertyIsEnumerable,_$=Object.getOwnPropertyDescriptor,J4=_$&&!S$.call({1:2},1);C$.f=J4?function(e){var n=_$(this,e);return!!n&&n.enumerable}:S$;var dC=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},R$=hC,x$=Function.prototype,HR=x$.call,Q4=R$&&x$.bind.bind(HR,HR),kn=R$?Q4:function(t){return function(){return HR.apply(t,arguments)}},E$=kn,eK=E$({}.toString),tK=E$("".slice),Mu=function(t){return tK(eK(t),8,-1)},nK=kn,iK=no,oK=Mu,AS=Object,sK=nK("".split),rK=iK(function(){return!AS("z").propertyIsEnumerable(0)})?function(t){return oK(t)==="String"?sK(t,""):AS(t)}:AS,fC=function(t){return t==null},aK=fC,lK=TypeError,rp=function(t){if(aK(t))throw new lK("Can't call method on "+t);return t},cK=rK,uK=rp,gC=function(t){return cK(uK(t))},HS=typeof document=="object"&&document.all,ai=typeof HS>"u"&&HS!==void 0?function(t){return typeof t=="function"||t===HS}:function(t){return typeof t=="function"},hK=ai,Nr=function(t){return typeof t=="object"?t!==null:hK(t)},kS=ri,dK=ai,fK=function(t){return dK(t)?t:void 0},Pd=function(t,e){return arguments.length<2?fK(kS[t]):kS[t]&&kS[t][e]},gK=kn,mC=gK({}.isPrototypeOf),mK=ri,BO=mK.navigator,jO=BO&&BO.userAgent,pC=jO?String(jO):"",T$=ri,NS=pC,UO=T$.process,zO=T$.Deno,YO=UO&&UO.versions||zO&&zO.version,GO=YO&&YO.v8,Ss,Bv;GO&&(Ss=GO.split("."),Bv=Ss[0]>0&&Ss[0]<4?1:+(Ss[0]+Ss[1]));!Bv&&NS&&(Ss=NS.match(/Edge\/(\d+)/),(!Ss||Ss[1]>=74)&&(Ss=NS.match(/Chrome\/(\d+)/),Ss&&(Bv=+Ss[1])));var pK=Bv,KO=pK,wK=no,bK=ri,vK=bK.String,ME=!!Object.getOwnPropertySymbols&&!wK(function(){var t=Symbol("symbol detection");return!vK(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&KO&&KO<41}),yK=ME,M$=yK&&!Symbol.sham&&typeof Symbol.iterator=="symbol",CK=Pd,SK=ai,_K=mC,RK=M$,xK=Object,PE=RK?function(t){return typeof t=="symbol"}:function(t){var e=CK("Symbol");return SK(e)&&_K(e.prototype,xK(t))},EK=String,wC=function(t){try{return EK(t)}catch{return"Object"}},TK=ai,MK=wC,PK=TypeError,ap=function(t){if(TK(t))return t;throw new PK(MK(t)+" is not a function")},OK=ap,IK=fC,bC=function(t,e){var n=t[e];return IK(n)?void 0:OK(n)},DS=Ds,LS=ai,$S=Nr,AK=TypeError,HK=function(t,e){var n,i;if(e==="string"&&LS(n=t.toString)&&!$S(i=DS(n,t))||LS(n=t.valueOf)&&!$S(i=DS(n,t))||e!=="string"&&LS(n=t.toString)&&!$S(i=DS(n,t)))return i;throw new AK("Can't convert object to primitive value")},P$={exports:{}},qO=ri,kK=Object.defineProperty,OE=function(t,e){try{kK(qO,t,{value:e,configurable:!0,writable:!0})}catch{qO[t]=e}return e},NK=ri,DK=OE,XO="__core-js_shared__",ZO=P$.exports=NK[XO]||DK(XO,{});(ZO.versions||(ZO.versions=[])).push({version:"3.39.0",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var IE=P$.exports,JO=IE,O$=function(t,e){return JO[t]||(JO[t]=e||{})},LK=rp,$K=Object,lp=function(t){return $K(LK(t))},FK=kn,VK=lp,WK=FK({}.hasOwnProperty),Dr=Object.hasOwn||function(e,n){return WK(VK(e),n)},BK=kn,jK=0,UK=Math.random(),zK=BK(1 .toString),I$=function(t){return"Symbol("+(t===void 0?"":t)+")_"+zK(++jK+UK,36)},YK=ri,GK=O$,QO=Dr,KK=I$,qK=ME,XK=M$,Bh=YK.Symbol,FS=GK("wks"),ZK=XK?Bh.for||Bh:Bh&&Bh.withoutSetter||KK,Gl=function(t){return QO(FS,t)||(FS[t]=qK&&QO(Bh,t)?Bh[t]:ZK("Symbol."+t)),FS[t]},JK=Ds,eI=Nr,tI=PE,QK=bC,e5=HK,t5=Gl,n5=TypeError,i5=t5("toPrimitive"),o5=function(t,e){if(!eI(t)||tI(t))return t;var n=QK(t,i5),i;if(n){if(e===void 0&&(e="default"),i=JK(n,t,e),!eI(i)||tI(i))return i;throw new n5("Can't convert object to primitive value")}return e===void 0&&(e="number"),e5(t,e)},s5=o5,r5=PE,A$=function(t){var e=s5(t,"string");return r5(e)?e:e+""},a5=ri,nI=Nr,kR=a5.document,l5=nI(kR)&&nI(kR.createElement),AE=function(t){return l5?kR.createElement(t):{}},c5=Ns,u5=no,h5=AE,H$=!c5&&!u5(function(){return Object.defineProperty(h5("div"),"a",{get:function(){return 7}}).a!==7}),d5=Ns,f5=Ds,g5=C$,m5=dC,p5=gC,w5=A$,b5=Dr,v5=H$,iI=Object.getOwnPropertyDescriptor;TE.f=d5?iI:function(e,n){if(e=p5(e),n=w5(n),v5)try{return iI(e,n)}catch{}if(b5(e,n))return m5(!f5(g5.f,e,n),e[n])};var Kl={},y5=Ns,C5=no,k$=y5&&C5(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),S5=Nr,_5=String,R5=TypeError,Fa=function(t){if(S5(t))return t;throw new R5(_5(t)+" is not an object")},x5=Ns,E5=H$,T5=k$,Yp=Fa,oI=A$,M5=TypeError,VS=Object.defineProperty,P5=Object.getOwnPropertyDescriptor,WS="enumerable",BS="configurable",jS="writable";Kl.f=x5?T5?function(e,n,i){if(Yp(e),n=oI(n),Yp(i),typeof e=="function"&&n==="prototype"&&"value"in i&&jS in i&&!i[jS]){var o=P5(e,n);o&&o[jS]&&(e[n]=i.value,i={configurable:BS in i?i[BS]:o[BS],enumerable:WS in i?i[WS]:o[WS],writable:!1})}return VS(e,n,i)}:VS:function(e,n,i){if(Yp(e),n=oI(n),Yp(i),E5)try{return VS(e,n,i)}catch{}if("get"in i||"set"in i)throw new M5("Accessors not supported");return"value"in i&&(e[n]=i.value),e};var O5=Ns,I5=Kl,A5=dC,cp=O5?function(t,e,n){return I5.f(t,e,A5(1,n))}:function(t,e,n){return t[e]=n,t},N$={exports:{}},NR=Ns,H5=Dr,D$=Function.prototype,k5=NR&&Object.getOwnPropertyDescriptor,HE=H5(D$,"name"),N5=HE&&(function(){}).name==="something",D5=HE&&(!NR||NR&&k5(D$,"name").configurable),L5={EXISTS:HE,PROPER:N5,CONFIGURABLE:D5},$5=kn,F5=ai,DR=IE,V5=$5(Function.toString);F5(DR.inspectSource)||(DR.inspectSource=function(t){return V5(t)});var W5=DR.inspectSource,B5=ri,j5=ai,sI=B5.WeakMap,U5=j5(sI)&&/native code/.test(String(sI)),z5=O$,Y5=I$,rI=z5("keys"),L$=function(t){return rI[t]||(rI[t]=Y5(t))},kE={},G5=U5,$$=ri,K5=Nr,q5=cp,US=Dr,zS=IE,X5=L$,Z5=kE,aI="Object already initialized",LR=$$.TypeError,J5=$$.WeakMap,jv,Rm,Uv,Q5=function(t){return Uv(t)?Rm(t):jv(t,{})},e6=function(t){return function(e){var n;if(!K5(e)||(n=Rm(e)).type!==t)throw new LR("Incompatible receiver, "+t+" required");return n}};if(G5||zS.state){var Bs=zS.state||(zS.state=new J5);Bs.get=Bs.get,Bs.has=Bs.has,Bs.set=Bs.set,jv=function(t,e){if(Bs.has(t))throw new LR(aI);return e.facade=t,Bs.set(t,e),e},Rm=function(t){return Bs.get(t)||{}},Uv=function(t){return Bs.has(t)}}else{var Bu=X5("state");Z5[Bu]=!0,jv=function(t,e){if(US(t,Bu))throw new LR(aI);return e.facade=t,q5(t,Bu,e),e},Rm=function(t){return US(t,Bu)?t[Bu]:{}},Uv=function(t){return US(t,Bu)}}var t6={set:jv,get:Rm,has:Uv,enforce:Q5,getterFor:e6},NE=kn,n6=no,i6=ai,Gp=Dr,$R=Ns,o6=L5.CONFIGURABLE,s6=W5,F$=t6,r6=F$.enforce,a6=F$.get,lI=String,nv=Object.defineProperty,l6=NE("".slice),c6=NE("".replace),u6=NE([].join),h6=$R&&!n6(function(){return nv(function(){},"length",{value:8}).length!==8}),d6=String(String).split("String"),f6=N$.exports=function(t,e,n){l6(lI(e),0,7)==="Symbol("&&(e="["+c6(lI(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Gp(t,"name")||o6&&t.name!==e)&&($R?nv(t,"name",{value:e,configurable:!0}):t.name=e),h6&&n&&Gp(n,"arity")&&t.length!==n.arity&&nv(t,"length",{value:n.arity});try{n&&Gp(n,"constructor")&&n.constructor?$R&&nv(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var i=r6(t);return Gp(i,"source")||(i.source=u6(d6,typeof e=="string"?e:"")),t};Function.prototype.toString=f6(function(){return i6(this)&&a6(this).source||s6(this)},"toString");var g6=N$.exports,m6=ai,p6=Kl,w6=g6,b6=OE,v6=function(t,e,n,i){i||(i={});var o=i.enumerable,s=i.name!==void 0?i.name:e;if(m6(n)&&w6(n,s,i),i.global)o?t[e]=n:b6(e,n);else{try{i.unsafe?t[e]&&(o=!0):delete t[e]}catch{}o?t[e]=n:p6.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},V$={},y6=Math.ceil,C6=Math.floor,S6=Math.trunc||function(e){var n=+e;return(n>0?C6:y6)(n)},_6=S6,up=function(t){var e=+t;return e!==e||e===0?0:_6(e)},R6=up,x6=Math.max,E6=Math.min,T6=function(t,e){var n=R6(t);return n<0?x6(n+e,0):E6(n,e)},M6=up,P6=Math.min,O6=function(t){var e=M6(t);return e>0?P6(e,9007199254740991):0},I6=O6,hp=function(t){return I6(t.length)},A6=gC,H6=T6,k6=hp,cI=function(t){return function(e,n,i){var o=A6(e),s=k6(o);if(s===0)return!t&&-1;var r=H6(i,s),a;if(t&&n!==n){for(;s>r;)if(a=o[r++],a!==a)return!0}else for(;s>r;r++)if((t||r in o)&&o[r]===n)return t||r||0;return!t&&-1}},N6={includes:cI(!0),indexOf:cI(!1)},D6=kn,YS=Dr,L6=gC,$6=N6.indexOf,F6=kE,uI=D6([].push),W$=function(t,e){var n=L6(t),i=0,o=[],s;for(s in n)!YS(F6,s)&&YS(n,s)&&uI(o,s);for(;e.length>i;)YS(n,s=e[i++])&&(~$6(o,s)||uI(o,s));return o},DE=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],V6=W$,W6=DE,B6=W6.concat("length","prototype");V$.f=Object.getOwnPropertyNames||function(e){return V6(e,B6)};var B$={};B$.f=Object.getOwnPropertySymbols;var j6=Pd,U6=kn,z6=V$,Y6=B$,G6=Fa,K6=U6([].concat),q6=j6("Reflect","ownKeys")||function(e){var n=z6.f(G6(e)),i=Y6.f;return i?K6(n,i(e)):n},hI=Dr,X6=q6,Z6=TE,J6=Kl,j$=function(t,e,n){for(var i=X6(e),o=J6.f,s=Z6.f,r=0;r<i.length;r++){var a=i[r];!hI(t,a)&&!(n&&hI(n,a))&&o(t,a,s(e,a))}},Q6=no,e8=ai,t8=/#|\.prototype\./,dp=function(t,e){var n=i8[n8(t)];return n===s8?!0:n===o8?!1:e8(e)?Q6(e):!!e},n8=dp.normalize=function(t){return String(t).replace(t8,".").toLowerCase()},i8=dp.data={},o8=dp.NATIVE="N",s8=dp.POLYFILL="P",r8=dp,Kp=ri,a8=TE.f,l8=cp,c8=v6,u8=OE,h8=j$,d8=r8,li=function(t,e){var n=t.target,i=t.global,o=t.stat,s,r,a,l,c,u;if(i?r=Kp:o?r=Kp[n]||u8(n,{}):r=Kp[n]&&Kp[n].prototype,r)for(a in e){if(c=e[a],t.dontCallGetSet?(u=a8(r,a),l=u&&u.value):l=r[a],s=d8(i?a:n+(o?".":"#")+a,t.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;h8(c,l)}(t.sham||l&&l.sham)&&l8(c,"sham",!0),c8(r,a,c,t)}},f8=hC,U$=Function.prototype,dI=U$.apply,fI=U$.call,vC=typeof Reflect=="object"&&Reflect.apply||(f8?fI.bind(dI):function(){return fI.apply(dI,arguments)}),g8=kn,m8=ap,z$=function(t,e,n){try{return g8(m8(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},p8=Nr,w8=function(t){return p8(t)||t===null},b8=w8,v8=String,y8=TypeError,C8=function(t){if(b8(t))return t;throw new y8("Can't set "+v8(t)+" as a prototype")},S8=z$,_8=Nr,R8=rp,x8=C8,Y$=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=S8(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(o,s){return R8(o),x8(s),_8(o)&&(t?n(o,s):o.__proto__=s),o}}():void 0),E8=Kl.f,T8=function(t,e,n){n in t||E8(t,n,{configurable:!0,get:function(){return e[n]},set:function(i){e[n]=i}})},M8=ai,P8=Nr,gI=Y$,O8=function(t,e,n){var i,o;return gI&&M8(i=e.constructor)&&i!==n&&P8(o=i.prototype)&&o!==n.prototype&&gI(t,o),t},I8=Gl,A8=I8("toStringTag"),G$={};G$[A8]="z";var H8=String(G$)==="[object z]",k8=H8,N8=ai,iv=Mu,D8=Gl,L8=D8("toStringTag"),$8=Object,F8=iv(function(){return arguments}())==="Arguments",V8=function(t,e){try{return t[e]}catch{}},K$=k8?iv:function(t){var e,n,i;return t===void 0?"Undefined":t===null?"Null":typeof(n=V8(e=$8(t),L8))=="string"?n:F8?iv(e):(i=iv(e))==="Object"&&N8(e.callee)?"Arguments":i},W8=K$,B8=String,yC=function(t){if(W8(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return B8(t)},j8=yC,U8=function(t,e){return t===void 0?arguments.length<2?"":e:j8(t)},z8=Nr,Y8=cp,G8=function(t,e){z8(e)&&"cause"in e&&Y8(t,"cause",e.cause)},K8=kn,q$=Error,q8=K8("".replace),X8=function(t){return String(new q$(t).stack)}("zxcasd"),X$=/\n\s*at [^:]*:[^\n]*/,Z8=X$.test(X8),J8=function(t,e){if(Z8&&typeof t=="string"&&!q$.prepareStackTrace)for(;e--;)t=q8(t,X$,"");return t},Q8=no,e7=dC,t7=!Q8(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",e7(1,7)),t.stack!==7):!0}),n7=cp,i7=J8,o7=t7,mI=Error.captureStackTrace,s7=function(t,e,n,i){o7&&(mI?mI(t,e):n7(t,"stack",i7(n,i)))},pI=Pd,r7=Dr,wI=cp,a7=mC,bI=Y$,vI=j$,yI=T8,l7=O8,c7=U8,u7=G8,h7=s7,d7=Ns,f7=function(t,e,n,i){var o="stackTraceLimit",s=i?2:1,r=t.split("."),a=r[r.length-1],l=pI.apply(null,r);if(l){var c=l.prototype;if(r7(c,"cause")&&delete c.cause,!n)return l;var u=pI("Error"),h=e(function(d,f){var g=c7(i?f:d,void 0),m=i?new l(d):new l;return g!==void 0&&wI(m,"message",g),h7(m,h,m.stack,2),this&&a7(c,this)&&l7(m,this,h),arguments.length>s&&u7(m,arguments[s]),m});h.prototype=c,a!=="Error"?bI?bI(h,u):vI(h,u,{name:!0}):d7&&o in l&&(yI(h,l,o),yI(h,l,"prepareStackTrace")),vI(h,l);try{c.name!==a&&wI(c,"name",a),c.constructor=h}catch{}return h}},Z$=li,g7=ri,Lr=vC,J$=f7,FR="WebAssembly",CI=g7[FR],zv=new Error("e",{cause:7}).cause!==7,Pu=function(t,e){var n={};n[t]=J$(t,e,zv),Z$({global:!0,constructor:!0,arity:1,forced:zv},n)},LE=function(t,e){if(CI&&CI[t]){var n={};n[t]=J$(FR+"."+t,e,zv),Z$({target:FR,stat:!0,constructor:!0,arity:1,forced:zv},n)}};Pu("Error",function(t){return function(n){return Lr(t,this,arguments)}});Pu("EvalError",function(t){return function(n){return Lr(t,this,arguments)}});Pu("RangeError",function(t){return function(n){return Lr(t,this,arguments)}});Pu("ReferenceError",function(t){return function(n){return Lr(t,this,arguments)}});Pu("SyntaxError",function(t){return function(n){return Lr(t,this,arguments)}});Pu("TypeError",function(t){return function(n){return Lr(t,this,arguments)}});Pu("URIError",function(t){return function(n){return Lr(t,this,arguments)}});LE("CompileError",function(t){return function(n){return Lr(t,this,arguments)}});LE("LinkError",function(t){return function(n){return Lr(t,this,arguments)}});LE("RuntimeError",function(t){return function(n){return Lr(t,this,arguments)}});var m7=Mu,Q$=Array.isArray||function(e){return m7(e)==="Array"},p7=Ns,w7=Q$,b7=TypeError,v7=Object.getOwnPropertyDescriptor,y7=p7&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),eF=y7?function(t,e){if(w7(t)&&!v7(t,"length").writable)throw new b7("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},C7=TypeError,S7=9007199254740991,tF=function(t){if(t>S7)throw C7("Maximum allowed index exceeded");return t},_7=li,R7=lp,x7=hp,E7=eF,T7=tF,M7=no,P7=M7(function(){return[].push.call({length:4294967296},1)!==4294967297}),O7=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},I7=P7||!O7();_7({target:"Array",proto:!0,arity:1,forced:I7},{push:function(e){var n=R7(this),i=x7(n),o=arguments.length;T7(i+o);for(var s=0;s<o;s++)n[i]=arguments[s],i++;return E7(n,i),i}});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var nF;function ce(){return nF.apply(null,arguments)}function A7(t){nF=t}function Is(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function cu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $E(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(bt(t,e))return!1;return!0}function Ki(t){return t===void 0}function ka(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function fp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function iF(t,e){var n=[],i,o=t.length;for(i=0;i<o;++i)n.push(e(t[i],i));return n}function _l(t,e){for(var n in e)bt(e,n)&&(t[n]=e[n]);return bt(e,"toString")&&(t.toString=e.toString),bt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function $r(t,e,n,i){return EF(t,e,n,i,!0).utc()}function H7(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Xe(t){return t._pf==null&&(t._pf=H7()),t._pf}var VR;Array.prototype.some?VR=Array.prototype.some:VR=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function FE(t){var e=null,n=!1,i=t._d&&!isNaN(t._d.getTime());if(i&&(e=Xe(t),n=VR.call(e.parsedDateParts,function(o){return o!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i;return t._isValid}function CC(t){var e=$r(NaN);return t!=null?_l(Xe(e),t):Xe(e).userInvalidated=!0,e}var SI=ce.momentProperties=[],GS=!1;function VE(t,e){var n,i,o,s=SI.length;if(Ki(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Ki(e._i)||(t._i=e._i),Ki(e._f)||(t._f=e._f),Ki(e._l)||(t._l=e._l),Ki(e._strict)||(t._strict=e._strict),Ki(e._tzm)||(t._tzm=e._tzm),Ki(e._isUTC)||(t._isUTC=e._isUTC),Ki(e._offset)||(t._offset=e._offset),Ki(e._pf)||(t._pf=Xe(e)),Ki(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)i=SI[n],o=e[i],Ki(o)||(t[i]=o);return t}function gp(t){VE(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),GS===!1&&(GS=!0,ce.updateOffset(this),GS=!1)}function As(t){return t instanceof gp||t!=null&&t._isAMomentObject!=null}function oF(t){ce.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Zo(t,e){var n=!0;return _l(function(){if(ce.deprecationHandler!=null&&ce.deprecationHandler(null,t),n){var i=[],o,s,r,a=arguments.length;for(s=0;s<a;s++){if(o="",typeof arguments[s]=="object"){o+=`
[`+s+"] ";for(r in arguments[0])bt(arguments[0],r)&&(o+=r+": "+arguments[0][r]+", ");o=o.slice(0,-2)}else o=arguments[s];i.push(o)}oF(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var _I={};function sF(t,e){ce.deprecationHandler!=null&&ce.deprecationHandler(t,e),_I[t]||(oF(e),_I[t]=!0)}ce.suppressDeprecationWarnings=!1;ce.deprecationHandler=null;function Fr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function k7(t){var e,n;for(n in t)bt(t,n)&&(e=t[n],Fr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function WR(t,e){var n=_l({},t),i;for(i in e)bt(e,i)&&(cu(t[i])&&cu(e[i])?(n[i]={},_l(n[i],t[i]),_l(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)bt(t,i)&&!bt(e,i)&&cu(t[i])&&(n[i]=_l({},n[i]));return n}function WE(t){t!=null&&this.set(t)}var BR;Object.keys?BR=Object.keys:BR=function(t){var e,n=[];for(e in t)bt(t,e)&&n.push(e);return n};var N7={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D7(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return Fr(i)?i.call(e,n):i}function Ar(t,e,n){var i=""+Math.abs(t),o=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var BE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KS={},id={};function De(t,e,n,i){var o=i;typeof i=="string"&&(o=function(){return this[i]()}),t&&(id[t]=o),e&&(id[e[0]]=function(){return Ar(o.apply(this,arguments),e[1],e[2])}),n&&(id[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function L7(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $7(t){var e=t.match(BE),n,i;for(n=0,i=e.length;n<i;n++)id[e[n]]?e[n]=id[e[n]]:e[n]=L7(e[n]);return function(o){var s="",r;for(r=0;r<i;r++)s+=Fr(e[r])?e[r].call(o,t):e[r];return s}}function ov(t,e){return t.isValid()?(e=rF(e,t.localeData()),KS[e]=KS[e]||$7(e),KS[e](t)):t.localeData().invalidDate()}function rF(t,e){var n=5;function i(o){return e.longDateFormat(o)||o}for(qp.lastIndex=0;n>=0&&qp.test(t);)t=t.replace(qp,i),qp.lastIndex=0,n-=1;return t}var F7={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V7(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(BE).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var W7="Invalid date";function B7(){return this._invalidDate}var j7="%d",U7=/\d{1,2}/;function z7(t){return this._ordinal.replace("%d",t)}var Y7={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function G7(t,e,n,i){var o=this._relativeTime[n];return Fr(o)?o(t,e,n,i):o.replace(/%d/i,t)}function K7(t,e){var n=this._relativeTime[t>0?"future":"past"];return Fr(n)?n(e):n.replace(/%s/i,e)}var RI={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Jo(t){return typeof t=="string"?RI[t]||RI[t.toLowerCase()]:void 0}function jE(t){var e={},n,i;for(i in t)bt(t,i)&&(n=Jo(i),n&&(e[n]=t[i]));return e}var q7={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function X7(t){var e=[],n;for(n in t)bt(t,n)&&e.push({unit:n,priority:q7[n]});return e.sort(function(i,o){return i.priority-o.priority}),e}var aF=/\d/,yo=/\d\d/,lF=/\d{3}/,UE=/\d{4}/,SC=/[+-]?\d{6}/,on=/\d\d?/,cF=/\d\d\d\d?/,uF=/\d\d\d\d\d\d?/,_C=/\d{1,3}/,zE=/\d{1,4}/,RC=/[+-]?\d{1,6}/,Od=/\d+/,xC=/[+-]?\d+/,Z7=/Z|[+-]\d\d:?\d\d/gi,EC=/Z|[+-]\d\d(?::?\d\d)?/gi,J7=/[+-]?\d+(\.\d{1,3})?/,mp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Id=/^[1-9]\d?/,YE=/^([1-9]\d|\d)/,Yv;Yv={};function Me(t,e,n){Yv[t]=Fr(e)?e:function(i,o){return i&&n?n:e}}function Q7(t,e){return bt(Yv,t)?Yv[t](e._strict,e._locale):new RegExp(e9(t))}function e9(t){return Aa(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,o,s){return n||i||o||s}))}function Aa(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Lo(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ut(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Lo(e)),n}var jR={};function Ft(t,e){var n,i=e,o;for(typeof t=="string"&&(t=[t]),ka(e)&&(i=function(s,r){r[e]=ut(s)}),o=t.length,n=0;n<o;n++)jR[t[n]]=i}function pp(t,e){Ft(t,function(n,i,o,s){o._w=o._w||{},e(n,o._w,o,s)})}function t9(t,e,n){e!=null&&bt(jR,t)&&jR[t](e,n._a,n,t)}function TC(t){return t%4===0&&t%100!==0||t%400===0}var _i=0,_a=1,vr=2,Wn=3,_s=4,Ra=5,Zc=6,n9=7,i9=8;De("Y",0,0,function(){var t=this.year();return t<=9999?Ar(t,4):"+"+t});De(0,["YY",2],0,function(){return this.year()%100});De(0,["YYYY",4],0,"year");De(0,["YYYYY",5],0,"year");De(0,["YYYYYY",6,!0],0,"year");Me("Y",xC);Me("YY",on,yo);Me("YYYY",zE,UE);Me("YYYYY",RC,SC);Me("YYYYYY",RC,SC);Ft(["YYYYY","YYYYYY"],_i);Ft("YYYY",function(t,e){e[_i]=t.length===2?ce.parseTwoDigitYear(t):ut(t)});Ft("YY",function(t,e){e[_i]=ce.parseTwoDigitYear(t)});Ft("Y",function(t,e){e[_i]=parseInt(t,10)});function Mg(t){return TC(t)?366:365}ce.parseTwoDigitYear=function(t){return ut(t)+(ut(t)>68?1900:2e3)};var hF=Ad("FullYear",!0);function o9(){return TC(this.year())}function Ad(t,e){return function(n){return n!=null?(dF(this,t,n),ce.updateOffset(this,e),this):xm(this,t)}}function xm(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function dF(t,e,n){var i,o,s,r,a;if(!(!t.isValid()||isNaN(n))){switch(i=t._d,o=t._isUTC,e){case"Milliseconds":return void(o?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(o?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(o?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(o?i.setUTCHours(n):i.setHours(n));case"Date":return void(o?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}s=n,r=t.month(),a=t.date(),a=a===29&&r===1&&!TC(s)?28:a,o?i.setUTCFullYear(s,r,a):i.setFullYear(s,r,a)}}function s9(t){return t=Jo(t),Fr(this[t])?this[t]():this}function r9(t,e){if(typeof t=="object"){t=jE(t);var n=X7(t),i,o=n.length;for(i=0;i<o;i++)this[n[i].unit](t[n[i].unit])}else if(t=Jo(t),Fr(this[t]))return this[t](e);return this}function a9(t,e){return(t%e+e)%e}var En;Array.prototype.indexOf?En=Array.prototype.indexOf:En=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function GE(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=a9(e,12);return t+=(e-n)/12,n===1?TC(t)?29:28:31-n%7%2}De("M",["MM",2],"Mo",function(){return this.month()+1});De("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});De("MMMM",0,0,function(t){return this.localeData().months(this,t)});Me("M",on,Id);Me("MM",on,yo);Me("MMM",function(t,e){return e.monthsShortRegex(t)});Me("MMMM",function(t,e){return e.monthsRegex(t)});Ft(["M","MM"],function(t,e){e[_a]=ut(t)-1});Ft(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);o!=null?e[_a]=o:Xe(n).invalidMonth=t});var l9="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fF="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gF=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,c9=mp,u9=mp;function h9(t,e){return t?Is(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||gF).test(e)?"format":"standalone"][t.month()]:Is(this._months)?this._months:this._months.standalone}function d9(t,e){return t?Is(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[gF.test(e)?"format":"standalone"][t.month()]:Is(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function f9(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=$r([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(o=En.call(this._shortMonthsParse,r),o!==-1?o:null):(o=En.call(this._longMonthsParse,r),o!==-1?o:null):e==="MMM"?(o=En.call(this._shortMonthsParse,r),o!==-1?o:(o=En.call(this._longMonthsParse,r),o!==-1?o:null)):(o=En.call(this._longMonthsParse,r),o!==-1?o:(o=En.call(this._shortMonthsParse,r),o!==-1?o:null))}function g9(t,e,n){var i,o,s;if(this._monthsParseExact)return f9.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=$r([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function mF(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ut(e);else if(e=t.localeData().monthsParse(e),!ka(e))return t}var n=e,i=t.date();return i=i<29?i:Math.min(i,GE(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function pF(t){return t!=null?(mF(this,t),ce.updateOffset(this,!0),this):xm(this,"Month")}function m9(){return GE(this.year(),this.month())}function p9(t){return this._monthsParseExact?(bt(this,"_monthsRegex")||wF.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(bt(this,"_monthsShortRegex")||(this._monthsShortRegex=c9),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function w9(t){return this._monthsParseExact?(bt(this,"_monthsRegex")||wF.call(this),t?this._monthsStrictRegex:this._monthsRegex):(bt(this,"_monthsRegex")||(this._monthsRegex=u9),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function wF(){function t(l,c){return c.length-l.length}var e=[],n=[],i=[],o,s,r,a;for(o=0;o<12;o++)s=$r([2e3,o]),r=Aa(this.monthsShort(s,"")),a=Aa(this.months(s,"")),e.push(r),n.push(a),i.push(a),i.push(r);e.sort(t),n.sort(t),i.sort(t),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function b9(t,e,n,i,o,s,r){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,i,o,s,r),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,o,s,r),a}function Em(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Gv(t,e,n){var i=7+e-n,o=(7+Em(t,0,i).getUTCDay()-e)%7;return-o+i-1}function bF(t,e,n,i,o){var s=(7+n-i)%7,r=Gv(t,i,o),a=1+7*(e-1)+s+r,l,c;return a<=0?(l=t-1,c=Mg(l)+a):a>Mg(t)?(l=t+1,c=a-Mg(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Tm(t,e,n){var i=Gv(t.year(),e,n),o=Math.floor((t.dayOfYear()-i-1)/7)+1,s,r;return o<1?(r=t.year()-1,s=o+Ha(r,e,n)):o>Ha(t.year(),e,n)?(s=o-Ha(t.year(),e,n),r=t.year()+1):(r=t.year(),s=o),{week:s,year:r}}function Ha(t,e,n){var i=Gv(t,e,n),o=Gv(t+1,e,n);return(Mg(t)-i+o)/7}De("w",["ww",2],"wo","week");De("W",["WW",2],"Wo","isoWeek");Me("w",on,Id);Me("ww",on,yo);Me("W",on,Id);Me("WW",on,yo);pp(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=ut(t)});function v9(t){return Tm(t,this._week.dow,this._week.doy).week}var y9={dow:0,doy:6};function C9(){return this._week.dow}function S9(){return this._week.doy}function _9(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function R9(t){var e=Tm(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}De("d",0,"do","day");De("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});De("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});De("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});De("e",0,0,"weekday");De("E",0,0,"isoWeekday");Me("d",on);Me("e",on);Me("E",on);Me("dd",function(t,e){return e.weekdaysMinRegex(t)});Me("ddd",function(t,e){return e.weekdaysShortRegex(t)});Me("dddd",function(t,e){return e.weekdaysRegex(t)});pp(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);o!=null?e.d=o:Xe(n).invalidWeekday=t});pp(["d","e","E"],function(t,e,n,i){e[i]=ut(t)});function x9(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function E9(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function KE(t,e){return t.slice(e,7).concat(t.slice(0,e))}var T9="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),M9="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),P9=mp,O9=mp,I9=mp;function A9(t,e){var n=Is(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?KE(n,this._week.dow):t?n[t.day()]:n}function H9(t){return t===!0?KE(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function k9(t){return t===!0?KE(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function N9(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=$r([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(o=En.call(this._weekdaysParse,r),o!==-1?o:null):e==="ddd"?(o=En.call(this._shortWeekdaysParse,r),o!==-1?o:null):(o=En.call(this._minWeekdaysParse,r),o!==-1?o:null):e==="dddd"?(o=En.call(this._weekdaysParse,r),o!==-1||(o=En.call(this._shortWeekdaysParse,r),o!==-1)?o:(o=En.call(this._minWeekdaysParse,r),o!==-1?o:null)):e==="ddd"?(o=En.call(this._shortWeekdaysParse,r),o!==-1||(o=En.call(this._weekdaysParse,r),o!==-1)?o:(o=En.call(this._minWeekdaysParse,r),o!==-1?o:null)):(o=En.call(this._minWeekdaysParse,r),o!==-1||(o=En.call(this._weekdaysParse,r),o!==-1)?o:(o=En.call(this._shortWeekdaysParse,r),o!==-1?o:null))}function D9(t,e,n){var i,o,s;if(this._weekdaysParseExact)return N9.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=$r([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function L9(t){if(!this.isValid())return t!=null?this:NaN;var e=xm(this,"Day");return t!=null?(t=x9(t,this.localeData()),this.add(t-e,"d")):e}function $9(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function F9(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=E9(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function V9(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||qE.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(bt(this,"_weekdaysRegex")||(this._weekdaysRegex=P9),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function W9(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||qE.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(bt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=O9),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function B9(t){return this._weekdaysParseExact?(bt(this,"_weekdaysRegex")||qE.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(bt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=I9),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qE(){function t(u,h){return h.length-u.length}var e=[],n=[],i=[],o=[],s,r,a,l,c;for(s=0;s<7;s++)r=$r([2e3,1]).day(s),a=Aa(this.weekdaysMin(r,"")),l=Aa(this.weekdaysShort(r,"")),c=Aa(this.weekdays(r,"")),e.push(a),n.push(l),i.push(c),o.push(a),o.push(l),o.push(c);e.sort(t),n.sort(t),i.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function XE(){return this.hours()%12||12}function j9(){return this.hours()||24}De("H",["HH",2],0,"hour");De("h",["hh",2],0,XE);De("k",["kk",2],0,j9);De("hmm",0,0,function(){return""+XE.apply(this)+Ar(this.minutes(),2)});De("hmmss",0,0,function(){return""+XE.apply(this)+Ar(this.minutes(),2)+Ar(this.seconds(),2)});De("Hmm",0,0,function(){return""+this.hours()+Ar(this.minutes(),2)});De("Hmmss",0,0,function(){return""+this.hours()+Ar(this.minutes(),2)+Ar(this.seconds(),2)});function yF(t,e){De(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}yF("a",!0);yF("A",!1);function CF(t,e){return e._meridiemParse}Me("a",CF);Me("A",CF);Me("H",on,YE);Me("h",on,Id);Me("k",on,Id);Me("HH",on,yo);Me("hh",on,yo);Me("kk",on,yo);Me("hmm",cF);Me("hmmss",uF);Me("Hmm",cF);Me("Hmmss",uF);Ft(["H","HH"],Wn);Ft(["k","kk"],function(t,e,n){var i=ut(t);e[Wn]=i===24?0:i});Ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Ft(["h","hh"],function(t,e,n){e[Wn]=ut(t),Xe(n).bigHour=!0});Ft("hmm",function(t,e,n){var i=t.length-2;e[Wn]=ut(t.substr(0,i)),e[_s]=ut(t.substr(i)),Xe(n).bigHour=!0});Ft("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Wn]=ut(t.substr(0,i)),e[_s]=ut(t.substr(i,2)),e[Ra]=ut(t.substr(o)),Xe(n).bigHour=!0});Ft("Hmm",function(t,e,n){var i=t.length-2;e[Wn]=ut(t.substr(0,i)),e[_s]=ut(t.substr(i))});Ft("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Wn]=ut(t.substr(0,i)),e[_s]=ut(t.substr(i,2)),e[Ra]=ut(t.substr(o))});function U9(t){return(t+"").toLowerCase().charAt(0)==="p"}var z9=/[ap]\.?m?\.?/i,Y9=Ad("Hours",!0);function G9(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var SF={calendar:N7,longDateFormat:F7,invalidDate:W7,ordinal:j7,dayOfMonthOrdinalParse:U7,relativeTime:Y7,months:l9,monthsShort:fF,week:y9,weekdays:T9,weekdaysMin:M9,weekdaysShort:vF,meridiemParse:z9},ln={},Xd={},Mm;function K9(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function xI(t){return t&&t.toLowerCase().replace("_","-")}function q9(t){for(var e=0,n,i,o,s;e<t.length;){for(s=xI(t[e]).split("-"),n=s.length,i=xI(t[e+1]),i=i?i.split("-"):null;n>0;){if(o=MC(s.slice(0,n).join("-")),o)return o;if(i&&i.length>=n&&K9(s,i)>=n-1)break;n--}e++}return Mm}function X9(t){return!!(t&&t.match("^[^/\\\\]*$"))}function MC(t){var e=null,n;if(ln[t]===void 0&&typeof module<"u"&&module&&module.exports&&X9(t))try{e=Mm._abbr,n=require,n("./locale/"+t),Hl(e)}catch{ln[t]=null}return ln[t]}function Hl(t,e){var n;return t&&(Ki(e)?n=Va(t):n=ZE(t,e),n?Mm=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Mm._abbr}function ZE(t,e){if(e!==null){var n,i=SF;if(e.abbr=t,ln[t]!=null)sF("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[t]._config;else if(e.parentLocale!=null)if(ln[e.parentLocale]!=null)i=ln[e.parentLocale]._config;else if(n=MC(e.parentLocale),n!=null)i=n._config;else return Xd[e.parentLocale]||(Xd[e.parentLocale]=[]),Xd[e.parentLocale].push({name:t,config:e}),null;return ln[t]=new WE(WR(i,e)),Xd[t]&&Xd[t].forEach(function(o){ZE(o.name,o.config)}),Hl(t),ln[t]}else return delete ln[t],null}function Z9(t,e){if(e!=null){var n,i,o=SF;ln[t]!=null&&ln[t].parentLocale!=null?ln[t].set(WR(ln[t]._config,e)):(i=MC(t),i!=null&&(o=i._config),e=WR(o,e),i==null&&(e.abbr=t),n=new WE(e),n.parentLocale=ln[t],ln[t]=n),Hl(t)}else ln[t]!=null&&(ln[t].parentLocale!=null?(ln[t]=ln[t].parentLocale,t===Hl()&&Hl(t)):ln[t]!=null&&delete ln[t]);return ln[t]}function Va(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Mm;if(!Is(t)){if(e=MC(t),e)return e;t=[t]}return q9(t)}function J9(){return BR(ln)}function JE(t){var e,n=t._a;return n&&Xe(t).overflow===-2&&(e=n[_a]<0||n[_a]>11?_a:n[vr]<1||n[vr]>GE(n[_i],n[_a])?vr:n[Wn]<0||n[Wn]>24||n[Wn]===24&&(n[_s]!==0||n[Ra]!==0||n[Zc]!==0)?Wn:n[_s]<0||n[_s]>59?_s:n[Ra]<0||n[Ra]>59?Ra:n[Zc]<0||n[Zc]>999?Zc:-1,Xe(t)._overflowDayOfYear&&(e<_i||e>vr)&&(e=vr),Xe(t)._overflowWeeks&&e===-1&&(e=n9),Xe(t)._overflowWeekday&&e===-1&&(e=i9),Xe(t).overflow=e),t}var Q9=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tq=/Z|[+-]\d\d(?::?\d\d)?/,Xp=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nq=/^\/?Date\((-?\d+)/i,iq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,oq={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _F(t){var e,n,i=t._i,o=Q9.exec(i)||eq.exec(i),s,r,a,l,c=Xp.length,u=qS.length;if(o){for(Xe(t).iso=!0,e=0,n=c;e<n;e++)if(Xp[e][1].exec(o[1])){r=Xp[e][0],s=Xp[e][2]!==!1;break}if(r==null){t._isValid=!1;return}if(o[3]){for(e=0,n=u;e<n;e++)if(qS[e][1].exec(o[3])){a=(o[2]||" ")+qS[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(o[4])if(tq.exec(o[4]))l="Z";else{t._isValid=!1;return}t._f=r+(a||"")+(l||""),eT(t)}else t._isValid=!1}function sq(t,e,n,i,o,s){var r=[rq(t),fF.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return s&&r.push(parseInt(s,10)),r}function rq(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function aq(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function lq(t,e,n){if(t){var i=vF.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(i!==o)return Xe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function cq(t,e,n){if(t)return oq[t];if(e)return 0;var i=parseInt(n,10),o=i%100,s=(i-o)/100;return s*60+o}function RF(t){var e=iq.exec(aq(t._i)),n;if(e){if(n=sq(e[4],e[3],e[2],e[5],e[6],e[7]),!lq(e[1],n,t))return;t._a=n,t._tzm=cq(e[8],e[9],e[10]),t._d=Em.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Xe(t).rfc2822=!0}else t._isValid=!1}function uq(t){var e=nq.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(_F(t),t._isValid===!1)delete t._isValid;else return;if(RF(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ce.createFromInputFallback(t)}ce.createFromInputFallback=Zo("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ih(t,e,n){return t??e??n}function hq(t){var e=new Date(ce.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function QE(t){var e,n,i=[],o,s,r;if(!t._d){for(o=hq(t),t._w&&t._a[vr]==null&&t._a[_a]==null&&dq(t),t._dayOfYear!=null&&(r=Ih(t._a[_i],o[_i]),(t._dayOfYear>Mg(r)||t._dayOfYear===0)&&(Xe(t)._overflowDayOfYear=!0),n=Em(r,0,t._dayOfYear),t._a[_a]=n.getUTCMonth(),t._a[vr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=o[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Wn]===24&&t._a[_s]===0&&t._a[Ra]===0&&t._a[Zc]===0&&(t._nextDay=!0,t._a[Wn]=0),t._d=(t._useUTC?Em:b9).apply(null,i),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Wn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Xe(t).weekdayMismatch=!0)}}function dq(t){var e,n,i,o,s,r,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,r=4,n=Ih(e.GG,t._a[_i],Tm(nn(),1,4).year),i=Ih(e.W,1),o=Ih(e.E,1),(o<1||o>7)&&(l=!0)):(s=t._locale._week.dow,r=t._locale._week.doy,c=Tm(nn(),s,r),n=Ih(e.gg,t._a[_i],c.year),i=Ih(e.w,c.week),e.d!=null?(o=e.d,(o<0||o>6)&&(l=!0)):e.e!=null?(o=e.e+s,(e.e<0||e.e>6)&&(l=!0)):o=s),i<1||i>Ha(n,s,r)?Xe(t)._overflowWeeks=!0:l!=null?Xe(t)._overflowWeekday=!0:(a=bF(n,i,o,s,r),t._a[_i]=a.year,t._dayOfYear=a.dayOfYear)}ce.ISO_8601=function(){};ce.RFC_2822=function(){};function eT(t){if(t._f===ce.ISO_8601){_F(t);return}if(t._f===ce.RFC_2822){RF(t);return}t._a=[],Xe(t).empty=!0;var e=""+t._i,n,i,o,s,r,a=e.length,l=0,c,u;for(o=rF(t._f,t._locale).match(BE)||[],u=o.length,n=0;n<u;n++)s=o[n],i=(e.match(Q7(s,t))||[])[0],i&&(r=e.substr(0,e.indexOf(i)),r.length>0&&Xe(t).unusedInput.push(r),e=e.slice(e.indexOf(i)+i.length),l+=i.length),id[s]?(i?Xe(t).empty=!1:Xe(t).unusedTokens.push(s),t9(s,i,t)):t._strict&&!i&&Xe(t).unusedTokens.push(s);Xe(t).charsLeftOver=a-l,e.length>0&&Xe(t).unusedInput.push(e),t._a[Wn]<=12&&Xe(t).bigHour===!0&&t._a[Wn]>0&&(Xe(t).bigHour=void 0),Xe(t).parsedDateParts=t._a.slice(0),Xe(t).meridiem=t._meridiem,t._a[Wn]=fq(t._locale,t._a[Wn],t._meridiem),c=Xe(t).era,c!==null&&(t._a[_i]=t._locale.erasConvertYear(c,t._a[_i])),QE(t),JE(t)}function fq(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function gq(t){var e,n,i,o,s,r,a=!1,l=t._f.length;if(l===0){Xe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<l;o++)s=0,r=!1,e=VE({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],eT(e),FE(e)&&(r=!0),s+=Xe(e).charsLeftOver,s+=Xe(e).unusedTokens.length*10,Xe(e).score=s,a?s<i&&(i=s,n=e):(i==null||s<i||r)&&(i=s,n=e,r&&(a=!0));_l(t,n||e)}function mq(t){if(!t._d){var e=jE(t._i),n=e.day===void 0?e.date:e.day;t._a=iF([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),QE(t)}}function pq(t){var e=new gp(JE(xF(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xF(t){var e=t._i,n=t._f;return t._locale=t._locale||Va(t._l),e===null||n===void 0&&e===""?CC({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),As(e)?new gp(JE(e)):(fp(e)?t._d=e:Is(n)?gq(t):n?eT(t):wq(t),FE(t)||(t._d=null),t))}function wq(t){var e=t._i;Ki(e)?t._d=new Date(ce.now()):fp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?uq(t):Is(e)?(t._a=iF(e.slice(0),function(n){return parseInt(n,10)}),QE(t)):cu(e)?mq(t):ka(e)?t._d=new Date(e):ce.createFromInputFallback(t)}function EF(t,e,n,i,o){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(cu(t)&&$E(t)||Is(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=t,s._f=e,s._strict=i,pq(s)}function nn(t,e,n,i){return EF(t,e,n,i,!1)}var bq=Zo("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=nn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:CC()}),vq=Zo("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=nn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:CC()});function TF(t,e){var n,i;if(e.length===1&&Is(e[0])&&(e=e[0]),!e.length)return nn();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function yq(){var t=[].slice.call(arguments,0);return TF("isBefore",t)}function Cq(){var t=[].slice.call(arguments,0);return TF("isAfter",t)}var Sq=function(){return Date.now?Date.now():+new Date},Zd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _q(t){var e,n=!1,i,o=Zd.length;for(e in t)if(bt(t,e)&&!(En.call(Zd,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<o;++i)if(t[Zd[i]]){if(n)return!1;parseFloat(t[Zd[i]])!==ut(t[Zd[i]])&&(n=!0)}return!0}function Rq(){return this._isValid}function xq(){return Ls(NaN)}function PC(t){var e=jE(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=_q(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+r+s*7,this._months=+o+i*3+n*12,this._data={},this._locale=Va(),this._bubble()}function sv(t){return t instanceof PC}function UR(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Eq(t,e,n){var i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0,r;for(r=0;r<i;r++)ut(t[r])!==ut(e[r])&&s++;return s+o}function MF(t,e){De(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Ar(~~(n/60),2)+e+Ar(~~n%60,2)})}MF("Z",":");MF("ZZ","");Me("Z",EC);Me("ZZ",EC);Ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=tT(EC,t)});var Tq=/([\+\-]|\d\d)/gi;function tT(t,e){var n=(e||"").match(t),i,o,s;return n===null?null:(i=n[n.length-1]||[],o=(i+"").match(Tq)||["-",0,0],s=+(o[1]*60)+ut(o[2]),s===0?0:o[0]==="+"?s:-s)}function nT(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(As(t)||fp(t)?t.valueOf():nn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),ce.updateOffset(n,!1),n):nn(t).local()}function zR(t){return-Math.round(t._d.getTimezoneOffset())}ce.updateOffset=function(){};function Mq(t,e,n){var i=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=tT(EC,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=zR(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?IF(this,Ls(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ce.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:zR(this)}function Pq(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Oq(t){return this.utcOffset(0,t)}function Iq(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(zR(this),"m")),this}function Aq(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=tT(Z7,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Hq(t){return this.isValid()?(t=t?nn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function kq(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nq(){if(!Ki(this._isDSTShifted))return this._isDSTShifted;var t={},e;return VE(t,this),t=xF(t),t._a?(e=t._isUTC?$r(t._a):nn(t._a),this._isDSTShifted=this.isValid()&&Eq(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Dq(){return this.isValid()?!this._isUTC:!1}function Lq(){return this.isValid()?this._isUTC:!1}function PF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var $q=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fq=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ls(t,e){var n=t,i=null,o,s,r;return sv(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ka(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=$q.exec(t))?(o=i[1]==="-"?-1:1,n={y:0,d:ut(i[vr])*o,h:ut(i[Wn])*o,m:ut(i[_s])*o,s:ut(i[Ra])*o,ms:ut(UR(i[Zc]*1e3))*o}):(i=Fq.exec(t))?(o=i[1]==="-"?-1:1,n={y:tc(i[2],o),M:tc(i[3],o),w:tc(i[4],o),d:tc(i[5],o),h:tc(i[6],o),m:tc(i[7],o),s:tc(i[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(r=Vq(nn(n.from),nn(n.to)),n={},n.ms=r.milliseconds,n.M=r.months),s=new PC(n),sv(t)&&bt(t,"_locale")&&(s._locale=t._locale),sv(t)&&bt(t,"_isValid")&&(s._isValid=t._isValid),s}Ls.fn=PC.prototype;Ls.invalid=xq;function tc(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function EI(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Vq(t,e){var n;return t.isValid()&&e.isValid()?(e=nT(e,t),t.isBefore(e)?n=EI(t,e):(n=EI(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function OF(t,e){return function(n,i){var o,s;return i!==null&&!isNaN(+i)&&(sF(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),o=Ls(n,i),IF(this,o,t),this}}function IF(t,e,n,i){var o=e._milliseconds,s=UR(e._days),r=UR(e._months);t.isValid()&&(i=i??!0,r&&mF(t,xm(t,"Month")+r*n),s&&dF(t,"Date",xm(t,"Date")+s*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&ce.updateOffset(t,s||r))}var Wq=OF(1,"add"),Bq=OF(-1,"subtract");function AF(t){return typeof t=="string"||t instanceof String}function jq(t){return As(t)||fp(t)||AF(t)||ka(t)||zq(t)||Uq(t)||t===null||t===void 0}function Uq(t){var e=cu(t)&&!$E(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s,r=i.length;for(o=0;o<r;o+=1)s=i[o],n=n||bt(t,s);return e&&n}function zq(t){var e=Is(t),n=!1;return e&&(n=t.filter(function(i){return!ka(i)&&AF(t)}).length===0),e&&n}function Yq(t){var e=cu(t)&&!$E(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<i.length;o+=1)s=i[o],n=n||bt(t,s);return e&&n}function Gq(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Kq(t,e){arguments.length===1&&(arguments[0]?jq(arguments[0])?(t=arguments[0],e=void 0):Yq(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||nn(),i=nT(n,this).startOf("day"),o=ce.calendarFormat(this,i)||"sameElse",s=e&&(Fr(e[o])?e[o].call(this,n):e[o]);return this.format(s||this.localeData().calendar(o,this,nn(n)))}function qq(){return new gp(this)}function Xq(t,e){var n=As(t)?t:nn(t);return this.isValid()&&n.isValid()?(e=Jo(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Zq(t,e){var n=As(t)?t:nn(t);return this.isValid()&&n.isValid()?(e=Jo(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Jq(t,e,n,i){var o=As(t)?t:nn(t),s=As(e)?e:nn(e);return this.isValid()&&o.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(i[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Qq(t,e){var n=As(t)?t:nn(t),i;return this.isValid()&&n.isValid()?(e=Jo(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function eX(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tX(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nX(t,e,n){var i,o,s;if(!this.isValid())return NaN;if(i=nT(t,this),!i.isValid())return NaN;switch(o=(i.utcOffset()-this.utcOffset())*6e4,e=Jo(e),e){case"year":s=rv(this,i)/12;break;case"month":s=rv(this,i);break;case"quarter":s=rv(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return n?s:Lo(s)}function rv(t,e){if(t.date()<e.date())return-rv(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),o,s;return e-i<0?(o=t.clone().add(n-1,"months"),s=(e-i)/(i-o)):(o=t.clone().add(n+1,"months"),s=(e-i)/(o-i)),-(n+s)||0}ce.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ce.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oX(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ov(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Fr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ov(n,"Z")):ov(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,o,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+i+o+s)}function rX(t){t||(t=this.isUtc()?ce.defaultFormatUtc:ce.defaultFormat);var e=ov(this,t);return this.localeData().postformat(e)}function aX(t,e){return this.isValid()&&(As(t)&&t.isValid()||nn(t).isValid())?Ls({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function lX(t){return this.from(nn(),t)}function cX(t,e){return this.isValid()&&(As(t)&&t.isValid()||nn(t).isValid())?Ls({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function uX(t){return this.to(nn(),t)}function HF(t){var e;return t===void 0?this._locale._abbr:(e=Va(t),e!=null&&(this._locale=e),this)}var kF=Zo("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function NF(){return this._locale}var Kv=1e3,od=60*Kv,qv=60*od,DF=(365*400+97)*24*qv;function sd(t,e){return(t%e+e)%e}function LF(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-DF:new Date(t,e,n).valueOf()}function $F(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-DF:Date.UTC(t,e,n)}function hX(t){var e,n;if(t=Jo(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$F:LF,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=sd(e+(this._isUTC?0:this.utcOffset()*od),qv);break;case"minute":e=this._d.valueOf(),e-=sd(e,od);break;case"second":e=this._d.valueOf(),e-=sd(e,Kv);break}return this._d.setTime(e),ce.updateOffset(this,!0),this}function dX(t){var e,n;if(t=Jo(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$F:LF,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=qv-sd(e+(this._isUTC?0:this.utcOffset()*od),qv)-1;break;case"minute":e=this._d.valueOf(),e+=od-sd(e,od)-1;break;case"second":e=this._d.valueOf(),e+=Kv-sd(e,Kv)-1;break}return this._d.setTime(e),ce.updateOffset(this,!0),this}function fX(){return this._d.valueOf()-(this._offset||0)*6e4}function gX(){return Math.floor(this.valueOf()/1e3)}function mX(){return new Date(this.valueOf())}function pX(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function wX(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function bX(){return this.isValid()?this.toISOString():null}function vX(){return FE(this)}function yX(){return _l({},Xe(this))}function CX(){return Xe(this).overflow}function SX(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}De("N",0,0,"eraAbbr");De("NN",0,0,"eraAbbr");De("NNN",0,0,"eraAbbr");De("NNNN",0,0,"eraName");De("NNNNN",0,0,"eraNarrow");De("y",["y",1],"yo","eraYear");De("y",["yy",2],0,"eraYear");De("y",["yyy",3],0,"eraYear");De("y",["yyyy",4],0,"eraYear");Me("N",iT);Me("NN",iT);Me("NNN",iT);Me("NNNN",HX);Me("NNNNN",kX);Ft(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var o=n._locale.erasParse(t,i,n._strict);o?Xe(n).era=o:Xe(n).invalidEra=t});Me("y",Od);Me("yy",Od);Me("yyy",Od);Me("yyyy",Od);Me("yo",NX);Ft(["y","yy","yyy","yyyy"],_i);Ft(["yo"],function(t,e,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[_i]=n._locale.eraYearOrdinalParse(t,o):e[_i]=parseInt(t,10)});function _X(t,e){var n,i,o,s=this._eras||Va("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":o=ce(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=ce(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function RX(t,e,n){var i,o,s=this.eras(),r,a,l;for(t=t.toUpperCase(),i=0,o=s.length;i<o;++i)if(r=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[i];break;case"NNNN":if(r===t)return s[i];break;case"NNNNN":if(l===t)return s[i];break}else if([r,a,l].indexOf(t)>=0)return s[i]}function xX(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ce(t.since).year():ce(t.since).year()+(e-t.offset)*n}function EX(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function TX(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function MX(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function PX(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-ce(o[t].since).year())*n+o[t].offset;return this.year()}function OX(t){return bt(this,"_erasNameRegex")||oT.call(this),t?this._erasNameRegex:this._erasRegex}function IX(t){return bt(this,"_erasAbbrRegex")||oT.call(this),t?this._erasAbbrRegex:this._erasRegex}function AX(t){return bt(this,"_erasNarrowRegex")||oT.call(this),t?this._erasNarrowRegex:this._erasRegex}function iT(t,e){return e.erasAbbrRegex(t)}function HX(t,e){return e.erasNameRegex(t)}function kX(t,e){return e.erasNarrowRegex(t)}function NX(t,e){return e._eraYearOrdinalRegex||Od}function oT(){var t=[],e=[],n=[],i=[],o,s,r,a,l,c=this.eras();for(o=0,s=c.length;o<s;++o)r=Aa(c[o].name),a=Aa(c[o].abbr),l=Aa(c[o].narrow),e.push(r),t.push(a),n.push(l),i.push(r),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}De(0,["gg",2],0,function(){return this.weekYear()%100});De(0,["GG",2],0,function(){return this.isoWeekYear()%100});function OC(t,e){De(0,[t,t.length],0,e)}OC("gggg","weekYear");OC("ggggg","weekYear");OC("GGGG","isoWeekYear");OC("GGGGG","isoWeekYear");Me("G",xC);Me("g",xC);Me("GG",on,yo);Me("gg",on,yo);Me("GGGG",zE,UE);Me("gggg",zE,UE);Me("GGGGG",RC,SC);Me("ggggg",RC,SC);pp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=ut(t)});pp(["gg","GG"],function(t,e,n,i){e[i]=ce.parseTwoDigitYear(t)});function DX(t){return FF.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function LX(t){return FF.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function $X(){return Ha(this.year(),1,4)}function FX(){return Ha(this.isoWeekYear(),1,4)}function VX(){var t=this.localeData()._week;return Ha(this.year(),t.dow,t.doy)}function WX(){var t=this.localeData()._week;return Ha(this.weekYear(),t.dow,t.doy)}function FF(t,e,n,i,o){var s;return t==null?Tm(this,i,o).year:(s=Ha(t,i,o),e>s&&(e=s),BX.call(this,t,e,n,i,o))}function BX(t,e,n,i,o){var s=bF(t,e,n,i,o),r=Em(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}De("Q",0,"Qo","quarter");Me("Q",aF);Ft("Q",function(t,e){e[_a]=(ut(t)-1)*3});function jX(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}De("D",["DD",2],"Do","date");Me("D",on,Id);Me("DD",on,yo);Me("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ft(["D","DD"],vr);Ft("Do",function(t,e){e[vr]=ut(t.match(on)[0])});var VF=Ad("Date",!0);De("DDD",["DDDD",3],"DDDo","dayOfYear");Me("DDD",_C);Me("DDDD",lF);Ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ut(t)});function UX(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}De("m",["mm",2],0,"minute");Me("m",on,YE);Me("mm",on,yo);Ft(["m","mm"],_s);var zX=Ad("Minutes",!1);De("s",["ss",2],0,"second");Me("s",on,YE);Me("ss",on,yo);Ft(["s","ss"],Ra);var YX=Ad("Seconds",!1);De("S",0,0,function(){return~~(this.millisecond()/100)});De(0,["SS",2],0,function(){return~~(this.millisecond()/10)});De(0,["SSS",3],0,"millisecond");De(0,["SSSS",4],0,function(){return this.millisecond()*10});De(0,["SSSSS",5],0,function(){return this.millisecond()*100});De(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});De(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});De(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});De(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Me("S",_C,aF);Me("SS",_C,yo);Me("SSS",_C,lF);var Rl,WF;for(Rl="SSSS";Rl.length<=9;Rl+="S")Me(Rl,Od);function GX(t,e){e[Zc]=ut(("0."+t)*1e3)}for(Rl="S";Rl.length<=9;Rl+="S")Ft(Rl,GX);WF=Ad("Milliseconds",!1);De("z",0,0,"zoneAbbr");De("zz",0,0,"zoneName");function KX(){return this._isUTC?"UTC":""}function qX(){return this._isUTC?"Coordinated Universal Time":""}var fe=gp.prototype;fe.add=Wq;fe.calendar=Kq;fe.clone=qq;fe.diff=nX;fe.endOf=dX;fe.format=rX;fe.from=aX;fe.fromNow=lX;fe.to=cX;fe.toNow=uX;fe.get=s9;fe.invalidAt=CX;fe.isAfter=Xq;fe.isBefore=Zq;fe.isBetween=Jq;fe.isSame=Qq;fe.isSameOrAfter=eX;fe.isSameOrBefore=tX;fe.isValid=vX;fe.lang=kF;fe.locale=HF;fe.localeData=NF;fe.max=vq;fe.min=bq;fe.parsingFlags=yX;fe.set=r9;fe.startOf=hX;fe.subtract=Bq;fe.toArray=pX;fe.toObject=wX;fe.toDate=mX;fe.toISOString=oX;fe.inspect=sX;typeof Symbol<"u"&&Symbol.for!=null&&(fe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});fe.toJSON=bX;fe.toString=iX;fe.unix=gX;fe.valueOf=fX;fe.creationData=SX;fe.eraName=EX;fe.eraNarrow=TX;fe.eraAbbr=MX;fe.eraYear=PX;fe.year=hF;fe.isLeapYear=o9;fe.weekYear=DX;fe.isoWeekYear=LX;fe.quarter=fe.quarters=jX;fe.month=pF;fe.daysInMonth=m9;fe.week=fe.weeks=_9;fe.isoWeek=fe.isoWeeks=R9;fe.weeksInYear=VX;fe.weeksInWeekYear=WX;fe.isoWeeksInYear=$X;fe.isoWeeksInISOWeekYear=FX;fe.date=VF;fe.day=fe.days=L9;fe.weekday=$9;fe.isoWeekday=F9;fe.dayOfYear=UX;fe.hour=fe.hours=Y9;fe.minute=fe.minutes=zX;fe.second=fe.seconds=YX;fe.millisecond=fe.milliseconds=WF;fe.utcOffset=Mq;fe.utc=Oq;fe.local=Iq;fe.parseZone=Aq;fe.hasAlignedHourOffset=Hq;fe.isDST=kq;fe.isLocal=Dq;fe.isUtcOffset=Lq;fe.isUtc=PF;fe.isUTC=PF;fe.zoneAbbr=KX;fe.zoneName=qX;fe.dates=Zo("dates accessor is deprecated. Use date instead.",VF);fe.months=Zo("months accessor is deprecated. Use month instead",pF);fe.years=Zo("years accessor is deprecated. Use year instead",hF);fe.zone=Zo("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pq);fe.isDSTShifted=Zo("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nq);function XX(t){return nn(t*1e3)}function ZX(){return nn.apply(null,arguments).parseZone()}function BF(t){return t}var vt=WE.prototype;vt.calendar=D7;vt.longDateFormat=V7;vt.invalidDate=B7;vt.ordinal=z7;vt.preparse=BF;vt.postformat=BF;vt.relativeTime=G7;vt.pastFuture=K7;vt.set=k7;vt.eras=_X;vt.erasParse=RX;vt.erasConvertYear=xX;vt.erasAbbrRegex=IX;vt.erasNameRegex=OX;vt.erasNarrowRegex=AX;vt.months=h9;vt.monthsShort=d9;vt.monthsParse=g9;vt.monthsRegex=w9;vt.monthsShortRegex=p9;vt.week=v9;vt.firstDayOfYear=S9;vt.firstDayOfWeek=C9;vt.weekdays=A9;vt.weekdaysMin=k9;vt.weekdaysShort=H9;vt.weekdaysParse=D9;vt.weekdaysRegex=V9;vt.weekdaysShortRegex=W9;vt.weekdaysMinRegex=B9;vt.isPM=U9;vt.meridiem=G9;function Xv(t,e,n,i){var o=Va(),s=$r().set(i,e);return o[n](s,t)}function jF(t,e,n){if(ka(t)&&(e=t,t=void 0),t=t||"",e!=null)return Xv(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Xv(t,i,n,"month");return o}function sT(t,e,n,i){typeof t=="boolean"?(ka(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ka(e)&&(n=e,e=void 0),e=e||"");var o=Va(),s=t?o._week.dow:0,r,a=[];if(n!=null)return Xv(e,(n+s)%7,i,"day");for(r=0;r<7;r++)a[r]=Xv(e,(r+s)%7,i,"day");return a}function JX(t,e){return jF(t,e,"months")}function QX(t,e){return jF(t,e,"monthsShort")}function eZ(t,e,n){return sT(t,e,n,"weekdays")}function tZ(t,e,n){return sT(t,e,n,"weekdaysShort")}function nZ(t,e,n){return sT(t,e,n,"weekdaysMin")}Hl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ut(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ce.lang=Zo("moment.lang is deprecated. Use moment.locale instead.",Hl);ce.langData=Zo("moment.langData is deprecated. Use moment.localeData instead.",Va);var Yr=Math.abs;function iZ(){var t=this._data;return this._milliseconds=Yr(this._milliseconds),this._days=Yr(this._days),this._months=Yr(this._months),t.milliseconds=Yr(t.milliseconds),t.seconds=Yr(t.seconds),t.minutes=Yr(t.minutes),t.hours=Yr(t.hours),t.months=Yr(t.months),t.years=Yr(t.years),this}function UF(t,e,n,i){var o=Ls(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function oZ(t,e){return UF(this,t,e,1)}function sZ(t,e){return UF(this,t,e,-1)}function TI(t){return t<0?Math.floor(t):Math.ceil(t)}function rZ(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,o,s,r,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=TI(YR(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,o=Lo(t/1e3),i.seconds=o%60,s=Lo(o/60),i.minutes=s%60,r=Lo(s/60),i.hours=r%24,e+=Lo(r/24),l=Lo(zF(e)),n+=l,e-=TI(YR(l)),a=Lo(n/12),n%=12,i.days=e,i.months=n,i.years=a,this}function zF(t){return t*4800/146097}function YR(t){return t*146097/4800}function aZ(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=Jo(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+zF(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(YR(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function Wa(t){return function(){return this.as(t)}}var YF=Wa("ms"),lZ=Wa("s"),cZ=Wa("m"),uZ=Wa("h"),hZ=Wa("d"),dZ=Wa("w"),fZ=Wa("M"),gZ=Wa("Q"),mZ=Wa("y"),pZ=YF;function wZ(){return Ls(this)}function bZ(t){return t=Jo(t),this.isValid()?this[t+"s"]():NaN}function Ou(t){return function(){return this.isValid()?this._data[t]:NaN}}var vZ=Ou("milliseconds"),yZ=Ou("seconds"),CZ=Ou("minutes"),SZ=Ou("hours"),_Z=Ou("days"),RZ=Ou("months"),xZ=Ou("years");function EZ(){return Lo(this.days()/7)}var da=Math.round,jh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function TZ(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function MZ(t,e,n,i){var o=Ls(t).abs(),s=da(o.as("s")),r=da(o.as("m")),a=da(o.as("h")),l=da(o.as("d")),c=da(o.as("M")),u=da(o.as("w")),h=da(o.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||r<=1&&["m"]||r<n.m&&["mm",r]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=i,TZ.apply(null,d)}function PZ(t){return t===void 0?da:typeof t=="function"?(da=t,!0):!1}function OZ(t,e){return jh[t]===void 0?!1:e===void 0?jh[t]:(jh[t]=e,t==="s"&&(jh.ss=e-1),!0)}function IZ(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=jh,o,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},jh,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),o=this.localeData(),s=MZ(this,!n,i,o),n&&(s=o.pastFuture(+this,s)),o.postformat(s)}var XS=Math.abs;function ju(t){return(t>0)-(t<0)||+t}function IC(){if(!this.isValid())return this.localeData().invalidDate();var t=XS(this._milliseconds)/1e3,e=XS(this._days),n=XS(this._months),i,o,s,r,a=this.asSeconds(),l,c,u,h;return a?(i=Lo(t/60),o=Lo(i/60),t%=60,i%=60,s=Lo(n/12),n%=12,r=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=ju(this._months)!==ju(a)?"-":"",u=ju(this._days)!==ju(a)?"-":"",h=ju(this._milliseconds)!==ju(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(o||i||t?"T":"")+(o?h+o+"H":"")+(i?h+i+"M":"")+(t?h+r+"S":"")):"P0D"}var gt=PC.prototype;gt.isValid=Rq;gt.abs=iZ;gt.add=oZ;gt.subtract=sZ;gt.as=aZ;gt.asMilliseconds=YF;gt.asSeconds=lZ;gt.asMinutes=cZ;gt.asHours=uZ;gt.asDays=hZ;gt.asWeeks=dZ;gt.asMonths=fZ;gt.asQuarters=gZ;gt.asYears=mZ;gt.valueOf=pZ;gt._bubble=rZ;gt.clone=wZ;gt.get=bZ;gt.milliseconds=vZ;gt.seconds=yZ;gt.minutes=CZ;gt.hours=SZ;gt.days=_Z;gt.weeks=EZ;gt.months=RZ;gt.years=xZ;gt.humanize=IZ;gt.toISOString=IC;gt.toString=IC;gt.toJSON=IC;gt.locale=HF;gt.localeData=NF;gt.toIsoString=Zo("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",IC);gt.lang=kF;De("X",0,0,"unix");De("x",0,0,"valueOf");Me("x",xC);Me("X",J7);Ft("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Ft("x",function(t,e,n){n._d=new Date(ut(t))});//! moment.js
ce.version="2.30.1";A7(nn);ce.fn=fe;ce.min=yq;ce.max=Cq;ce.now=Sq;ce.utc=$r;ce.unix=XX;ce.months=JX;ce.isDate=fp;ce.locale=Hl;ce.invalid=CC;ce.duration=Ls;ce.isMoment=As;ce.weekdays=eZ;ce.parseZone=ZX;ce.localeData=Va;ce.isDuration=sv;ce.monthsShort=QX;ce.weekdaysMin=nZ;ce.defineLocale=ZE;ce.updateLocale=Z9;ce.locales=J9;ce.weekdaysShort=tZ;ce.normalizeUnits=Jo;ce.relativeTimeRounding=PZ;ce.relativeTimeThreshold=OZ;ce.calendarFormat=Gq;ce.prototype=fe;ce.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var ZS=kn,Zp=Set.prototype,Vr={Set,add:ZS(Zp.add),has:ZS(Zp.has),remove:ZS(Zp.delete),proto:Zp},AZ=Vr.has,Iu=function(t){return AZ(t),t},HZ=Ds,Au=function(t,e,n){for(var i=n?t:t.iterator,o=t.next,s,r;!(s=HZ(o,i)).done;)if(r=e(s.value),r!==void 0)return r},GF=kn,kZ=Au,KF=Vr,NZ=KF.Set,qF=KF.proto,DZ=GF(qF.forEach),XF=GF(qF.keys),LZ=XF(new NZ).next,wp=function(t,e,n){return n?kZ({iterator:XF(t),next:LZ},e):DZ(t,e)},ZF=Vr,$Z=wp,FZ=ZF.Set,VZ=ZF.add,rT=function(t){var e=new FZ;return $Z(t,function(n){VZ(e,n)}),e},WZ=z$,BZ=Vr,bp=WZ(BZ.proto,"size","get")||function(t){return t.size},jZ=function(t){return{iterator:t,next:t.next,done:!1}},MI=ap,JF=Fa,PI=Ds,UZ=up,zZ=jZ,OI="Invalid size",YZ=RangeError,GZ=TypeError,KZ=Math.max,QF=function(t,e){this.set=t,this.size=KZ(e,0),this.has=MI(t.has),this.keys=MI(t.keys)};QF.prototype={getIterator:function(){return zZ(JF(PI(this.keys,this.set)))},includes:function(t){return PI(this.has,this.set,t)}};var Hu=function(t){JF(t);var e=+t.size;if(e!==e)throw new GZ(OI);var n=UZ(e);if(n<0)throw new YZ(OI);return new QF(t,n)},qZ=Iu,eV=Vr,XZ=rT,ZZ=bp,JZ=Hu,QZ=wp,eJ=Au,tJ=eV.has,II=eV.remove,nJ=function(e){var n=qZ(this),i=JZ(e),o=XZ(n);return ZZ(n)<=i.size?QZ(n,function(s){i.includes(s)&&II(o,s)}):eJ(i.getIterator(),function(s){tJ(n,s)&&II(o,s)}),o},iJ=Pd,AI=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},ku=function(t){var e=iJ("Set");try{new e()[t](AI(0));try{return new e()[t](AI(-1)),!1}catch{return!0}}catch{return!1}},oJ=li,sJ=nJ,rJ=ku;oJ({target:"Set",proto:!0,real:!0,forced:!rJ("difference")},{difference:sJ});var aJ=Iu,aT=Vr,lJ=bp,cJ=Hu,uJ=wp,hJ=Au,dJ=aT.Set,HI=aT.add,fJ=aT.has,gJ=function(e){var n=aJ(this),i=cJ(e),o=new dJ;return lJ(n)>i.size?hJ(i.getIterator(),function(s){fJ(n,s)&&HI(o,s)}):uJ(n,function(s){i.includes(s)&&HI(o,s)}),o},mJ=li,pJ=no,wJ=gJ,bJ=ku,vJ=!bJ("intersection")||pJ(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});mJ({target:"Set",proto:!0,real:!0,forced:vJ},{intersection:wJ});var yJ=Ds,kI=Fa,CJ=bC,lT=function(t,e,n){var i,o;kI(t);try{if(i=CJ(t,"return"),!i){if(e==="throw")throw n;return n}i=yJ(i,t)}catch(s){o=!0,i=s}if(e==="throw")throw n;if(o)throw i;return kI(i),n},SJ=Iu,_J=Vr.has,RJ=bp,xJ=Hu,EJ=wp,TJ=Au,MJ=lT,PJ=function(e){var n=SJ(this),i=xJ(e);if(RJ(n)<=i.size)return EJ(n,function(s){if(i.includes(s))return!1},!0)!==!1;var o=i.getIterator();return TJ(o,function(s){if(_J(n,s))return MJ(o,"normal",!1)})!==!1},OJ=li,IJ=PJ,AJ=ku;OJ({target:"Set",proto:!0,real:!0,forced:!AJ("isDisjointFrom")},{isDisjointFrom:IJ});var HJ=Iu,kJ=bp,NJ=wp,DJ=Hu,LJ=function(e){var n=HJ(this),i=DJ(e);return kJ(n)>i.size?!1:NJ(n,function(o){if(!i.includes(o))return!1},!0)!==!1},$J=li,FJ=LJ,VJ=ku;$J({target:"Set",proto:!0,real:!0,forced:!VJ("isSubsetOf")},{isSubsetOf:FJ});var WJ=Iu,BJ=Vr.has,jJ=bp,UJ=Hu,zJ=Au,YJ=lT,GJ=function(e){var n=WJ(this),i=UJ(e);if(jJ(n)<i.size)return!1;var o=i.getIterator();return zJ(o,function(s){if(!BJ(n,s))return YJ(o,"normal",!1)})!==!1},KJ=li,qJ=GJ,XJ=ku;KJ({target:"Set",proto:!0,real:!0,forced:!XJ("isSupersetOf")},{isSupersetOf:qJ});var ZJ=Iu,cT=Vr,JJ=rT,QJ=Hu,eQ=Au,tQ=cT.add,nQ=cT.has,iQ=cT.remove,oQ=function(e){var n=ZJ(this),i=QJ(e).getIterator(),o=JJ(n);return eQ(i,function(s){nQ(n,s)?iQ(o,s):tQ(o,s)}),o},sQ=li,rQ=oQ,aQ=ku;sQ({target:"Set",proto:!0,real:!0,forced:!aQ("symmetricDifference")},{symmetricDifference:rQ});var lQ=Iu,cQ=Vr.add,uQ=rT,hQ=Hu,dQ=Au,fQ=function(e){var n=lQ(this),i=hQ(e).getIterator(),o=uQ(n);return dQ(i,function(s){cQ(o,s)}),o},gQ=li,mQ=fQ,pQ=ku;gQ({target:"Set",proto:!0,real:!0,forced:!pQ("union")},{union:mQ});function wQ(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function NI(t,e){const n=e.length;let i=0;for(;i<n;)t.push(e[i]),i+=1}function av(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,i=t[0].length;for(let o=0;o<n;o++)for(let s=0;s<i;s++)e[s]||(e[s]=[]),e[s][o]=t[o][s];return e}function Li(t,e,n,i){let o=-1,s=t,r=n;Array.isArray(t)||(s=Array.from(t));const a=s.length;for(o+=1;o<a;)r=e(r,s[o],o,s),o+=1;return r}function Vl(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const o=i.length,s=[];let r=-1;for(;n<o;){const a=i[n];e(a,n,i)&&(r+=1,s[r]=a),n+=1}return s}function at(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const o=i.length,s=[];let r=-1;for(;n<o;){const a=i[n];r+=1,s[r]=e(a,n,i),n+=1}return s}function F(t,e){let n=0,i=t;Array.isArray(t)||(i=Array.from(t));const o=i.length;for(;n<o&&e(i[n],n,i)!==!1;)n+=1;return t}function tV(t){const e=[];return F(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function DI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[i,...o]=[...e];let s=i;return F(o,r=>{s=s.filter(a=>!r.includes(a))}),s}function LI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function Tt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Li(t,(s,r,a)=>{const l=r.replace(/\r?\n\s*/g,""),c=n[a]?n[a]:"";return s+l+c},"").trim()}function Tn(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function Te(t){return typeof t<"u"}function Gt(t){return typeof t>"u"}function _n(t){return t===null||t===""||Gt(t)}function bQ(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const ag="length",Pg=t=>parseInt(t,16),$I=t=>parseInt(t,10),Zv=(t,e,n)=>t.substr(e,n),Og=t=>t.codePointAt(0)-65,GR=t=>`${t}`.replace(/\-/g,""),vQ=t=>Pg(Zv(GR(t),Pg("12"),Og("F")))/(Pg(Zv(GR(t),Og("B"),~~![][ag]))||9),yQ=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let FI=!1;const VI={invalid:()=>Tt`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return Tt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>Tt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},WI={invalid:()=>Tt`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return Tt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>Tt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function CQ(t,e){const n=!_n(t),i=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",o="14.6.1";let s,r="invalid",a="invalid";t=GR(t||"");const l=SQ(t);if(n||i||l)if(l){const c=ce("17/10/2024","DD/MM/YYYY"),u=Math.floor(c.toDate().getTime()/864e5),h=vQ(t);s=ce((h+1)*864e5,"x").format("MMMM DD, YYYY"),u>h?(r="expired",a="expired"):(r="valid",a="valid")}else i?(r="non_commercial",a="valid"):(r="invalid",a="invalid");else r="missing",a="missing";if(yQ()&&(r="valid",a="valid"),!FI&&r!=="valid"&&(VI[r]({keyValidityDate:s,hotVersion:o})&&console[r==="non_commercial"?"info":"warn"](VI[r]({keyValidityDate:s,hotVersion:o})),FI=!0),a!=="valid"&&e.parentNode&&WI[a]({keyValidityDate:s,hotVersion:o})){const u=document.createElement("div");u.className="hot-display-license-info",u.innerHTML=WI[a]({keyValidityDate:s,hotVersion:o}),e.parentNode.insertBefore(u,e.nextSibling)}}function SQ(t){let e=[][ag],n=e;if(t[ag]!==Og("Z"))return!1;for(let i="",o="B<H4P+".split(""),s=Og(o.shift());s;s=Og(o.shift()||"A"))--s<""[ag]?n=n|($I(`${$I(Pg(i)+(Pg(Zv(t,Math.abs(s),2))+[]).padStart(2,"0"))}`)%97||2)>>1:i=Zv(t,s,s?o[ag]===1?9:8:6);return n===e}var _Q=kn,uT=_Q([].slice),RQ=kn,BI=Q$,xQ=ai,jI=Mu,EQ=yC,UI=RQ([].push),TQ=function(t){if(xQ(t))return t;if(BI(t)){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i];typeof o=="string"?UI(n,o):(typeof o=="number"||jI(o)==="Number"||jI(o)==="String")&&UI(n,EQ(o))}var s=n.length,r=!0;return function(a,l){if(r)return r=!1,l;if(BI(this))return l;for(var c=0;c<s;c++)if(n[c]===a)return l}}},MQ=li,nV=Pd,iV=vC,PQ=Ds,vp=kn,oV=no,zI=ai,YI=PE,sV=uT,OQ=TQ,IQ=ME,AQ=String,kl=nV("JSON","stringify"),Jp=vp(/./.exec),GI=vp("".charAt),HQ=vp("".charCodeAt),kQ=vp("".replace),NQ=vp(1 .toString),DQ=/[\uD800-\uDFFF]/g,KI=/^[\uD800-\uDBFF]$/,qI=/^[\uDC00-\uDFFF]$/,XI=!IQ||oV(function(){var t=nV("Symbol")("stringify detection");return kl([t])!=="[null]"||kl({a:t})!=="{}"||kl(Object(t))!=="{}"}),ZI=oV(function(){return kl("\uDF06\uD834")!=='"\\udf06\\ud834"'||kl("\uDEAD")!=='"\\udead"'}),LQ=function(t,e){var n=sV(arguments),i=OQ(e);if(!(!zI(i)&&(t===void 0||YI(t))))return n[1]=function(o,s){if(zI(i)&&(s=PQ(i,this,AQ(o),s)),!YI(s))return s},iV(kl,null,n)},$Q=function(t,e,n){var i=GI(n,e-1),o=GI(n,e+1);return Jp(KI,t)&&!Jp(qI,o)||Jp(qI,t)&&!Jp(KI,i)?"\\u"+NQ(HQ(t,0),16):t};kl&&MQ({target:"JSON",stat:!0,arity:3,forced:XI||ZI},{stringify:function(e,n,i){var o=sV(arguments),s=iV(XI?LQ:kl,null,o);return ZI&&typeof s=="string"?kQ(s,DQ,$Q):s}});function Pm(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},Qe(t,(n,i)=>{i!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[i]=Pm(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[i]=[Pm(n[0])]:e[i]=[]:e[i]=null)})),e}function Wr(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function Hn(t,e,n){const i=Array.isArray(n);return Qe(e,(o,s)=>{(i===!1||n.includes(s))&&(t[s]=o)}),t}function AC(t,e){Qe(e,(n,i)=>{e[i]&&typeof e[i]=="object"?(t[i]||(Array.isArray(e[i])?t[i]=[]:Object.prototype.toString.call(e[i])==="[object Date]"?t[i]=e[i]:t[i]={}),AC(t[i],e[i])):t[i]=e[i]})}function Ni(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Hr(t){const e={};return Qe(t,(n,i)=>{e[i]=n}),e}function kt(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return F(n,o=>{t.MIXINS.push(o.MIXIN_NAME),Qe(o,(s,r)=>{if(t.prototype[r]!==void 0)throw new Error(`Mixin conflict. Property '${r}' already exist and cannot be overwritten.`);if(typeof s=="function")t.prototype[r]=s;else{const a=function(u,h){const d=`_${u}`,f=g=>{let m=g;return(Array.isArray(m)||Je(m))&&(m=Ni(m)),m};return function(){return this[d]===void 0&&(this[d]=f(h)),this[d]}},l=function(u){const h=`_${u}`;return function(d){this[h]=d}};Object.defineProperty(t.prototype,r,{get:a(r,s),set:l(r),configurable:!0})}})}),t}function hT(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Je(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ba(t,e,n,i){i.value=n,i.writable=i.writable!==!1,i.enumerable=i.enumerable!==!1,i.configurable=i.configurable!==!1,Object.defineProperty(t,e,i)}function Qe(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function FQ(t,e){const n=e.split(".");let i=t;return Qe(n,o=>{if(i=i[o],i===void 0)return i=void 0,!1}),i}function JS(t,e,n){const i=e.split(".");let o=t;i.forEach((s,r)=>{r!==i.length-1?(pn(o,s)||(o[s]={}),o=o[s]):o[s]=n})}function dT(t){if(!Je(t))return 0;const e=function(n){let i=0;return Je(n)?Qe(n,(o,s)=>{s!=="__children"&&(i+=e(o))}):i+=1,i};return e(t)}function Rs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,i={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(i,e,{get(){return this[n]},set(o){this._touched=!0,this[n]=o},enumerable:!0,configurable:!0}),i}function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const VQ="hooksRefRegisterer",rV={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){F(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){Qe(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Ba(rV,"MIXIN_NAME",VQ,{writable:!1,enumerable:!1});/*! @license DOMPurify 2.5.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.7/LICENSE */function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function KR(t,e){return KR=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},KR(t,e)}function WQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lv(t,e,n){return WQ()?lv=Reflect.construct:lv=function(o,s,r){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(o,a),c=new l;return r&&KR(c,r.prototype),c},lv.apply(null,arguments)}function hs(t){return BQ(t)||jQ(t)||UQ(t)||zQ()}function BQ(t){if(Array.isArray(t))return qR(t)}function jQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UQ(t,e){if(t){if(typeof t=="string")return qR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function zQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var YQ=Object.hasOwnProperty,JI=Object.setPrototypeOf,GQ=Object.isFrozen,KQ=Object.getPrototypeOf,qQ=Object.getOwnPropertyDescriptor,Di=Object.freeze,Go=Object.seal,XQ=Object.create,aV=typeof Reflect<"u"&&Reflect,Jv=aV.apply,XR=aV.construct;Jv||(Jv=function(e,n,i){return e.apply(n,i)});Di||(Di=function(e){return e});Go||(Go=function(e){return e});XR||(XR=function(e,n){return lv(e,hs(n))});var ZQ=Ko(Array.prototype.forEach),QI=Ko(Array.prototype.pop),Jd=Ko(Array.prototype.push),cv=Ko(String.prototype.toLowerCase),QS=Ko(String.prototype.toString),eA=Ko(String.prototype.match),ts=Ko(String.prototype.replace),JQ=Ko(String.prototype.indexOf),QQ=Ko(String.prototype.trim),ni=Ko(RegExp.prototype.test),e0=eee(TypeError);function Ko(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return Jv(t,e,i)}}function eee(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return XR(t,n)}}function tt(t,e,n){var i;n=(i=n)!==null&&i!==void 0?i:cv,JI&&JI(t,null);for(var o=e.length;o--;){var s=e[o];if(typeof s=="string"){var r=n(s);r!==s&&(GQ(e)||(e[o]=r),s=r)}t[s]=!0}return t}function nc(t){var e=XQ(null),n;for(n in t)Jv(YQ,t,[n])===!0&&(e[n]=t[n]);return e}function Qp(t,e){for(;t!==null;){var n=qQ(t,e);if(n){if(n.get)return Ko(n.get);if(typeof n.value=="function")return Ko(n.value)}t=KQ(t)}function i(o){return console.warn("fallback value for",o),null}return i}var tA=Di(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),t0=Di(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),n0=Di(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tee=Di(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),i0=Di(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nee=Di(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nA=Di(["#text"]),iA=Di(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),o0=Di(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oA=Di(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ew=Di(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iee=Go(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oee=Go(/<%[\w\W]*|[\w\W]*%>/gm),see=Go(/\${[\w\W]*}/gm),ree=Go(/^data-[\-\w.\u00B7-\uFFFF]/),aee=Go(/^aria-[\-\w]+$/),lee=Go(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cee=Go(/^(?:\w+script|data):/i),uee=Go(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hee=Go(/^html$/i),dee=Go(/^[a-z][.\w]*(-[.\w]+)+$/i),fee=function(){return typeof window>"u"?null:window},gee=function(e,n){if(vl(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(i=n.currentScript.getAttribute(o));var s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function lV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fee(),e=function(U){return lV(U)};if(e.version="2.5.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,i=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,r=t.Node,a=t.Element,l=t.NodeFilter,c=t.NamedNodeMap,u=c===void 0?t.NamedNodeMap||t.MozNamedAttrMap:c,h=t.HTMLFormElement,d=t.DOMParser,f=t.trustedTypes,g=a.prototype,m=Qp(g,"cloneNode"),w=Qp(g,"nextSibling"),b=Qp(g,"childNodes"),C=Qp(g,"parentNode");if(typeof s=="function"){var y=i.createElement("template");y.content&&y.content.ownerDocument&&(i=y.content.ownerDocument)}var E=gee(f,n),T=E?E.createHTML(""):"",N=i,D=N.implementation,B=N.createNodeIterator,K=N.createDocumentFragment,q=N.getElementsByTagName,J=n.importNode,ee={};try{ee=nc(i).documentMode?i.documentMode:{}}catch{}var re={};e.isSupported=typeof C=="function"&&D&&D.createHTMLDocument!==void 0&&ee!==9;var me=iee,pe=oee,ye=see,de=ree,ae=aee,we=cee,Ne=uee,p=dee,v=lee,x=null,A=tt({},[].concat(hs(tA),hs(t0),hs(n0),hs(i0),hs(nA))),V=null,Y=tt({},[].concat(hs(iA),hs(o0),hs(oA),hs(ew))),I=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,Q=null,ie=!0,se=!0,Re=!1,P=!0,R=!1,z=!0,te=!1,Z=!1,ne=!1,oe=!1,S=!1,_=!1,M=!0,L=!1,O="user-content-",$=!0,H=!1,k={},j=null,W=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),X=null,he=tt({},["audio","video","img","source","image","track"]),be=null,xe=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Be="http://www.w3.org/1998/Math/MathML",it="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml",Ie=Le,st=!1,cn=null,Vu=tt({},[Be,it,Le],QS),Qo,jd=["application/xhtml+xml","text/html"],Co="text/html",sn,Nn=null,ei=i.createElement("form"),Xt=function(U){return U instanceof RegExp||U instanceof Function},fS=function(U){Nn&&Nn===U||((!U||vl(U)!=="object")&&(U={}),U=nc(U),Qo=jd.indexOf(U.PARSER_MEDIA_TYPE)===-1?Qo=Co:Qo=U.PARSER_MEDIA_TYPE,sn=Qo==="application/xhtml+xml"?QS:cv,x="ALLOWED_TAGS"in U?tt({},U.ALLOWED_TAGS,sn):A,V="ALLOWED_ATTR"in U?tt({},U.ALLOWED_ATTR,sn):Y,cn="ALLOWED_NAMESPACES"in U?tt({},U.ALLOWED_NAMESPACES,QS):Vu,be="ADD_URI_SAFE_ATTR"in U?tt(nc(xe),U.ADD_URI_SAFE_ATTR,sn):xe,X="ADD_DATA_URI_TAGS"in U?tt(nc(he),U.ADD_DATA_URI_TAGS,sn):he,j="FORBID_CONTENTS"in U?tt({},U.FORBID_CONTENTS,sn):W,G="FORBID_TAGS"in U?tt({},U.FORBID_TAGS,sn):{},Q="FORBID_ATTR"in U?tt({},U.FORBID_ATTR,sn):{},k="USE_PROFILES"in U?U.USE_PROFILES:!1,ie=U.ALLOW_ARIA_ATTR!==!1,se=U.ALLOW_DATA_ATTR!==!1,Re=U.ALLOW_UNKNOWN_PROTOCOLS||!1,P=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,R=U.SAFE_FOR_TEMPLATES||!1,z=U.SAFE_FOR_XML!==!1,te=U.WHOLE_DOCUMENT||!1,oe=U.RETURN_DOM||!1,S=U.RETURN_DOM_FRAGMENT||!1,_=U.RETURN_TRUSTED_TYPE||!1,ne=U.FORCE_BODY||!1,M=U.SANITIZE_DOM!==!1,L=U.SANITIZE_NAMED_PROPS||!1,$=U.KEEP_CONTENT!==!1,H=U.IN_PLACE||!1,v=U.ALLOWED_URI_REGEXP||v,Ie=U.NAMESPACE||Le,I=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&Xt(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(I.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&Xt(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(I.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(I.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R&&(se=!1),S&&(oe=!0),k&&(x=tt({},hs(nA)),V=[],k.html===!0&&(tt(x,tA),tt(V,iA)),k.svg===!0&&(tt(x,t0),tt(V,o0),tt(V,ew)),k.svgFilters===!0&&(tt(x,n0),tt(V,o0),tt(V,ew)),k.mathMl===!0&&(tt(x,i0),tt(V,oA),tt(V,ew))),U.ADD_TAGS&&(x===A&&(x=nc(x)),tt(x,U.ADD_TAGS,sn)),U.ADD_ATTR&&(V===Y&&(V=nc(V)),tt(V,U.ADD_ATTR,sn)),U.ADD_URI_SAFE_ATTR&&tt(be,U.ADD_URI_SAFE_ATTR,sn),U.FORBID_CONTENTS&&(j===W&&(j=nc(j)),tt(j,U.FORBID_CONTENTS,sn)),$&&(x["#text"]=!0),te&&tt(x,["html","head","body"]),x.table&&(tt(x,["tbody"]),delete G.tbody),Di&&Di(U),Nn=U)},gP=tt({},["mi","mo","mn","ms","mtext"]),mP=tt({},["annotation-xml"]),Z2=tt({},["title","style","font","a","script"]),Lp=tt({},t0);tt(Lp,n0),tt(Lp,tee);var gS=tt({},i0);tt(gS,nee);var J2=function(U){var ge=C(U);(!ge||!ge.tagName)&&(ge={namespaceURI:Ie,tagName:"template"});var _e=cv(U.tagName),yt=cv(ge.tagName);return cn[U.namespaceURI]?U.namespaceURI===it?ge.namespaceURI===Le?_e==="svg":ge.namespaceURI===Be?_e==="svg"&&(yt==="annotation-xml"||gP[yt]):!!Lp[_e]:U.namespaceURI===Be?ge.namespaceURI===Le?_e==="math":ge.namespaceURI===it?_e==="math"&&mP[yt]:!!gS[_e]:U.namespaceURI===Le?ge.namespaceURI===it&&!mP[yt]||ge.namespaceURI===Be&&!gP[yt]?!1:!gS[_e]&&(Z2[_e]||!Lp[_e]):!!(Qo==="application/xhtml+xml"&&cn[U.namespaceURI]):!1},So=function(U){Jd(e.removed,{element:U});try{U.parentNode.removeChild(U)}catch{try{U.outerHTML=T}catch{U.remove()}}},$p=function(U,ge){try{Jd(e.removed,{attribute:ge.getAttributeNode(U),from:ge})}catch{Jd(e.removed,{attribute:null,from:ge})}if(ge.removeAttribute(U),U==="is"&&!V[U])if(oe||S)try{So(ge)}catch{}else try{ge.setAttribute(U,"")}catch{}},pP=function(U){var ge,_e;if(ne)U="<remove></remove>"+U;else{var yt=eA(U,/^[\r\n\t ]+/);_e=yt&&yt[0]}Qo==="application/xhtml+xml"&&Ie===Le&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");var Fi=E?E.createHTML(U):U;if(Ie===Le)try{ge=new d().parseFromString(Fi,Qo)}catch{}if(!ge||!ge.documentElement){ge=D.createDocument(Ie,"template",null);try{ge.documentElement.innerHTML=st?T:Fi}catch{}}var ui=ge.body||ge.documentElement;return U&&_e&&ui.insertBefore(i.createTextNode(_e),ui.childNodes[0]||null),Ie===Le?q.call(ge,te?"html":"body")[0]:te?ge.documentElement:ui},wP=function(U){return B.call(U.ownerDocument||U,U,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},bP=function(U){return U instanceof h&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof u)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},Ud=function(U){return vl(r)==="object"?U instanceof r:U&&vl(U)==="object"&&typeof U.nodeType=="number"&&typeof U.nodeName=="string"},Br=function(U,ge,_e){re[U]&&ZQ(re[U],function(yt){yt.call(e,ge,_e,Nn)})},vP=function(U){var ge;if(Br("beforeSanitizeElements",U,null),bP(U)||ni(/[\u0080-\uFFFF]/,U.nodeName))return So(U),!0;var _e=sn(U.nodeName);if(Br("uponSanitizeElement",U,{tagName:_e,allowedTags:x}),U.hasChildNodes()&&!Ud(U.firstElementChild)&&(!Ud(U.content)||!Ud(U.content.firstElementChild))&&ni(/<[/\w]/g,U.innerHTML)&&ni(/<[/\w]/g,U.textContent)||_e==="select"&&ni(/<template/i,U.innerHTML)||U.nodeType===7||z&&U.nodeType===8&&ni(/<[/\w]/g,U.data))return So(U),!0;if(!x[_e]||G[_e]){if(!G[_e]&&CP(_e)&&(I.tagNameCheck instanceof RegExp&&ni(I.tagNameCheck,_e)||I.tagNameCheck instanceof Function&&I.tagNameCheck(_e)))return!1;if($&&!j[_e]){var yt=C(U)||U.parentNode,Fi=b(U)||U.childNodes;if(Fi&&yt)for(var ui=Fi.length,ti=ui-1;ti>=0;--ti){var Jl=m(Fi[ti],!0);Jl.__removalCount=(U.__removalCount||0)+1,yt.insertBefore(Jl,w(U))}}return So(U),!0}return U instanceof a&&!J2(U)||(_e==="noscript"||_e==="noembed"||_e==="noframes")&&ni(/<\/no(script|embed|frames)/i,U.innerHTML)?(So(U),!0):(R&&U.nodeType===3&&(ge=U.textContent,ge=ts(ge,me," "),ge=ts(ge,pe," "),ge=ts(ge,ye," "),U.textContent!==ge&&(Jd(e.removed,{element:U.cloneNode()}),U.textContent=ge)),Br("afterSanitizeElements",U,null),!1)},yP=function(U,ge,_e){if(M&&(ge==="id"||ge==="name")&&(_e in i||_e in ei))return!1;if(!(se&&!Q[ge]&&ni(de,ge))){if(!(ie&&ni(ae,ge))){if(!V[ge]||Q[ge]){if(!(CP(U)&&(I.tagNameCheck instanceof RegExp&&ni(I.tagNameCheck,U)||I.tagNameCheck instanceof Function&&I.tagNameCheck(U))&&(I.attributeNameCheck instanceof RegExp&&ni(I.attributeNameCheck,ge)||I.attributeNameCheck instanceof Function&&I.attributeNameCheck(ge))||ge==="is"&&I.allowCustomizedBuiltInElements&&(I.tagNameCheck instanceof RegExp&&ni(I.tagNameCheck,_e)||I.tagNameCheck instanceof Function&&I.tagNameCheck(_e))))return!1}else if(!be[ge]){if(!ni(v,ts(_e,Ne,""))){if(!((ge==="src"||ge==="xlink:href"||ge==="href")&&U!=="script"&&JQ(_e,"data:")===0&&X[U])){if(!(Re&&!ni(we,ts(_e,Ne,"")))){if(_e)return!1}}}}}}return!0},CP=function(U){return U!=="annotation-xml"&&eA(U,p)},SP=function(U){var ge,_e,yt,Fi;Br("beforeSanitizeAttributes",U,null);var ui=U.attributes;if(ui){var ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};for(Fi=ui.length;Fi--;){ge=ui[Fi];var Jl=ge,Dn=Jl.name,mS=Jl.namespaceURI;if(_e=Dn==="value"?ge.value:QQ(ge.value),yt=sn(Dn),ti.attrName=yt,ti.attrValue=_e,ti.keepAttr=!0,ti.forceKeepAttr=void 0,Br("uponSanitizeAttribute",U,ti),_e=ti.attrValue,!ti.forceKeepAttr&&($p(Dn,U),!!ti.keepAttr)){if(!P&&ni(/\/>/i,_e)){$p(Dn,U);continue}R&&(_e=ts(_e,me," "),_e=ts(_e,pe," "),_e=ts(_e,ye," "));var _P=sn(U.nodeName);if(yP(_P,yt,_e)){if(L&&(yt==="id"||yt==="name")&&($p(Dn,U),_e=O+_e),z&&ni(/((--!?|])>)|<\/(style|title)/i,_e)){$p(Dn,U);continue}if(E&&vl(f)==="object"&&typeof f.getAttributeType=="function"&&!mS)switch(f.getAttributeType(_P,yt)){case"TrustedHTML":{_e=E.createHTML(_e);break}case"TrustedScriptURL":{_e=E.createScriptURL(_e);break}}try{mS?U.setAttributeNS(mS,Dn,_e):U.setAttribute(Dn,_e),bP(U)?So(U):QI(e.removed)}catch{}}}}Br("afterSanitizeAttributes",U,null)}},Q2=function ke(U){var ge,_e=wP(U);for(Br("beforeSanitizeShadowDOM",U,null);ge=_e.nextNode();)Br("uponSanitizeShadowNode",ge,null),!vP(ge)&&(ge.content instanceof o&&ke(ge.content),SP(ge));Br("afterSanitizeShadowDOM",U,null)};return e.sanitize=function(ke){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge,_e,yt,Fi,ui;if(st=!ke,st&&(ke="<!-->"),typeof ke!="string"&&!Ud(ke))if(typeof ke.toString=="function"){if(ke=ke.toString(),typeof ke!="string")throw e0("dirty is not a string, aborting")}else throw e0("toString is not a function");if(!e.isSupported){if(vl(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ke=="string")return t.toStaticHTML(ke);if(Ud(ke))return t.toStaticHTML(ke.outerHTML)}return ke}if(Z||fS(U),e.removed=[],typeof ke=="string"&&(H=!1),H){if(ke.nodeName){var ti=sn(ke.nodeName);if(!x[ti]||G[ti])throw e0("root node is forbidden and cannot be sanitized in-place")}}else if(ke instanceof r)ge=pP("<!---->"),_e=ge.ownerDocument.importNode(ke,!0),_e.nodeType===1&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?ge=_e:ge.appendChild(_e);else{if(!oe&&!R&&!te&&ke.indexOf("<")===-1)return E&&_?E.createHTML(ke):ke;if(ge=pP(ke),!ge)return oe?null:_?T:""}ge&&ne&&So(ge.firstChild);for(var Jl=wP(H?ke:ge);yt=Jl.nextNode();)yt.nodeType===3&&yt===Fi||vP(yt)||(yt.content instanceof o&&Q2(yt.content),SP(yt),Fi=yt);if(Fi=null,H)return ke;if(oe){if(S)for(ui=K.call(ge.ownerDocument);ge.firstChild;)ui.appendChild(ge.firstChild);else ui=ge;return(V.shadowroot||V.shadowrootmod)&&(ui=J.call(n,ui,!0)),ui}var Dn=te?ge.outerHTML:ge.innerHTML;return te&&x["!doctype"]&&ge.ownerDocument&&ge.ownerDocument.doctype&&ge.ownerDocument.doctype.name&&ni(hee,ge.ownerDocument.doctype.name)&&(Dn="<!DOCTYPE "+ge.ownerDocument.doctype.name+`>
`+Dn),R&&(Dn=ts(Dn,me," "),Dn=ts(Dn,pe," "),Dn=ts(Dn,ye," ")),E&&_?E.createHTML(Dn):Dn},e.setConfig=function(ke){fS(ke),Z=!0},e.clearConfig=function(){Nn=null,Z=!1},e.isValidAttribute=function(ke,U,ge){Nn||fS({});var _e=sn(ke),yt=sn(U);return yP(_e,yt,ge)},e.addHook=function(ke,U){typeof U=="function"&&(re[ke]=re[ke]||[],Jd(re[ke],U))},e.removeHook=function(ke){if(re[ke])return QI(re[ke])},e.removeHooks=function(ke){re[ke]&&(re[ke]=[])},e.removeAllHooks=function(){re={}},e}var mee=lV();function Hs(t){return t[0].toUpperCase()+t.substr(1)}function cV(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function uV(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function hV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,i)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[i]===void 0?"":e[i])}function sA(t){return fT(`${t}`,{ALLOWED_TAGS:[]})}function fT(t,e){return mee.sanitize(t,e)}const Hd=t=>["tabindex",t],pee=()=>["role","treegrid"],xr=()=>["role","presentation"],wee=()=>["role","gridcell"],bee=()=>["role","rowheader"],dV=()=>["role","rowgroup"],vee=()=>["role","columnheader"],ZR=()=>["role","row"],yee=()=>["role","menu"],Cee=()=>["role","menuitem"],See=()=>["role","menuitemcheckbox"],_ee=()=>["role","combobox"],fV=()=>["role","listbox"],Ree=()=>["role","option"],xee=()=>["role","checkbox"],Eee=()=>["scope","col"],Tee=()=>["scope","row"],Mee=()=>["type","text"],Qv=t=>["aria-label",t],Nu=()=>["aria-hidden","true"],Pee=()=>["aria-disabled","true"],Oee=()=>["aria-multiselectable","true"],gV=t=>["aria-haspopup",t],mV=t=>["aria-rowcount",t],HC=t=>["aria-colcount",t],pV=t=>["aria-rowindex",t],gT=t=>["aria-colindex",t],zo=t=>["aria-expanded",t],Iee=t=>["aria-sort",t],rA=()=>["aria-readonly","true"],aA=()=>["aria-invalid","true"],wV=t=>["aria-checked",t],mT=()=>["aria-selected","true"],Aee=()=>["aria-autocomplete","list"],Hee=t=>["aria-controls",t],kee=t=>["aria-activedescendant",t],Nee=t=>["aria-live",t],Dee=t=>["aria-relevant",t],Lee=t=>["aria-setsize",t],$ee=t=>["aria-posinset",t];function Fee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=null,o=t;for(;o!==null;){if(n===e){i=o;break}o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:(n+=1,o=o.parentNode)}return i}function Vee(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function Wee(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function wd(t){return Wee(t)&&t.parent}function pu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:i,DOCUMENT_FRAGMENT_NODE:o}=Node;let s=t;for(;s!=null&&s!==n;){const{nodeType:r,nodeName:a}=s;if(r===i&&(e.includes(a)||e.includes(s)))return s;const{host:l}=s;l&&r===o?s=l:s=s.parentNode}return null}function tw(t,e,n){const i=[];let o=t;for(;o&&(o=pu(o,e,n),!(!o||n&&!n.contains(o)));)i.push(o),o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:o=o.parentNode;const s=i.length;return s?i[s-1]:null}function uu(t,e){let n=t.parentNode,i=[];for(typeof e=="string"?t.defaultView?i=Array.prototype.slice.call(t.querySelectorAll(e),0):i=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):i.push(e);n!==null;){if(i.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function Bee(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function ic(t,e,n){const i=n.parentElement.querySelector(`.ht_clone_${t}`);return i?i.contains(e):null}function bV(t){return!t||!t.length?[]:t.filter(e=>!!e)}function vV(t,e){if(!t||!t.length)return{regexFree:[],regexes:[]};const n=[],i=[];return i.push(...t.filter(o=>{const s=o instanceof RegExp;return s&&e&&n.push(o),!s})),{regexFree:i,regexes:n}}function Fe(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function ue(t,e){typeof e=="string"&&(e=e.split(" ")),e=bV(e),e.length>0&&t.classList.add(...e)}function je(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:i}=vV(e,!0);n=bV(n),n.length>0&&t.classList.remove(...n),i.forEach(o=>{t.classList.forEach(s=>{o.test(s)&&t.classList.remove(s)})})}function $e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(i=>{Array.isArray(i)&&i[0]!==""&&t.setAttribute(...i)})}function kd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:i}=vV(e,!0);n.forEach(o=>{o!==""&&t.removeAttribute(o)}),i.forEach(o=>{t.getAttributeNames().forEach(s=>{o.test(s)&&t.removeAttribute(s)})})}function yV(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)yV(e[n])}}function kr(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const jee=/(<(.*)>|&(.*);)/;function Nd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;jee.test(e)?t.innerHTML=n?fT(e):e:wu(t,e)}function wu(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(kr(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function bd(t){const e=t.ownerDocument.documentElement;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return bd(n.host.impl);if(n.host)return bd(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(Na(n).display==="none")return!1;n=n.parentNode}return!0}function Kn(t){const e=t.ownerDocument,n=e.defaultView,i=e.documentElement;let o=t,s,r,a;for(s=o.offsetLeft,r=o.offsetTop,a=o;(o=o.offsetParent)&&!(o===e.body||!("offsetLeft"in o));)s+=o.offsetLeft,r+=o.offsetTop,a=o;return a&&a.style.position==="fixed"&&(s+=n.pageXOffset||i.scrollLeft,r+=n.pageYOffset||i.scrollTop),{left:s,top:r}}function CV(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function pT(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function wT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?CV(e):t.scrollTop}function SV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?pT(e):t.scrollLeft}function ey(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const i=["auto","scroll"];let o=t.parentNode;for(;o&&o.style&&e.body!==o;){let{overflow:s,overflowX:r,overflowY:a}=o.style;if([s,r,a].includes("scroll"))return o;if({overflow:s,overflowX:r,overflowY:a}=n.getComputedStyle(o),i.includes(s)||i.includes(r)||i.includes(a)||o.clientHeight<=o.scrollHeight+1&&(i.includes(a)||i.includes(s))||o.clientWidth<=o.scrollWidth+1&&(i.includes(r)||i.includes(s)))return o;o=o.parentNode}return n}function Uee(t){return t.scrollHeight-t.clientHeight}function zee(t){return t.scrollWidth-t.clientWidth}function vd(t){const e=t.ownerDocument,n=e.defaultView;let i=t.parentNode;for(;i&&i.style&&e.body!==i;){if(i.style.overflow!=="visible"&&i.style.overflow!=="")return i;const o=Na(i,n),s=["scroll","hidden","auto"],r=o.getPropertyValue("overflow"),a=o.getPropertyValue("overflow-y"),l=o.getPropertyValue("overflow-x");if(s.includes(r)||s.includes(a)||s.includes(l))return i;i=i.parentNode}return n}function Om(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const i=t.style[e];if(i!==""&&i!==void 0)return i;const o=Na(t,n);if(o[e]!==""&&o[e]!==void 0)return o[e]}function Na(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function Kt(t){return t.offsetWidth}function Pn(t){return t.offsetHeight}function Uh(t){return t.clientHeight||t.innerHeight}function _V(t){return t.clientWidth||t.innerWidth}function RV(t){return t.selectionStart?t.selectionStart:0}function Yee(t){return t.selectionEnd?t.selectionEnd:0}function lA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function kC(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const o=t.parentNode,s=o.style.display;o.style.display="block",t.setSelectionRange(e,n),o.style.display=s}}}let s0;function Gee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const i=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;return i===o&&(o=n.clientWidth),(t.body||t.documentElement).removeChild(n),i-o}function Zn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s0===void 0&&(s0=Gee(t)),s0}function Kee(t){return t.offsetWidth!==t.clientWidth}function qee(t){return t.offsetHeight!==t.clientHeight}function bT(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function NC(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function uv(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function xV(t){return uv(t)&&t.hasAttribute("data-hot-input")===!1}function EV(t){return!t.parentNode}function Xee(t,e){new IntersectionObserver((i,o)=>{i.forEach(s=>{s.isIntersecting&&t.offsetParent!==null&&(e(),o.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function TV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=t.ownerDocument,o=i.createRange(),s=i.defaultView.getSelection();$e(t,"contenteditable",!0),n&&$e(t,...Nu()),e&&ue(t,"invisibleSelection"),o.selectNodeContents(t),s.removeAllRanges(),s.addRange(o)}function MV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&je(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function Zee(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;TV(t,n),e(),MV(t,n)}function ns(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ete="base",vn=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class Dd{static get EDITOR_TYPE(){return ete}constructor(e){ns(this,"hot",void 0),ns(this,"state",vn.VIRGIN),ns(this,"_opened",!1),ns(this,"_fullEditMode",!1),ns(this,"_closeCallback",null),ns(this,"TD",null),ns(this,"row",null),ns(this,"col",null),ns(this,"prop",null),ns(this,"originalValue",null),ns(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,i,o,s,r){this.TD=o,this.row=e,this.col=n,this.prop=i,this.originalValue=s,this.cellProperties=r,this.state=this.isOpened()?this.state:vn.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let i,o,s,r;if(n){const l=this.hot.getSelectedLast();i=Math.max(Math.min(l[0],l[2]),0),o=Math.max(Math.min(l[1],l[3]),0),s=Math.max(l[0],l[2]),r=Math.max(l[1],l[3])}else[i,o,s,r]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",i,o);Array.isArray(a)&&([i,o]=a),this.hot.populateFromArray(i,o,e,s,r,"edit")}beginEditing(e,n){if(this.state!==vn.VIRGIN)return;const i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(o,s)),this.state=vn.EDITING,this.isInFullEditMode()){const r=typeof e=="string"?e:Tn(this.originalValue);this.setValue(r)}this.open(n),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,n,i){let o;if(i){const s=this._closeCallback;this._closeCallback=r=>{s&&s(r),i(r),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===vn.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===vn.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const s=this.getValue();this.cellProperties.trimWhitespace?o=[[typeof s=="string"?String.prototype.trim.call(s||""):s]]:o=[[s]],this.state=vn.WAITING,this.saveValue(o,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",r=>{this.state=vn.FINISHED,this.discardEditor(r)}):(this.state=vn.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=vn.FINISHED,this.discardEditor()}discardEditor(e){this.state===vn.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=vn.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=vn.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===vn.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:i,wtViewport:o}=this.hot.view._wt,s=this.hot.rootWindow,r=Kn(n),a=Kt(n),l=Kn(this.hot.rootElement),c=Kt(this.hot.rootElement),u=i.topOverlay.holder,h=i.inlineStartOverlay.holder,d=u!==s?u.scrollTop:0,f=h!==s?h.scrollLeft:0,g=s.innerWidth-l.left-c,{wtTable:m}=(e=i.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,w=m.name,b=["master","inline_start"].includes(w)?d:0,C=["master","top","bottom"].includes(w)?f:0,y=r.top===l.top?0:1;let E=r.top-l.top-y-b,T=0;this.hot.isRtl()?T=s.innerWidth-r.left-a-g-1+C:T=r.left-l.left-1-C,["top","top_inline_start_corner"].includes(w)&&(E+=i.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(w)&&(T+=Math.abs(i.inlineStartOverlay.getOverlayOffset()));const N=this.hot.hasColHeaders(),D=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),B=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),q=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(N&&D<=0||D===q)&&(E+=1),B<=0&&(T+=1);const J=o.rowsRenderCalculator.startPosition,ee=o.columnsRenderCalculator.startPosition,re=Math.abs(i.inlineStartOverlay.getScrollPosition()),me=i.topOverlay.getScrollPosition(),pe=Zn(this.hot.rootDocument);let ye=n.offsetTop;if(["inline_start","master"].includes(w)&&(ye+=J-me),["bottom","bottom_inline_start_corner"].includes(w)){const{wtViewport:G,wtTable:Q}=i.bottomOverlay.clone;ye+=G.getWorkspaceHeight()-Q.getHeight()-pe}let de=n.offsetLeft;this.hot.isRtl()?(de>=0?de=m.getWidth()-n.offsetLeft:de=Math.abs(de),de+=ee-re-a):["top","master","bottom"].includes(w)&&(de+=ee-re);const ae=Na(this.TD,this.hot.rootWindow),we=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",Ne=parseInt(ae[we],10)>0?0:1,p=parseInt(ae.borderTopWidth,10)>0?0:1,v=Kt(n)+Ne,x=Pn(n)+p,A=Kee(u)?pe:0,V=qee(h)?pe:0,Y=this.hot.view.maximumVisibleElementWidth(de)-A+Ne,I=Math.max(this.hot.view.maximumVisibleElementHeight(ye)-V+p,23);return{top:E,start:T,height:x,maxHeight:I,width:v,maxWidth:Y}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}kt(Dd,rV);function $s(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function Xc(t){return t.isImmediatePropagationEnabled===!1}function bu(t){return t.button===2}function vT(t){return t.button===0}function tte(t){return t instanceof TouchEvent}function nte(t,e){const n={x:t.offsetX,y:t.offsetY};let i=t.target;if(!(e instanceof HTMLElement)||i!==e&&i.contains(e))return n;for(;i!==e;)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;return n}function ite(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ks{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;ite(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function s(r){i.call(this,rte(r))}return this.context.eventListeners.push({element:e,event:n,callback:i,callbackProxy:s,options:o,eventManager:this}),e.addEventListener(n,s,o),()=>{this.removeEventListener(e,n,i)}}removeEventListener(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.context.eventListeners.length,r;for(;s;)if(s-=1,r=this.context.eventListeners[s],r.event===n&&r.element===e){if(i&&i!==r.callback||o&&r.eventManager!==this)continue;this.context.eventListeners.splice(s,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const i=this.context.eventListeners[n];e&&i.eventManager!==this||(this.context.eventListeners.splice(n,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let i=e.document,o=e;i||(i=e.ownerDocument?e.ownerDocument:e,o=i.defaultView);const s={bubbles:!0,cancelable:n!=="mousemove",view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let r;i.createEvent?(r=i.createEvent("MouseEvents"),r.initMouseEvent(n,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,i.body.parentNode)):r=i.createEventObject(),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(`on${n}`,r)}}function rte(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),$s(this)},t}function yT(t){return window.requestAnimationFrame(t)}function ty(t){window.cancelAnimationFrame(t)}function PV(){return"ontouchstart"in window}function ate(){return typeof window<"u"}let Uu;function lte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Uu||(typeof Intl=="object"?Uu=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?Uu=(n,i)=>`${n}`.localeCompare(i):Uu=(n,i)=>n===i?0:n>i?-1:1,Uu)}const Ao=t=>{const e={value:!1};return e.test=(n,i)=>{e.value=t(n,i)},e},ql={chrome:Ao((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:Ao(t=>/CriOS/.test(t)),edge:Ao(t=>/Edge/.test(t)),edgeWebKit:Ao(t=>/EdgiOS/.test(t)),firefox:Ao(t=>/Firefox/.test(t)),firefoxWebKit:Ao(t=>/FxiOS/.test(t)),mobile:Ao(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:Ao((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},yp={mac:Ao(t=>/^Mac/.test(t)),win:Ao(t=>/^Win/.test(t)),linux:Ao(t=>/^Linux/.test(t)),ios:Ao(t=>/iPhone|iPad|iPod/i.test(t))};function cte(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(ql,n=>{let{test:i}=n;return void i(t,e)})}function ute(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(yp,e=>{let{test:n}=e;return void n(t)})}ate()&&(cte(),ute());function OV(){return ql.chrome.value}function hte(){return ql.chromeWebKit.value}function r0(){return ql.firefox.value}function dte(){return ql.firefoxWebKit.value}function IV(){return ql.safari.value}function fte(){return ql.edge.value}function xl(){return ql.mobile.value}function AV(){return yp.ios.value}function HV(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&yp.mac.value}function cA(){return yp.win.value}function JR(){return yp.mac.value}function ki(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const i=Array.from(new Set([".",...e])).map(o=>`\\${o}`).join("|");return new RegExp(`^[+-]?(((${i})?\\d+((${i})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function gte(t){return ki(t,[","])}function Oe(t,e,n){let i=-1;for(typeof e=="function"?(n=e,e=t):i=t-1;++i<=e&&n(i)!==!1;);}function uA(t,e,n){let i=t+1;for(typeof e=="function"&&(n=e,e=0);--i>=e&&n(i)!==!1;);}function kV(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function Ot(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}function hA(t,e,n){t.addEventListener(e,n,!1)}function dA(t,e,n){t.removeEventListener(e,n,!1)}function fA(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function mte(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,i=t.createTextNode(""),o=t.createElement("span");let s;function r(){i.textContent=s.value,o.style.position="absolute",o.style.fontSize=fA(s).fontSize,o.style.fontFamily=fA(s).fontFamily,o.style.whiteSpace="pre",n.appendChild(o);const u=o.clientWidth+2;n.removeChild(o);const h=s.style;h.height=`${e.minHeight}px`,e.minWidth>u?h.width=`${e.minWidth}px`:u>e.maxWidth?h.width=`${e.maxWidth}px`:h.width=`${u}px`;const d=s.scrollHeight?s.scrollHeight-1:0;e.minHeight>d?h.height=`${e.minHeight}px`:e.maxHeight<d?(h.height=`${e.maxHeight}px`,h.overflowY="visible"):h.height=`${d}px`}function a(){t.defaultView.setTimeout(r,0)}function l(u){if(u&&u.minHeight)if(u.minHeight==="inherit")e.minHeight=s.clientHeight;else{const h=parseInt(u.minHeight,10);isNaN(h)||(e.minHeight=h)}if(u&&u.maxHeight)if(u.maxHeight==="inherit")e.maxHeight=s.clientHeight;else{const h=parseInt(u.maxHeight,10);isNaN(h)||(e.maxHeight=h)}if(u&&u.minWidth)if(u.minWidth==="inherit")e.minWidth=s.clientWidth;else{const h=parseInt(u.minWidth,10);isNaN(h)||(e.minWidth=h)}if(u&&u.maxWidth)if(u.maxWidth==="inherit")e.maxWidth=s.clientWidth;else{const h=parseInt(u.maxWidth,10);isNaN(h)||(e.maxWidth=h)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(i))}function c(u,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;s=u,l(h),s.nodeName==="TEXTAREA"&&(s.style.resize="none",s.style.height=`${e.minHeight}px`,s.style.minWidth=`${e.minWidth}px`,s.style.maxWidth=`${e.maxWidth}px`,s.style.overflowY="hidden"),d&&(hA(s,"input",r),hA(s,"keydown",a)),r()}return{init:c,resize:r,unObserve(){dA(s,"input",r),dA(s,"keydown",a)}}}function gA(t,e){const n=RV(e),i=e.value.split(`
`);let o=n,s=0;for(let r=0;r<i.length;r++){const a=i[r];r!==0&&(s+=i[r-1].length+1);const l=s+a.length;if(t==="home"?o=s:t==="end"&&(o=l),n<=l)break}kC(e,o)}function oc(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const bte="ht_editor_visible",nw="ht_editor_hidden",mA="textEditor",vte="text";class Du extends Dd{static get EDITOR_TYPE(){return vte}constructor(e){super(e),oc(this,"eventManager",new ks(this)),oc(this,"autoResize",mte(this.hot.rootDocument)),oc(this,"TEXTAREA",void 0),oc(this,"textareaStyle",void 0),oc(this,"TEXTAREA_PARENT",void 0),oc(this,"textareaParentStyle",void 0),oc(this,"layerClass",void 0),this.eventManager=new ks(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),Vee(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,i,o,s,r){const a=this.state;if(super.prepare(e,n,i,o,s,r),!r.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=r;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==vn.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,n){this.state===vn.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),kC(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),$e(this.TEXTAREA,[["data-hot-input",""],Hd(-1)]),ue(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),ue(this.TEXTAREA_PARENT,"handsontableInputHolder"),Fe(this.TEXTAREA_PARENT,this.layerClass)&&je(this.TEXTAREA_PARENT,this.layerClass),ue(this.TEXTAREA_PARENT,nw),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){fte()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",je(this.TEXTAREA_PARENT,this.layerClass),ue(this.TEXTAREA_PARENT,nw)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Oe(e.length-1,i=>{const o=e[i];if(Fe(o,"handsontableEditor"))return n=!0,!1}),Fe(this.TEXTAREA_PARENT,nw)&&je(this.TEXTAREA_PARENT,nw),n?(this.layerClass=bte,ue(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ue(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==vn.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:i,width:o,maxWidth:s,height:r,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${i}px`,this.showEditableElement();const l=Na(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const c=Na(this.TEXTAREA),u=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),h=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10),d=o-u,f=r-h,g=s-u,m=a-h;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(d,g),minHeight:Math.min(f,m),maxWidth:g,maxHeight:m},!0)}bindEvents(){AV()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===vn.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===vn.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),i={runOnlyIf:()=>Te(this.hot.getSelected()),group:mA},o=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(o(),!1),runOnlyIf:s=>!this.hot.selection.isMultiple()&&!s.altKey},{keys:[["Meta","Enter"]],callback:()=>(o(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(o(),!1)},{keys:[["Home"]],callback:(s,r)=>{let[a]=r;gA(a,this.TEXTAREA)}},{keys:[["End"]],callback:(s,r)=>{let[a]=r;gA(a,this.TEXTAREA)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(mA)}}const NV="gridDefault",Xl="editorManager.handlingEditor",yte={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}},Cte={name:"editorCloseAndSaveByArrowKeys",callback(t,e,n){const i=t._getEditorManager(),o=i.getActiveEditor();o.isInFullEditMode()&&o.state===vn.EDITING||(i.closeEditorAndSaveChanges(),t.getSelected()&&(n.includes("arrowdown")?t.selection.transformStart(1,0):n.includes("arrowup")?t.selection.transformStart(-1,0):n.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):n.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}},Ste={name:"editorCloseAndSaveByEnter",callback(t,e){const n=t._getEditorManager();n.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),n.moveSelectionAfterEnter(e)}},_te={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},Rte={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},xte={name:"editorOpen",callback(t,e,n){const i=t._getEditorManager(),o=t.getSelectedRangeLast(),{highlight:s}=o;if(t.selection.isMultiple()&&!o.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const r=t.getSettings(),a=typeof r.enterMoves=="function"?r.enterMoves(e):r.enterMoves;n.includes("shift")?t.selection.transformFocus(-a.row,-a.col):t.selection.transformFocus(a.row,a.col);return}s.isHeader()||(t.getSettings().enterBeginsEditing?i.cellProperties.readOnly?i.moveSelectionAfterEnter(e):i.openEditor(null,e,!0):i.moveSelectionAfterEnter(e),$s(e))}};function Ete(){return[yte,Cte,Ste,_te,Rte,xte]}const Tte={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}},Mte={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),i=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(i!==null){const o=t._createCellCoords(i,e.col),s=e.row-t.view.getFirstFullyVisibleRow(),r=Math.min(o.row-s,t.countRows()-1);t.selection.setRangeEnd(o),t.scrollViewportTo({row:r,verticalSnap:"top",horizontalSnap:"start"})}}},Pte={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}},Ote={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}},Ite={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:i}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,i.col,e)}},Ate={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast(),r=i.isHeader()&&t.selection.isSelectedByRowHeader();if(i.isCell()||r){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1),l=o.clone();l.row=i.row,e.setRangeStart(l,void 0,!1,i.clone()),r&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,s.col))}}},Hte={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&i.isCell()){const r=n.getNearestNotHiddenIndex(t.countCols()-1,-1),a=o.clone();a.col=i.col,e.setRangeStart(a,void 0,!1,i.clone()),e.setRangeEnd(t._createCellCoords(s.row,r))}}},kte={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&i.isCell()){const r=parseInt(t.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(r,1),l=o.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),e.setRangeEnd(t._createCellCoords(s.row,a))}}},Nte={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast(),r=i.isHeader()&&t.selection.isSelectedByColumnHeader();if(i.isCell()||r){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=o.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),r&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(s.row,a))}}},Dte={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast(),r=i.isHeader()&&t.selection.isSelectedByColumnHeader();if(i.isCell()||r){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=o.clone();l.col=i.col,e.setRangeStart(l,void 0,!1,i.clone()),r&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(s.row,a))}}},Lte={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:i,from:o,to:s}=t.getSelectedRangeLast(),r=i.isHeader()&&t.selection.isSelectedByRowHeader();if(i.isCell()||r){const a=n.getNearestNotHiddenIndex(0,1),l=o.clone();l.row=i.row,e.setRangeStart(l,void 0,!1,i.clone()),r&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,s.col))}}},$te={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:i}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,i.row,e)}},Fte={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}},Vte={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),i=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(i!==null){const o=t._createCellCoords(i,e.col),s=e.row-t.view.getFirstFullyVisibleRow(),r=Math.max(o.row-s,0);t.selection.setRangeEnd(o),t.scrollViewportTo({row:r,verticalSnap:"top",horizontalSnap:"start"})}}};function Wte(){return[Tte,Mte,Pte,Ote,Ite,Ate,Hte,kte,Nte,Dte,Lte,$te,Fte,Vte]}const Bte={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},jte={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let o=t.countVisibleRows()+n;i===t.countRows()-1?o=1:i+o>t.countRows()&&(o=t.countRows()-i-1),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},Ute={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),i=t.getSelectedRangeLast(),o=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(-o.row,-o.col):t.selection.transformStart(-o.row,-o.col)}},zte={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),i=t.getSelectedRangeLast(),o=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(o.row,o.col):t.selection.transformStart(o.row,o.col)}},Yte={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},Gte={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},Kte={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},qte={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:i}=t,o=parseInt(t.getSettings().fixedRowsBottom,10),s=n.getNearestNotHiddenIndex(t.countRows()-o-1,-1),r=i.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(s,r))}},Xte={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},Zte={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,i=parseInt(t.getSettings().fixedColumnsStart,10),o=t.getSelectedRangeLast().highlight.row,s=n.getNearestNotHiddenIndex(i,1);e.setRangeStart(t._createCellCoords(o,s))}},Jte={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,i=t.getSelectedRangeLast().highlight.row;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);o===null&&(o=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(i,o))}},Qte={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:i}=t.getSelectedRangeLast().highlight;let o=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);o===null&&(o=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(i,o))}},ene={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},tne={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:i}=t,o=parseInt(t.getSettings().fixedRowsTop,10),s=parseInt(t.getSettings().fixedColumnsStart,10),r=n.getNearestNotHiddenIndex(o,1),a=i.getNearestNotHiddenIndex(s,1);e.setRangeStart(t._createCellCoords(r,a))}},nne={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},ine={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:i}=t.getSelectedRangeLast().highlight;let o=-(t.countVisibleRows()+n);i===-n?o=-1:i+o<n&&(o=-(i+n)),t.selection.transformStart(o,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function one(){return[Bte,jte,Ute,zte,Yte,Gte,Kte,qte,Xte,Zte,Jte,Qte,ene,tne,nne,ine]}const sne={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},rne={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,i=t.view.getFirstFullyVisibleColumn()-1,o=t.view.getLastFullyVisibleRow()+1,s=t.view.getLastFullyVisibleColumn()+1,r=t._createCellCoords(n,i),a=t._createCellCoords(o,s);if(!t._createCellRange(r,r,a).includes(e)&&(e.row>=0||e.col>=0)){const c={};if(e.col>=0){const u=Math.floor(t.countVisibleCols()/2);c.col=Math.max(e.col-u,0)}if(e.row>=0){const u=Math.floor(t.countVisibleRows()/2);c.row=Math.max(e.row-u,0)}t.scrollViewportTo({...c,verticalSnap:"top",horizontalSnap:"start"})}}},ane={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},lne={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},cne={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:i}=e[e.length-1].highlight.normalize(),o=t.getDataAtCell(n,i),s=new Map;for(let r=0;r<e.length;r++)e[r].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==n||l!==i)){const{readOnly:c}=t.getCellMeta(a,l);c||s.set(`${a}x${l}`,[a,l,o])}});t.setDataAtCell(Array.from(s.values()))}},une=[...Ete(),...Wte(),...one(),sne,rne,ane,lne,cne];function DV(t){const e={};return une.forEach(n=>{let{name:i,callback:o}=n;e[i]=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return o(t,...r)}}),e}function hne(t){const e=t.getShortcutManager().addContext("editor"),n=DV(t),i={group:Xl};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(o,s)=>n.editorCloseAndSaveByEnter(o,s)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(o,s)=>n.editorCloseAndSaveByEnter(o,s)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:(o,s)=>n.editorCloseAndSave(o,s)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(o,s)=>n.editorCloseAndSaveByArrowKeys(o,s)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],i)}function dne(t){const e=t.getShortcutManager().addContext("grid"),n=DV(t),i={runOnlyIf:()=>{const{navigableHeaders:o}=t.getSettings();return Te(t.getSelected())&&(o||!o&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:NV};e.addShortcuts([{keys:[["F2"]],callback:o=>n.editorFastOpen(o)},{keys:[["Enter"],["Enter","Shift"]],callback:(o,s)=>n.editorOpen(o,s)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:Xl,runOnlyIf:()=>Te(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>{var o;return!((o=t.getSelectedRangeLast())!==null&&o!==void 0&&o.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var o;return(o=t.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>{var o,s;return!((o=t.getSelectedRangeLast())!==null&&o!==void 0&&o.highlight.isHeader())&&((s=t.getSelectedRangeLast())===null||s===void 0?void 0:s.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:o=>n.moveCellSelectionInlineStart(o)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:o=>n.moveCellSelectionInlineEnd(o)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],i)}function fne(t){[dne,hne].forEach(e=>e(t))}const pA="handsontableEditor",gne="handsontable";class CT extends Du{static get EDITOR_TYPE(){return gne}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),kC(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(c,u){const h=this.getSourceData(u.row,u.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&Hn(l,r.handsontable),this.htOptions=l}beginEditing(e,n){const i=this.hot.getSettings().onBeginEditing;i&&i()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,i){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const o=this.htEditor.getValue();o!==void 0&&this.setValue(o)}super.finishEditing(e,n,i)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const i={group:pA,relativeToGroup:Xl,position:"before"},o=(s,r)=>{const a=this.htEditor;if(s!==void 0&&(s<0||a.flipped&&s>a.countRows()-1?a.deselectCell():a.selectCell(s,0),a.getData().length))return r.preventDefault(),$s(r),this.hot.listen(),this.TEXTAREA.focus(),!1};n.addShortcuts([{keys:[["ArrowUp"]],callback:s=>{const r=this.htEditor;let a,l;return!r.getSelectedLast()&&r.flipped?a=r.countRows()-1:r.getSelectedLast()&&(r.flipped?(l=r.getSelectedLast()[0],a=Math.max(0,l-1)):(l=r.getSelectedLast()[0],a=l-1)),o(a,s)},preventDefault:!1},{keys:[["ArrowDown"]],callback:s=>{const r=this.htEditor;let a,l;if(!r.getSelectedLast()&&!r.flipped)a=0;else if(r.getSelectedLast()){if(r.flipped)a=r.getSelectedLast()[0]+1;else if(!r.flipped){const c=r.countRows()-1;l=r.getSelectedLast()[0],a=Math.min(c,l+1)}}return o(a,s)},preventDefault:!1}],i)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(pA)}}const He={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:r0()?182:174,AUDIO_MUTE:r0()?181:173,AUDIO_UP:r0()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},mne=[He.ALT,He.ARROW_DOWN,He.ARROW_LEFT,He.ARROW_RIGHT,He.ARROW_UP,He.AUDIO_DOWN,He.AUDIO_MUTE,He.AUDIO_UP,He.BACKSPACE,He.CAPS_LOCK,He.DELETE,He.END,He.ENTER,He.ESCAPE,He.F1,He.F2,He.F3,He.F4,He.F5,He.F6,He.F7,He.F8,He.F9,He.F10,He.F11,He.F12,He.F13,He.F14,He.F15,He.F16,He.F17,He.F18,He.F19,He.HOME,He.INSERT,He.MEDIA_NEXT,He.MEDIA_PLAY_PAUSE,He.MEDIA_PREV,He.MEDIA_STOP,He.NULL,He.NUM_LOCK,He.PAGE_DOWN,He.PAGE_UP,He.PAUSE,He.SCROLL_LOCK,He.SHIFT,He.TAB];function pne(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function LV(t){return mne.includes(t)}function wne(t){return[He.CONTROL,He.COMMAND_LEFT,He.COMMAND_RIGHT,He.COMMAND_FIREFOX].includes(t)}function Cp(t,e){const n=e.split("|");let i=!1;return F(n,o=>{if(t===He[o])return i=!0,!1}),i}const bne="base";function Sp(t,e,n,i,o,s,r){const a=r.ariaTags,l=[],c=[],u=[],h=[];r.className&&ue(e,r.className),r.readOnly?(l.push(r.readOnlyCellClassName),a&&h.push(rA())):a&&u.push(rA()[0]),r.valid===!1&&r.invalidCellClassName?(l.push(r.invalidCellClassName),a&&h.push(aA())):(c.push(r.invalidCellClassName),a&&u.push(aA()[0])),r.wordWrap===!1&&r.noWordWrapClassName&&l.push(r.noWordWrapClassName),!s&&r.placeholder&&l.push(r.placeholderCellClassName),je(e,c),ue(e,l),kd(e,u),$e(e,h)}Sp.RENDERER_TYPE=bne;const vne="text";function ja(t,e,n,i,o,s,r){Sp.apply(this,[t,e,n,i,o,s,r]);let a=s;if(!a&&r.placeholder&&(a=r.placeholder),a=Tn(a),r.trimWhitespace&&(a=a.trim()),r.rendererTemplate){kr(e);const l=t.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=r.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=t.getSourceDataAtRow(n),e.appendChild(l)}else wu(e,a)}ja.RENDERER_TYPE=vne;function yne(t,e,n){Cne(t,e),e.set(t,n)}function Cne(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iw(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wA(t,e){return t.get(Rne(t,e))}function Rne(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const xne="autocomplete";var a0=new WeakMap;class ST extends CT{constructor(){super(...arguments),iw(this,"query",null),iw(this,"strippedChoices",[]),iw(this,"rawChoices",[]),yne(this,a0,this.hot.guid.slice(0,9)),iw(this,"sortByRelevance",function(e,n,i){const o=[],s=[],r=e.length;let a=n.length,l,c,u,h;if(r===0){for(u=0;u<a;u++)s.push(u);return s}for(u=0;u<a;u++){if(c=sA(Tn(n[u])),i)h=c.indexOf(e);else{const d=this.cellProperties.locale;h=c.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}h!==-1&&(l=c.length-h-r,o.push({baseIndex:u,index:h,charsLeft:l,value:c}))}for(o.sort((d,f)=>{if(f.index===-1)return-1;if(d.index===-1)return 1;if(d.index<f.index)return-1;if(f.index<d.index)return 1;if(d.index===f.index){if(d.charsLeft<f.charsLeft)return-1;if(d.charsLeft>f.charsLeft)return 1}return 0}),u=0,a=o.length;u<a;u++)s.push(o[u].baseIndex);return s})}static get EDITOR_TYPE(){return xne}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return Te(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),ue(this.htContainer,"autocompleteEditor"),ue(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&$e(this.TEXTAREA,[Mee(),_ee(),gV("listbox"),Aee()])}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r),this.hot.getSettings().ariaTags&&$e(this.TEXTAREA,[zo("false"),Hee(`${wA(a0,this)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,i=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,o=i==null?void 0:i.length,{row:s,col:r}=this;this.showEditableElement(),this.focus();let a=Zn();a===0&&JR()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:e?[Kt(this.TEXTAREA)-2]:void 0,width:e?Kt(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,c,u,h,d,f,g)=>{ja(l,c,u,h,d,f,g);const{filteringCaseSensitive:m,allowHtml:w,locale:b}=this.cellProperties,C=this.query;let y=Tn(f),E,T;y&&!w&&(E=m===!0?y.indexOf(C):y.toLocaleLowerCase(b).indexOf(C.toLocaleLowerCase(b)),E!==-1&&(T=y.substr(E,C.length),y=y.replace(T,`<strong>${T}</strong>`))),n&&$e(c,[Ree(),...i?[Lee(o)]:[],...i?[$ee(i.indexOf(f)+1)]:[],["id",`${this.htEditor.rootElement.id}_${u}-${h}`]]),c.innerHTML=y},afterSelectionEnd:(l,c)=>{if(n){const u=this.htEditor.getCell(l,c,!0);$e(u,[mT()]),$e(this.TEXTAREA,...kee(u.id))}}}),n&&($e(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...xr()),$e(this.htEditor.rootElement,[fV(),Nee("polite"),Dee("text"),["id",`${wA(a0,this)}-listbox-${s}-${r}`]]),$e(this.TEXTAREA,...zo("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&$e(this.TEXTAREA,[zo("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,i=>{this.rawChoices=i,this.updateChoicesList(this.stripValuesIfNeeded(i))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=RV(this.TEXTAREA),i=Yee(this.TEXTAREA),o=this.cellProperties.sortByRelevance,s=this.cellProperties.filter;let r=null,a=null,l=e;o&&(r=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));const c=Array.isArray(r)?r.length:0;if(s===!1)c&&(a=r[0]);else{const u=[];for(let h=0,d=l.length;h<d&&!(o&&c<=h);h++)c?u.push(l[r[h]]):u.push(l[h]);a=0,l=u}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(av([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),kC(this.TEXTAREA,n,n===i?void 0:i)}flipDropdownIfNeeded(){const e=vd(this.hot.view._wt.wtTable.TABLE),n=e===this.hot.rootWindow,i=this.cellProperties.preventOverflow;if(n||!n&&(i||i==="horizontal"))return!1;const o=Kn(this.TEXTAREA),s=Pn(this.TEXTAREA),r=this.getDropdownHeight(),a=e.scrollTop,l=Pn(this.hot.view._wt.wtTable.THEAD),c=Kn(e),u=o.top-c.top-l+a,h=e.scrollHeight-u-l-s,d=r>h&&u>h;return d?this.flipDropdown(r):this.unflipDropdown(),this.limitDropdownIfNeeded(d?u:h,r),d}limitDropdownIfNeeded(e,n){if(n>e){let i=0,o=0,s=0,r=null;do s=this.htEditor.getRowHeight(o)||this.htEditor.view._wt.getSetting("defaultRowHeight"),i+=s,o+=1;while(i<e);r=i-s,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-r}px`),this.setDropdownHeight(i-s)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){const e=this.htEditor.getColWidth(0)+Zn(this.hot.rootDocument)+2,n=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:n?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,n=this.cellProperties.visibleRows;return this.strippedChoices.length>=n?n*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,i=at(e,s=>Tn(s));return at(i,s=>n?s:sA(s))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),i={row:n?n.from.row:-1};let o=!1;return e===He.ARROW_DOWN&&i.row>0&&i.row<this.htEditor.countRows()-1&&(o=!0),e===He.ARROW_UP&&i.row>-1&&(o=!0),o}onBeforeKeyDown(e){if(pne(e.keyCode)||e.keyCode===He.BACKSPACE||e.keyCode===He.DELETE||e.keyCode===He.INSERT){let n=10;if(e.keyCode===He.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}const Ene="checkbox";class $V extends Dd{static get EDITOR_TYPE(){return Ene}beginEditing(e,n){if(n&&n.type==="mouseup"&&n.target.nodeName==="TD"){const i=this.TD.querySelector('input[type="checkbox"]');Fe(i,"htBadValue")||i.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */const El=()=>window,No=()=>window.document,QR=(t,e)=>window.setTimeout(t,e),ar=function(t,e,n,i){t.addEventListener(e,n,!!i)},Gr=function(t,e,n,i){t.removeEventListener(e,n,!!i)},Tne=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},so=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},l0=function(t,e){so(t,e)||(t.className=t.className===""?e:t.className+" "+e)},c0=function(t,e){t.className=Tne((" "+t.className+" ").replace(" "+e+" "," "))},_T=function(t){return/Array/.test(Object.prototype.toString.call(t))},ho=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},Mne=function(t){let e=t.getDay();return e===0||e===6},Pne=function(t){return t%4===0&&t%100!==0||t%400===0},bA=function(t,e){return[31,Pne(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},ow=function(t){ho(t)&&t.setHours(0,0,0,0)},sw=function(t,e){return t.getTime()===e.getTime()},ny=function(t,e,n){let i,o;for(i in e)o=t[i]!==void 0,o&&typeof e[i]=="object"&&e[i]!==null&&e[i].nodeName===void 0?ho(e[i])?n&&(t[i]=new Date(e[i].getTime())):_T(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=ny({},e[i],n):(n||!o)&&(t[i]=e[i]);return t},vA=function(t,e,n){let i=No().createEvent("HTMLEvents");i.initEvent(e,!0,!1),i=ny(i,n),t.dispatchEvent(i)},yA=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},js={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},CA=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},One=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},Ine=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),i=t.getDay(),o=e,s=o-1,r=7,a=function(d){return(d+r-1)%r};t.setDate(n+s-a(i));let l=new Date(t.getFullYear(),0,o),c=24*60*60*1e3,u=(t.getTime()-l.getTime())/c;return 1+Math.round((u-s+a(l.getDay()))/r)},Ane=function(t,e,n,i,o){let s=new Date(i,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(s).isoWeek():Ine(s,o))+"</td>"},Hne=function(t,e,n,i){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},kne=function(t){return"<tbody>"+t.join("")+"</tbody>"},Nne=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+CA(t,e)+'">'+CA(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},Dne=function(t,e,n,i,o,s){let r,a,l,c=t._o,u=n===c.minYear,h=n===c.maxYear,d='<div id="'+s+'" class="pika-title" role="heading" aria-live="polite">',f,g,m=!0,w=!0;for(l=[],r=0;r<12;r++)l.push('<option value="'+(n===o?r-e:12+r-e)+'"'+(r===i?' selected="selected"':"")+(u&&r<c.minMonth||h&&r>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[r]+"</option>");for(f='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",_T(c.yearRange)?(r=c.yearRange[0],a=c.yearRange[1]+1):(r=n-c.yearRange,a=1+n+c.yearRange),l=[];r<a&&r<=c.maxYear;r++)r>=c.minYear&&l.push('<option value="'+r+'"'+(r===n?' selected="selected"':"")+">"+r+"</option>");return g='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",c.showMonthAfterYear?d+=g+f:d+=f+g,u&&(i===0||c.minMonth>=i)&&(m=!1),h&&(i===11||c.maxMonth<=i)&&(w=!1),e===0&&(d+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(w?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),d+="</div>"},Lne=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+Nne(t)+kne(e)+"</table>"};function ex(t){let e=this,n=e.config(t);e._onMouseDown=function(o){if(!e._v)return;o=o||El().event;let s=o.target||o.srcElement;if(s)if(so(s,"is-disabled")||(so(s,"pika-button")&&!so(s,"is-empty")&&!so(s.parentNode,"is-disabled")?(e.setDate(new Date(s.getAttribute("data-pika-year"),s.getAttribute("data-pika-month"),s.getAttribute("data-pika-day"))),n.bound&&QR(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):so(s,"pika-prev")?e.prevMonth():so(s,"pika-next")&&e.nextMonth()),so(s,"pika-select"))e._c=!0;else if(o.preventDefault)o.preventDefault();else return o.returnValue=!1,!1},e._onChange=function(o){o=o||El().event;let s=o.target||o.srcElement;s&&(so(s,"pika-select-month")?e.gotoMonth(s.value):so(s,"pika-select-year")&&e.gotoYear(s.value))},e._onKeyChange=function(o){if(o=o||El().event,e.isVisible())switch(o.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let o=this.moment(n.field.value,n.format,n.formatStrict);return o&&o.isValid()?o.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(o){let s;o.firedBy!==e&&(s=e._parseFieldValue(),ho(s)&&e.setDate(s),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let o=No().activeElement;do if(so(o,"pika-single"))return;while(o=o.parentNode);e._c||(e._b=QR(function(){e.hide()},50)),e._c=!1},e._onClick=function(o){o=o||El().event;let s=o.target||o.srcElement,r=s;if(s){!hasEventListeners&&so(s,"pika-select")&&(s.onchange||(s.setAttribute("onchange","return;"),ar(s,"change",e._onChange)));do if(so(r,"pika-single")||r===n.trigger)return;while(r=r.parentNode);e._v&&s!==n.trigger&&r!==n.trigger&&e.hide()}},e.el=No().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),ar(e.el,"mousedown",e._onMouseDown,!0),ar(e.el,"touchend",e._onMouseDown,!0),ar(e.el,"change",e._onChange),n.keyboardInput&&ar(No(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?No().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),ar(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let i=n.defaultDate;ho(i)?n.setDefaultDate?e.setDate(i,!0):e.gotoDate(i):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",ar(n.trigger,"click",e._onInputClick),ar(n.trigger,"focus",e._onInputFocus),ar(n.trigger,"blur",e._onInputBlur)):this.show()}ex.prototype={config:function(t){this._o||(this._o=ny({},js,!0));let e=ny(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,ho(e.minDate)||(e.minDate=!1),ho(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),_T(e.yearRange)){let i=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||js.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,ho(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return ho(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",vA(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!ho(t))return;let n=this._o.minDate,i=this._o.maxDate;ho(n)&&t<n?t=n:ho(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),ow(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),vA(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(ho(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=o<n.getTime()||i.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,i=parseInt(e)*24*60*60*1e3,o;t==="add"?o=new Date(n.valueOf()+i):t==="subtract"&&(o=new Date(n.valueOf()-i)),this.setDate(o)},adjustCalendars:function(){this.calendars[0]=yA(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=yA({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(ow(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=js.minDate,this._o.minYear=js.minYear,this._o.minMonth=js.minMonth,this._o.startRange=js.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(ow(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=js.maxDate,this._o.maxYear=js.maxYear,this._o.maxMonth=js.maxMonth,this._o.endRange=js.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,i=e.maxYear,o=e.minMonth,s=e.maxMonth,r="",a;this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),r+='<div class="pika-lendar">'+Dne(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=r,e.bound&&e.field.type!=="hidden"&&QR(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,i,o,s,r,a,l,c,u;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,i=El().innerWidth||No().documentElement.clientWidth,o=El().innerHeight||No().documentElement.clientHeight,s=No().body.scrollTop||No().documentElement.scrollTop,c=!0,u=!0,l=t.getBoundingClientRect(),r=l.left+El().pageXOffset,a=l.bottom+El().pageYOffset,(this._o.reposition&&r+e>i||this._o.position.indexOf("right")>-1&&r-e+t.offsetWidth>0)&&(r=r-e+t.offsetWidth,c=!1),(this._o.reposition&&a+n>o+s||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,u=!1),r<0&&(r=0),a<0&&(a=0),this.el.style.left=r+"px",this.el.style.top=a+"px",l0(this.el,c?"left-aligned":"right-aligned"),l0(this.el,u?"bottom-aligned":"top-aligned"),c0(this.el,c?"right-aligned":"left-aligned"),c0(this.el,u?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let i=this._o,o=new Date,s=bA(t,e),r=new Date(t,e,1).getDay(),a=[],l=[];ow(o),i.firstDay>0&&(r-=i.firstDay,r<0&&(r+=7));let c=e===0?11:e-1,u=e===11?0:e+1,h=e===0?t-1:t,d=e===11?t+1:t,f=bA(h,c),g=s+r,m=g;for(;m>7;)m-=7;g+=7-m;let w=!1;for(let b=0,C=0;b<g;b++){let y=new Date(t,e,1+(b-r)),E=ho(this._d)?sw(y,this._d):!1,T=sw(y,o),N=i.events.indexOf(y.toDateString())!==-1,D=b<r||b>=s+r,B=1+(b-r),K=e,q=t,J=i.startRange&&sw(i.startRange,y),ee=i.endRange&&sw(i.endRange,y),re=i.startRange&&i.endRange&&i.startRange<y&&y<i.endRange,me=i.minDate&&y<i.minDate||i.maxDate&&y>i.maxDate||i.disableWeekends&&Mne(y)||i.disableDayFn&&i.disableDayFn(y);D&&(b<r?(B=f+B,K=c,q=h):(B=B-s,K=u,q=d));let pe={day:B,month:K,year:q,hasEvent:N,isSelected:E,isToday:T,isDisabled:me,isEmpty:D,isStartRange:J,isEndRange:ee,isInRange:re,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&E&&(w=!0),l.push(One(pe)),++C===7&&(i.showWeekNumber&&l.unshift(Ane(this,b-r,e,t,i.firstWeekOfYearMinDays)),a.push(Hne(l,i.isRTL,i.pickWholeWeek,w)),l=[],C=0,w=!1)}return Lne(i,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c0(this.el,"is-hidden"),this._o.bound&&(ar(No(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&Gr(No(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l0(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),Gr(this.el,"mousedown",this._onMouseDown,!0),Gr(this.el,"touchend",this._onMouseDown,!0),Gr(this.el,"change",this._onChange),t.keyboardInput&&Gr(No(),"keydown",this._onKeyChange),t.field&&(Gr(t.field,"change",this._onInputChange),t.bound&&(Gr(t.trigger,"click",this._onInputClick),Gr(t.trigger,"focus",this._onInputFocus),Gr(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function u0(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const FV="date",SA="dateEditor";class VV extends Du{constructor(){super(...arguments),u0(this,"defaultDateFormat","DD/MM/YYYY"),u0(this,"parentDestroyed",!1),u0(this,"$datePicker",null)}static get EDITOR_TYPE(){return FV}init(){if(typeof ce!="function")throw new Error("You need to include moment.js to your project.");if(typeof ex!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ue(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{Fe(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const i=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),i.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:SA})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{const o=this.hot._getEditorManager();o.closeEditor(),this.hot.view.render(),o.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(SA),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.hot.view.isMouseDown(),o=e?LV(e.keyCode):!1;let s;this.datePicker.style.display="block",this.$datePicker=new ex(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(ce),this.$datePicker._onInputFocus=function(){},this.originalValue?(s=this.originalValue,ce(s,n,!0).isValid()&&this.$datePicker.setMoment(ce(s,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!o&&!i&&this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,ce(s,n,!0).isValid()&&this.$datePicker.setMoment(ce(s,n),!0),!o&&!i&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&AC(n,this.cellProperties.datePickerConfig);const i=n.onSelect,o=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=s=>{let r=s;isNaN(r.getTime())||(r=ce(r).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(r),i&&i()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),o&&o()},n}refreshDimensions(e){var n;if(super.refreshDimensions(e),this.state!==vn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}const{rowIndexMapper:i,columnIndexMapper:o}=this.hot,{wtOverlays:s}=this.hot.view._wt,{wtTable:r}=(n=s.getParentOverlay(this.TD))!==null&&n!==void 0?n:this.hot.view._wt,a=i.getVisualFromRenderableIndex(r.getFirstPartiallyVisibleRow()),l=i.getVisualFromRenderableIndex(r.getLastPartiallyVisibleRow()),c=o.getVisualFromRenderableIndex(r.getFirstPartiallyVisibleColumn()),u=o.getVisualFromRenderableIndex(r.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=c&&this.col<=u){const h=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+h.top+Pn(this.TD)}px`;let d=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?d+=h.right-Kt(this.datePicker):d+=h.left,this.datePickerStyle.left=`${d}px`}else this.hideDatepicker()}}var WV={},Vne=W$,Wne=DE,Bne=Object.keys||function(e){return Vne(e,Wne)},jne=Ns,Une=k$,zne=Kl,Yne=Fa,Gne=gC,Kne=Bne;WV.f=jne&&!Une?Object.defineProperties:function(e,n){Yne(e);for(var i=Gne(n),o=Kne(n),s=o.length,r=0,a;s>r;)zne.f(e,a=o[r++],i[a]);return e};var qne=Pd,BV=qne("document","documentElement"),Xne=Fa,Zne=WV,_A=DE,Jne=kE,Qne=BV,eie=AE,tie=L$,RA=">",xA="<",tx="prototype",nx="script",jV=tie("IE_PROTO"),h0=function(){},UV=function(t){return xA+nx+RA+t+xA+"/"+nx+RA},EA=function(t){t.write(UV("")),t.close();var e=t.parentWindow.Object;return t=null,e},nie=function(){var t=eie("iframe"),e="java"+nx+":",n;return t.style.display="none",Qne.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(UV("document.F=Object")),n.close(),n.F},rw,hv=function(){try{rw=new ActiveXObject("htmlfile")}catch{}hv=typeof document<"u"?document.domain&&rw?EA(rw):nie():EA(rw);for(var t=_A.length;t--;)delete hv[tx][_A[t]];return hv()};Jne[jV]=!0;var iie=Object.create||function(e,n){var i;return e!==null?(h0[tx]=Xne(e),i=new h0,h0[tx]=null,i[jV]=e):i=hv(),n===void 0?i:Zne.f(i,n)},oie=Gl,sie=iie,rie=Kl.f,ix=oie("unscopables"),ox=Array.prototype;ox[ix]===void 0&&rie(ox,ix,{configurable:!0,value:sie(null)});var RT=function(t){ox[ix][t]=!0},aie=RT;aie("flatMap");function Et(){Te(console)&&console.warn(...arguments)}function xT(){Te(console)&&console.error(...arguments)}function Yt(t){return typeof t=="function"}function ET(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,i;function o(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{i=t.apply(this,r)},e),i}return o}function zV(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return t.apply(this,n.concat(r))}}function lie(t){const e=t.length;function n(i){return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];const l=i.concat(r);let c;return l.length>=e?c=t.apply(this,l):c=n(l),c}}return n([])}function sx(t,e,n,i,o,s,r,a){return Te(a)?t.call(e,n,i,o,s,r,a):Te(r)?t.call(e,n,i,o,s,r):Te(s)?t.call(e,n,i,o,s):Te(o)?t.call(e,n,i,o):Te(i)?t.call(e,n,i):Te(n)?t.call(e,n):t.call(e)}function cie(t,e,n){return(e=uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const zu=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],die=Tt`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,d0=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),f0=new Map([[]]),aw=new WeakMap;class Ee{static getSingleton(){return gie()}constructor(){cie(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return F(zu,n=>{e[n]=[],this.initOrderMap(e,n)}),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;if(Array.isArray(n))F(n,s=>this.add(e,s,i));else{d0.has(e)&&Et(hV(die,{hookName:e,removedInVersion:d0.get(e)})),f0.has(e)&&Et(f0.get(e));const s=this.getBucket(i);if(typeof s[e]>"u"&&(this.register(e),s[e]=[],this.initOrderMap(s,e)),n.skip=!1,s[e].indexOf(n)===-1){let r=!1;n.initialHook&&F(s[e],(a,l)=>{if(a.initialHook)return s[e][l]=n,r=!0,!1}),r||s[e].push(n)}this.setCallbackOrderIndex(s,e,n,o),this.orderBucketByOrderIndex(s,e)}return this}once(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;Array.isArray(n)?F(n,s=>this.once(e,s,i)):(n.runOnce=!0,this.add(e,n,i,o))}remove(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const o=this.getBucket(i);return typeof o[e]<"u"&&o[e].indexOf(n)>=0?(n.skip=!0,!0):!1}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const i=this.getBucket(n);return!!(i[e]!==void 0&&i[e].length)}run(e,n,i,o,s,r,a,l){{const c=this.globalBucket[n],u=c?c.length:0;let h=0;if(u)for(;h<u;){if(!c[h]||c[h].skip){h+=1;continue}const d=sx(c[h],e,i,o,s,r,a,l);d!==void 0&&(i=d),c[h]&&c[h].runOnce&&this.remove(n,c[h]),h+=1}}{const c=this.getBucket(e)[n],u=c?c.length:0;let h=0;if(u)for(;h<u;){if(!c[h]||c[h].skip){h+=1;continue}const d=sx(c[h],e,i,o,s,r,a,l);d!==void 0&&(i=d),c[h]&&c[h].runOnce&&this.remove(n,c[h],e),h+=1}}return i}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Qe(this.getBucket(e),(n,i,o)=>o[i].length=0)}register(e){this.isRegistered(e)||zu.push(e)}deregister(e){this.isRegistered(e)&&zu.splice(zu.indexOf(e),1)}isDeprecated(e){return f0.has(e)||d0.has(e)}isRegistered(e){return zu.indexOf(e)>=0}getRegistered(){return zu}setCallbackOrderIndex(e,n,i,o){const s=Number.isInteger(o)?o:0,r=this.getCallbackOrderMap(e,n);r.set(s,[...r.get(s)||[],i])}orderBucketByOrderIndex(e,n){const i=this.getCallbackOrderMap(e,n);i===void 0||i.size===0||i.size===1&&i.has(0)||(e[n]=[...i].sort((o,s)=>o[0]-s[0]).flatMap(o=>{let[,s]=o;return s}))}initOrderMap(e,n){aw.has(e)||aw.set(e,[]),aw.get(e)[n]=new Map}getCallbackOrderMap(e,n){return aw.get(e)[n]}}const fie=new Ee;function gie(){return fie}const mie="dropdown";class TT extends ST{static get EDITOR_TYPE(){return mie}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}Ee.getSingleton().add("beforeValidate",function(t,e,n){const i=this.propToCol(n);if(Number.isInteger(i)){const o=this.getCellMeta(e,i);o.editor===TT&&o.strict===void 0&&(o.filter=!1,o.strict=!0)}});const pie="numeric";class YV extends Du{static get EDITOR_TYPE(){return pie}}const wie="password";class GV extends Du{static get EDITOR_TYPE(){return wie}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,kr(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const g0="ht_editor_visible",TA="selectEditor",bie="select";class KV extends Dd{static get EDITOR_TYPE(){return bie}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ue(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",Fe(this.select,g0)&&je(this.select,g0),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),kr(this.select),Qe(l,(c,u)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=u,Nd(h,c),this.select.appendChild(h)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let i=0,o=e.length;i<o;i++)n[e[i]]=e[i];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==vn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:i,height:o}=this.getEditedCellRect(),s=this.select.style;s.height=`${o}px`,s.width=`${i}px`,s.top=`${e}px`,s[this.hot.isRtl()?"right":"left"]=`${n}px`,s.margin="0px",ue(this.select,g0)}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),i={group:TA};this.isInFullEditMode()&&n.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const o=this.select.selectedIndex-1;o>=0&&(this.select[o].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const o=this.select.selectedIndex+1;o<=this.select.length-1&&(this.select[o].selected=!0)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(TA)}}const vie="time";class qV extends Du{static get EDITOR_TYPE(){return vie}prepare(e,n,i,o,s,r){super.prepare(e,n,i,o,s,r),this.TEXTAREA.dir="ltr"}}const m0=new Map;function Fs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";m0.has(t)||m0.set(t,new Map);const e=m0.get(t);function n(a,l){e.set(a,l)}function i(a){return e.get(a)}function o(a){return e.has(a)}function s(){return[...e.keys()]}function r(){return[...e.values()]}return{register:n,getItem:i,hasItem:o,getNames:s,getValues:r}}const rx=new WeakMap,{register:yie,getItem:XV,hasItem:ZV,getNames:_Pe,getValues:RPe}=Fs("editors");function Cie(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(i){return i.guid in e||(e[i.guid]=new n(i)),e[i.guid]},Ee.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function JV(t,e){let n;if(typeof t=="function")rx.get(t)||ao(null,t),n=rx.get(t);else if(typeof t=="string")n=XV(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function MA(t){if(typeof t=="function")return t;if(!ZV(t))throw Error(`No registered editor found under "${t}" name`);return XV(t).getConstructor()}function ao(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new Cie(e);typeof t=="string"&&yie(t,n),rx.set(e,n)}function Sie(){ao(Dd),ao(ST),ao($V),ao(VV),ao(TT),ao(CT),ao(YV),ao(GV),ao(KV),ao(Du),ao(qV)}const _ie="html";function MT(t,e,n,i,o,s,r){Sp.apply(this,[t,e,n,i,o,s,r]),Nd(e,s??"",!1)}MT.RENDERER_TYPE=_ie;const Rie="autocomplete";function Ld(t,e,n,i,o,s,r){const{rootDocument:a}=t,l=r.allowHtml?MT:ja,c=a.createElement("DIV"),u=t.getSettings().ariaTags;if(c.className="htAutocompleteArrow",u&&c.setAttribute(...Nu()),c.appendChild(a.createTextNode("▼")),l.apply(this,[t,e,n,i,o,s,r]),e.firstChild||e.appendChild(a.createTextNode(" ")),e.insertBefore(c,e.firstChild),ue(e,"htAutocomplete"),!t.acArrowListener){const h=new ks(t);t.acArrowListener=function(d){Fe(d.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,i),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}Ld.RENDERER_TYPE=Rie;const xie="dropdown";function PT(t,e,n,i,o,s,r){Ld.apply(this,[t,e,n,i,o,s,r])}PT.RENDERER_TYPE=xie;const QV="ContextMenu:items",Ye=QV,OT=`${Ye}.noItems`,IT=`${Ye}.insertRowAbove`,AT=`${Ye}.insertRowBelow`,HT=`${Ye}.insertColumnOnTheLeft`,kT=`${Ye}.insertColumnOnTheRight`,NT=`${Ye}.removeRow`,DT=`${Ye}.removeColumn`,LT=`${Ye}.undo`,$T=`${Ye}.redo`,iy=`${Ye}.readOnly`,FT=`${Ye}.clearColumn`,VT=`${Ye}.copy`,WT=`${Ye}.copyWithHeaders`,BT=`${Ye}.copyWithGroupHeaders`,jT=`${Ye}.copyHeadersOnly`,UT=`${Ye}.cut`,zT=`${Ye}.freezeColumn`,YT=`${Ye}.unfreezeColumn`,GT=`${Ye}.mergeCells`,KT=`${Ye}.unmergeCells`,qT=`${Ye}.addComment`,XT=`${Ye}.editComment`,ZT=`${Ye}.removeComment`,JT=`${Ye}.readOnlyComment`,QT=`${Ye}.align`,oy=`${Ye}.align.left`,sy=`${Ye}.align.center`,ry=`${Ye}.align.right`,ay=`${Ye}.align.justify`,ly=`${Ye}.align.top`,cy=`${Ye}.align.middle`,uy=`${Ye}.align.bottom`,e1=`${Ye}.borders`,t1=`${Ye}.borders.top`,n1=`${Ye}.borders.right`,i1=`${Ye}.borders.bottom`,o1=`${Ye}.borders.left`,s1=`${Ye}.borders.remove`,r1=`${Ye}.nestedHeaders.insertChildRow`,a1=`${Ye}.nestedHeaders.detachFromParent`,l1=`${Ye}.hideColumn`,c1=`${Ye}.showColumn`,u1=`${Ye}.hideRow`,h1=`${Ye}.showRow`,$i="Filters:",wn=`${$i}conditions`,DC=`${wn}.none`,d1=`${wn}.isEmpty`,f1=`${wn}.isNotEmpty`,g1=`${wn}.isEqualTo`,m1=`${wn}.isNotEqualTo`,p1=`${wn}.beginsWith`,w1=`${wn}.endsWith`,b1=`${wn}.contains`,v1=`${wn}.doesNotContain`,Eie=`${wn}.byValue`,y1=`${wn}.greaterThan`,C1=`${wn}.greaterThanOrEqualTo`,S1=`${wn}.lessThan`,_1=`${wn}.lessThanOrEqualTo`,R1=`${wn}.isBetween`,x1=`${wn}.isNotBetween`,E1=`${wn}.after`,T1=`${wn}.before`,M1=`${wn}.today`,P1=`${wn}.tomorrow`,O1=`${wn}.yesterday`,I1=`${$i}labels.filterByCondition`,A1=`${$i}labels.filterByValue`,H1=`${$i}labels.conjunction`,LC=`${$i}labels.disjunction`,hy=`${$i}values.blankCells`,k1=`${$i}buttons.selectAll`,N1=`${$i}buttons.clear`,D1=`${$i}buttons.ok`,L1=`${$i}buttons.cancel`,$1=`${$i}buttons.placeholder.search`,F1=`${$i}buttons.placeholder.value`,V1=`${$i}buttons.placeholder.secondValue`,W1="CheckboxRenderer:",B1=`${W1}checked`,j1=`${W1}unchecked`,Tie=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:B1,CHECKBOX_RENDERER_NAMESPACE:W1,CHECKBOX_UNCHECKED:j1,CONTEXTMENU_ITEMS_ADD_COMMENT:qT,CONTEXTMENU_ITEMS_ALIGNMENT:QT,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:uy,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:sy,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:ay,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:oy,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:cy,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:ry,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:ly,CONTEXTMENU_ITEMS_BORDERS:e1,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:i1,CONTEXTMENU_ITEMS_BORDERS_LEFT:o1,CONTEXTMENU_ITEMS_BORDERS_RIGHT:n1,CONTEXTMENU_ITEMS_BORDERS_TOP:t1,CONTEXTMENU_ITEMS_CLEAR_COLUMN:FT,CONTEXTMENU_ITEMS_COPY:VT,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:jT,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:BT,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:WT,CONTEXTMENU_ITEMS_CUT:UT,CONTEXTMENU_ITEMS_EDIT_COMMENT:XT,CONTEXTMENU_ITEMS_FREEZE_COLUMN:zT,CONTEXTMENU_ITEMS_HIDE_COLUMN:l1,CONTEXTMENU_ITEMS_HIDE_ROW:u1,CONTEXTMENU_ITEMS_INSERT_LEFT:HT,CONTEXTMENU_ITEMS_INSERT_RIGHT:kT,CONTEXTMENU_ITEMS_MERGE_CELLS:GT,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:a1,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:r1,CONTEXTMENU_ITEMS_NO_ITEMS:OT,CONTEXTMENU_ITEMS_READ_ONLY:iy,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:JT,CONTEXTMENU_ITEMS_REDO:$T,CONTEXTMENU_ITEMS_REMOVE_BORDERS:s1,CONTEXTMENU_ITEMS_REMOVE_COLUMN:DT,CONTEXTMENU_ITEMS_REMOVE_COMMENT:ZT,CONTEXTMENU_ITEMS_REMOVE_ROW:NT,CONTEXTMENU_ITEMS_ROW_ABOVE:IT,CONTEXTMENU_ITEMS_ROW_BELOW:AT,CONTEXTMENU_ITEMS_SHOW_COLUMN:c1,CONTEXTMENU_ITEMS_SHOW_ROW:h1,CONTEXTMENU_ITEMS_UNDO:LT,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:YT,CONTEXTMENU_ITEMS_UNMERGE_CELLS:KT,CONTEXT_MENU_ITEMS_NAMESPACE:QV,FILTERS_BUTTONS_CANCEL:L1,FILTERS_BUTTONS_CLEAR:N1,FILTERS_BUTTONS_OK:D1,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:$1,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:V1,FILTERS_BUTTONS_PLACEHOLDER_VALUE:F1,FILTERS_BUTTONS_SELECT_ALL:k1,FILTERS_CONDITIONS_AFTER:E1,FILTERS_CONDITIONS_BEFORE:T1,FILTERS_CONDITIONS_BEGINS_WITH:p1,FILTERS_CONDITIONS_BETWEEN:R1,FILTERS_CONDITIONS_BY_VALUE:Eie,FILTERS_CONDITIONS_CONTAINS:b1,FILTERS_CONDITIONS_EMPTY:d1,FILTERS_CONDITIONS_ENDS_WITH:w1,FILTERS_CONDITIONS_EQUAL:g1,FILTERS_CONDITIONS_GREATER_THAN:y1,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:C1,FILTERS_CONDITIONS_LESS_THAN:S1,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:_1,FILTERS_CONDITIONS_NAMESPACE:wn,FILTERS_CONDITIONS_NONE:DC,FILTERS_CONDITIONS_NOT_BETWEEN:x1,FILTERS_CONDITIONS_NOT_CONTAIN:v1,FILTERS_CONDITIONS_NOT_EMPTY:f1,FILTERS_CONDITIONS_NOT_EQUAL:m1,FILTERS_CONDITIONS_TODAY:M1,FILTERS_CONDITIONS_TOMORROW:P1,FILTERS_CONDITIONS_YESTERDAY:O1,FILTERS_DIVS_FILTER_BY_CONDITION:I1,FILTERS_DIVS_FILTER_BY_VALUE:A1,FILTERS_LABELS_CONJUNCTION:H1,FILTERS_LABELS_DISJUNCTION:LC,FILTERS_NAMESPACE:$i,FILTERS_VALUES_BLANK_CELLS:hy},Symbol.toStringTag,{value:"Module"})),PA=new WeakMap,OA=new WeakMap,Mie="htBadValue",yd="data-row",Cd="data-col",Pie="checkboxRenderer",eW="checkbox";Ee.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:i,type:o,row:s,column:r,prop:a}=e;if(o===eW){if(i){const{value:l,property:c}=i;let u=n;if(l)u=typeof l=="function"?l(s,r,a,n):l;else if(c){const h=this.getDataAtRowProp(s,c);u=h!==null?h:n}t=u}return t}});function U1(t,e,n,i,o,s,r){const{rootDocument:a}=t,l=t.getSettings().ariaTags;Sp.apply(this,[t,e,n,i,o,s,r]),Oie(t);let c=Iie(a);const u=r.label;let h=!1;if(typeof r.checkedTemplate>"u"&&(r.checkedTemplate=!0),typeof r.uncheckedTemplate>"u"&&(r.uncheckedTemplate=!1),kr(e),s===r.checkedTemplate||Tn(s).toLocaleLowerCase(r.locale)===Tn(r.checkedTemplate).toLocaleLowerCase(r.locale)?c.checked=!0:s===r.uncheckedTemplate||Tn(s).toLocaleLowerCase(r.locale)===Tn(r.uncheckedTemplate).toLocaleLowerCase(r.locale)?c.checked=!1:_n(s)?ue(c,"noValue"):(c.style.display="none",ue(c,Mie),h=!0),$e(c,[[yd,n],[Cd,i]]),l&&$e(c,[Qv(c.checked?t.getTranslatedPhrase(B1):t.getTranslatedPhrase(j1)),wV(c.checked),xee()]),!h&&u){let m="";if(u.value)m=typeof u.value=="function"?u.value.call(this,n,i,o,s):u.value;else if(u.property){const b=t.getDataAtRowProp(n,u.property);m=b!==null?b:""}const w=Aie(a,m,u.separated!==!0);u.position==="before"?u.separated?(e.appendChild(w),e.appendChild(c)):(w.appendChild(c),c=w):(!u.position||u.position==="after")&&(u.separated?(e.appendChild(c),e.appendChild(w)):(w.insertBefore(c,w.firstChild),c=w))}(!u||u&&!u.separated)&&e.appendChild(c),h&&e.appendChild(a.createTextNode("#bad-value#")),PA.has(t)||(PA.set(t,!0),d());function d(){const w=t.getShortcutManager().getContext("grid"),b={group:Pie,relativeToGroup:Xl,position:"before"};w.addShortcuts([{keys:[["space"]],callback:()=>(f(),!g()),runOnlyIf:()=>{var C;return(C=t.getSelectedRangeLast())===null||C===void 0?void 0:C.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!g()),runOnlyIf:()=>{const C=t.getSelectedRangeLast();return t.getSettings().enterBeginsEditing&&(C==null?void 0:C.isSingle())&&C.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!g()),runOnlyIf:()=>{var C;return(C=t.getSelectedRangeLast())===null||C===void 0?void 0:C.highlight.isCell()}}],b)}function f(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=t.getSelectedRange(),b=[],C=new Map;let y=[],E=0;if(w){for(let T=0;T<w.length;T++){const{row:N,col:D}=w[T].getTopStartCorner(),{row:B,col:K}=w[T].getBottomEndCorner();for(let q=N;q<=B;q+=1)for(let J=D;J<=K;J+=1){const ee=t.getCellMeta(q,J),re={checkedTemplate:ee.checkedTemplate,uncheckedTemplate:ee.uncheckedTemplate};if(ee.type!=="checkbox"){m===!0&&!ee.readOnly&&(C.has(b.length)?C.set(b.length,[...C.get(b.length),[q,J,null]]):C.set(b.length,[[q,J,null]]));continue}if(ee.readOnly===!0)continue;typeof ee.checkedTemplate>"u"&&(ee.checkedTemplate=!0),typeof ee.uncheckedTemplate>"u"&&(ee.uncheckedTemplate=!1);const me=t.getDataAtCell(q,J);m===!1?[ee.checkedTemplate,ee.checkedTemplate.toString()].includes(me)?y.push([q,J,ee.uncheckedTemplate,re]):[ee.uncheckedTemplate,ee.uncheckedTemplate.toString(),null,void 0].includes(me)&&y.push([q,J,ee.checkedTemplate,re]):y.push([q,J,ee.uncheckedTemplate,re]),E+=1}b.push(E),E=0}y.every(T=>{let[,,N]=T;return N===y[0][2]})?y=y.map(T=>{let[N,D,B]=T;return[N,D,B]}):y=y.map(T=>{let[N,D,,B]=T;return[N,D,B.checkedTemplate]}),y.length>0&&b.forEach((T,N)=>{let D=y.splice(0,T);C.size&&C.has(N)&&(D=[...D,...C.get(N)]),t.setDataAtCell(D)})}}function g(){const m=t.getSelectedRange();if(m){for(let w=0;w<m.length;w++){const b=m[w].getTopStartCorner(),C=m[w].getBottomEndCorner();for(let y=b.row;y<=C.row;y++)for(let E=b.col;E<=C.col;E++){const T=t.getCellMeta(y,E),N=t.getCell(y,E);if(N==null)return!0;if(N.querySelectorAll("input[type=checkbox]").length>0&&!T.readOnly)return!0}}return!1}}}U1.RENDERER_TYPE=eW;function Oie(t){let e=OA.get(t);if(!e){const{rootElement:n}=t;e=new ks(t),e.addEventListener(n,"click",i=>kie(i,t)),e.addEventListener(n,"mouseup",i=>Hie(i,t)),e.addEventListener(n,"change",i=>Nie(i,t)),OA.set(t,e)}return e}function Iie(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function Aie(t,e,n){const i=t.createElement("label");return i.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`,i.appendChild(t.createTextNode(e)),i.cloneNode(!0)}function Hie(t,e){const{target:n}=t;z1(n)&&(!n.hasAttribute(yd)||!n.hasAttribute(Cd)||setTimeout(e.listen,10))}function kie(t,e){const{target:n}=t;if(!z1(n)||!n.hasAttribute(yd)||!n.hasAttribute(Cd))return;const i=parseInt(n.getAttribute(yd),10),o=parseInt(n.getAttribute(Cd),10);e.getCellMeta(i,o).readOnly&&t.preventDefault()}function Nie(t,e){const{target:n}=t;if(!z1(n)||!n.hasAttribute(yd)||!n.hasAttribute(Cd))return;const i=parseInt(n.getAttribute(yd),10),o=parseInt(n.getAttribute(Cd),10),s=e.getCellMeta(i,o);if(!s.readOnly){let r=null;t.target.checked?r=s.uncheckedTemplate===void 0?!0:s.checkedTemplate:r=s.uncheckedTemplate===void 0?!1:s.uncheckedTemplate,e.setDataAtCell(i,o,r)}}function z1(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const Die="handsontable";function Y1(t,e,n,i,o,s,r){Ld.apply(this,[t,e,n,i,o,s,r])}Y1.RENDERER_TYPE=Die;function lw(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tW={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,o,s){function r(c,u){if(!o[c]){if(!i[c]){var h=typeof lw=="function"&&lw;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var f=o[c]={exports:{}};i[c][0].call(f.exports,function(g){return r(i[c][1][g]||g)},f,f.exports,n,i,o,s)}return o[c].exports}for(var a=typeof lw=="function"&&lw,l=0;l<s.length;l++)r(s[l]);return r}({1:[function(n,i,o){(function(s){var r,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,c=Math.floor,u="[BigNumber Error] ",h=u+"Number primitive has more than 15 significant digits: ",d=1e14,f=14,g=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],w=1e7,b=1e9;function C(K){var q=0|K;return 0<K||K===q?q:q-1}function y(K){for(var q,J,ee=1,re=K.length,me=K[0]+"";ee<re;){for(q=K[ee++]+"",J=f-q.length;J--;q="0"+q);me+=q}for(re=me.length;me.charCodeAt(--re)===48;);return me.slice(0,re+1||1)}function E(K,q){var J,ee,re=K.c,me=q.c,pe=K.s,ye=q.s,de=K.e,ae=q.e;if(!pe||!ye)return null;if(J=re&&!re[0],ee=me&&!me[0],J||ee)return J?ee?0:-ye:pe;if(pe!=ye)return pe;if(J=pe<0,ee=de==ae,!re||!me)return ee?0:!re^J?1:-1;if(!ee)return ae<de^J?1:-1;for(ye=(de=re.length)<(ae=me.length)?de:ae,pe=0;pe<ye;pe++)if(re[pe]!=me[pe])return re[pe]>me[pe]^J?1:-1;return de==ae?0:ae<de^J?1:-1}function T(K,q,J,ee){if(K<q||J<K||K!==(K<0?l(K):c(K)))throw Error(u+(ee||"Argument")+(typeof K=="number"?K<q||J<K?" out of range: ":" not an integer: ":" not a primitive number: ")+String(K))}function N(K){var q=K.c.length-1;return C(K.e/f)==q&&K.c[q]%2!=0}function D(K,q){return(1<K.length?K.charAt(0)+"."+K.slice(1):K)+(q<0?"e":"e+")+q}function B(K,q,J){var ee,re;if(q<0){for(re=J+".";++q;re+=J);K=re+K}else if(++q>(ee=K.length)){for(re=J,q-=ee;--q;re+=J);K+=re}else q<ee&&(K=K.slice(0,q)+"."+K.slice(q));return K}(r=function K(q){var J,ee,re,me,pe,ye,de,ae,we,Ne,p=R.prototype={constructor:R,toString:null,valueOf:null},v=new R(1),x=20,A=4,V=-7,Y=21,I=-1e7,G=1e7,Q=!1,ie=1,se=0,Re={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz";function R(S,_){var M,L,O,$,H,k,j,W,X=this;if(!(X instanceof R))return new R(S,_);if(_==null){if(S instanceof R)return X.s=S.s,X.e=S.e,void(X.c=(S=S.c)?S.slice():S);if((k=typeof S=="number")&&0*S==0){if(X.s=1/S<0?(S=-S,-1):1,S===~~S){for($=0,H=S;10<=H;H/=10,$++);return X.e=$,void(X.c=[S])}W=String(S)}else{if(W=String(S),!a.test(W))return re(X,W,k);X.s=W.charCodeAt(0)==45?(W=W.slice(1),-1):1}-1<($=W.indexOf("."))&&(W=W.replace(".","")),0<(H=W.search(/e/i))?($<0&&($=H),$+=+W.slice(H+1),W=W.substring(0,H)):$<0&&($=W.length)}else{if(T(_,2,P.length,"Base"),W=String(S),_==10)return ne(X=new R(S instanceof R?S:W),x+X.e+1,A);if(k=typeof S=="number"){if(0*S!=0)return re(X,W,k,_);if(X.s=1/S<0?(W=W.slice(1),-1):1,R.DEBUG&&15<W.replace(/^0\.0*|\./,"").length)throw Error(h+S);k=!1}else X.s=W.charCodeAt(0)===45?(W=W.slice(1),-1):1;for(M=P.slice(0,_),$=H=0,j=W.length;H<j;H++)if(M.indexOf(L=W.charAt(H))<0){if(L=="."){if($<H){$=j;continue}}else if(!O&&(W==W.toUpperCase()&&(W=W.toLowerCase())||W==W.toLowerCase()&&(W=W.toUpperCase()))){O=!0,H=-1,$=0;continue}return re(X,String(S),k,_)}-1<($=(W=ee(W,_,10,X.s)).indexOf("."))?W=W.replace(".",""):$=W.length}for(H=0;W.charCodeAt(H)===48;H++);for(j=W.length;W.charCodeAt(--j)===48;);if(W=W.slice(H,++j)){if(j-=H,k&&R.DEBUG&&15<j&&(g<S||S!==c(S)))throw Error(h+X.s*S);if(G<($=$-H-1))X.c=X.e=null;else if($<I)X.c=[X.e=0];else{if(X.e=$,X.c=[],H=($+1)%f,$<0&&(H+=f),H<j){for(H&&X.c.push(+W.slice(0,H)),j-=f;H<j;)X.c.push(+W.slice(H,H+=f));W=W.slice(H),H=f-W.length}else H-=j;for(;H--;W+="0");X.c.push(+W)}}else X.c=[X.e=0]}function z(S,_,M,L){var O,$,H,k,j;if(M==null?M=A:T(M,0,8),!S.c)return S.toString();if(O=S.c[0],H=S.e,_==null)j=y(S.c),j=L==1||L==2&&(H<=V||Y<=H)?D(j,H):B(j,H,"0");else if($=(S=ne(new R(S),_,M)).e,k=(j=y(S.c)).length,L==1||L==2&&(_<=$||$<=V)){for(;k<_;j+="0",k++);j=D(j,$)}else if(_-=H,j=B(j,$,"0"),k<$+1){if(0<--_)for(j+=".";_--;j+="0");}else if(0<(_+=$-k))for($+1==k&&(j+=".");_--;j+="0");return S.s<0&&O?"-"+j:j}function te(S,_){for(var M,L=1,O=new R(S[0]);L<S.length;L++){if(!(M=new R(S[L])).s){O=M;break}_.call(O,M)&&(O=M)}return O}function Z(S,_,M){for(var L=1,O=_.length;!_[--O];_.pop());for(O=_[0];10<=O;O/=10,L++);return(M=L+M*f-1)>G?S.c=S.e=null:S.c=M<I?[S.e=0]:(S.e=M,_),S}function ne(S,_,M,L){var O,$,H,k,j,W,X,he=S.c,be=m;if(he){e:{for(O=1,k=he[0];10<=k;k/=10,O++);if(($=_-O)<0)$+=f,H=_,X=(j=he[W=0])/be[O-H-1]%10|0;else if((W=l(($+1)/f))>=he.length){if(!L)break e;for(;he.length<=W;he.push(0));j=X=0,H=($%=f)-f+(O=1)}else{for(j=k=he[W],O=1;10<=k;k/=10,O++);X=(H=($%=f)-f+O)<0?0:j/be[O-H-1]%10|0}if(L=L||_<0||he[W+1]!=null||(H<0?j:j%be[O-H-1]),L=M<4?(X||L)&&(M==0||M==(S.s<0?3:2)):5<X||X==5&&(M==4||L||M==6&&(0<$?0<H?j/be[O-H]:0:he[W-1])%10&1||M==(S.s<0?8:7)),_<1||!he[0])return he.length=0,L?(_-=S.e+1,he[0]=be[(f-_%f)%f],S.e=-_||0):he[0]=S.e=0,S;if($==0?(he.length=W,k=1,W--):(he.length=W+1,k=be[f-$],he[W]=0<H?c(j/be[O-H]%be[H])*k:0),L)for(;;){if(W==0){for($=1,H=he[0];10<=H;H/=10,$++);for(H=he[0]+=k,k=1;10<=H;H/=10,k++);$!=k&&(S.e++,he[0]==d&&(he[0]=1));break}if(he[W]+=k,he[W]!=d)break;he[W--]=0,k=1}for($=he.length;he[--$]===0;he.pop());}S.e>G?S.c=S.e=null:S.e<I&&(S.c=[S.e=0])}return S}function oe(S){var _,M=S.e;return M===null?S.toString():(_=y(S.c),_=M<=V||Y<=M?D(_,M):B(_,M,"0"),S.s<0?"-"+_:_)}return R.clone=K,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(S){var _,M;if(S!=null){if(typeof S!="object")throw Error(u+"Object expected: "+S);if(S.hasOwnProperty(_="DECIMAL_PLACES")&&(T(M=S[_],0,b,_),x=M),S.hasOwnProperty(_="ROUNDING_MODE")&&(T(M=S[_],0,8,_),A=M),S.hasOwnProperty(_="EXPONENTIAL_AT")&&((M=S[_])&&M.pop?(T(M[0],-b,0,_),T(M[1],0,b,_),V=M[0],Y=M[1]):(T(M,-b,b,_),V=-(Y=M<0?-M:M))),S.hasOwnProperty(_="RANGE"))if((M=S[_])&&M.pop)T(M[0],-b,-1,_),T(M[1],1,b,_),I=M[0],G=M[1];else{if(T(M,-b,b,_),!M)throw Error(u+_+" cannot be zero: "+M);I=-(G=M<0?-M:M)}if(S.hasOwnProperty(_="CRYPTO")){if((M=S[_])!==!!M)throw Error(u+_+" not true or false: "+M);if(M){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Q=!M,Error(u+"crypto unavailable");Q=M}else Q=M}if(S.hasOwnProperty(_="MODULO_MODE")&&(T(M=S[_],0,9,_),ie=M),S.hasOwnProperty(_="POW_PRECISION")&&(T(M=S[_],0,b,_),se=M),S.hasOwnProperty(_="FORMAT")){if(typeof(M=S[_])!="object")throw Error(u+_+" not an object: "+M);Re=M}if(S.hasOwnProperty(_="ALPHABET")){if(typeof(M=S[_])!="string"||/^.$|[+-.\s]|(.).*\1/.test(M))throw Error(u+_+" invalid: "+M);P=M}}return{DECIMAL_PLACES:x,ROUNDING_MODE:A,EXPONENTIAL_AT:[V,Y],RANGE:[I,G],CRYPTO:Q,MODULO_MODE:ie,POW_PRECISION:se,FORMAT:Re,ALPHABET:P}},R.isBigNumber=function(S){return S instanceof R||S&&S._isBigNumber===!0||!1},R.maximum=R.max=function(){return te(arguments,p.lt)},R.minimum=R.min=function(){return te(arguments,p.gt)},R.random=(me=9007199254740992,pe=Math.random()*me&2097151?function(){return c(Math.random()*me)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(S){var _,M,L,O,$,H=0,k=[],j=new R(v);if(S==null?S=x:T(S,0,b),O=l(S/f),Q)if(crypto.getRandomValues){for(_=crypto.getRandomValues(new Uint32Array(O*=2));H<O;)9e15<=($=131072*_[H]+(_[H+1]>>>11))?(M=crypto.getRandomValues(new Uint32Array(2)),_[H]=M[0],_[H+1]=M[1]):(k.push($%1e14),H+=2);H=O/2}else{if(!crypto.randomBytes)throw Q=!1,Error(u+"crypto unavailable");for(_=crypto.randomBytes(O*=7);H<O;)9e15<=($=281474976710656*(31&_[H])+1099511627776*_[H+1]+4294967296*_[H+2]+16777216*_[H+3]+(_[H+4]<<16)+(_[H+5]<<8)+_[H+6])?crypto.randomBytes(7).copy(_,H):(k.push($%1e14),H+=7);H=O/7}if(!Q)for(;H<O;)($=pe())<9e15&&(k[H++]=$%1e14);for(O=k[--H],S%=f,O&&S&&($=m[f-S],k[H]=c(O/$)*$);k[H]===0;k.pop(),H--);if(H<0)k=[L=0];else{for(L=-1;k[0]===0;k.splice(0,1),L-=f);for(H=1,$=k[0];10<=$;$/=10,H++);H<f&&(L-=f-H)}return j.e=L,j.c=k,j}),R.sum=function(){for(var S=1,_=arguments,M=new R(_[0]);S<_.length;)M=M.plus(_[S++]);return M},ee=function(){var S="0123456789";function _(M,L,O,$){for(var H,k,j=[0],W=0,X=M.length;W<X;){for(k=j.length;k--;j[k]*=L);for(j[0]+=$.indexOf(M.charAt(W++)),H=0;H<j.length;H++)j[H]>O-1&&(j[H+1]==null&&(j[H+1]=0),j[H+1]+=j[H]/O|0,j[H]%=O)}return j.reverse()}return function(M,L,O,$,H){var k,j,W,X,he,be,xe,Be,it=M.indexOf("."),Le=x,Ie=A;for(0<=it&&(X=se,se=0,M=M.replace(".",""),be=(Be=new R(L)).pow(M.length-it),se=X,Be.c=_(B(y(be.c),be.e,"0"),10,O,S),Be.e=Be.c.length),W=X=(xe=_(M,L,O,H?(k=P,S):(k=S,P))).length;xe[--X]==0;xe.pop());if(!xe[0])return k.charAt(0);if(it<0?--W:(be.c=xe,be.e=W,be.s=$,xe=(be=J(be,Be,Le,Ie,O)).c,he=be.r,W=be.e),it=xe[j=W+Le+1],X=O/2,he=he||j<0||xe[j+1]!=null,he=Ie<4?(it!=null||he)&&(Ie==0||Ie==(be.s<0?3:2)):X<it||it==X&&(Ie==4||he||Ie==6&&1&xe[j-1]||Ie==(be.s<0?8:7)),j<1||!xe[0])M=he?B(k.charAt(1),-Le,k.charAt(0)):k.charAt(0);else{if(xe.length=j,he)for(--O;++xe[--j]>O;)xe[j]=0,j||(++W,xe=[1].concat(xe));for(X=xe.length;!xe[--X];);for(it=0,M="";it<=X;M+=k.charAt(xe[it++]));M=B(M,W,k.charAt(0))}return M}}(),J=function(){function S(L,O,$){var H,k,j,W,X=0,he=L.length,be=O%w,xe=O/w|0;for(L=L.slice();he--;)X=((k=be*(j=L[he]%w)+(H=xe*j+(W=L[he]/w|0)*be)%w*w+X)/$|0)+(H/w|0)+xe*W,L[he]=k%$;return X&&(L=[X].concat(L)),L}function _(L,O,$,H){var k,j;if($!=H)j=H<$?1:-1;else for(k=j=0;k<$;k++)if(L[k]!=O[k]){j=L[k]>O[k]?1:-1;break}return j}function M(L,O,$,H){for(var k=0;$--;)L[$]-=k,k=L[$]<O[$]?1:0,L[$]=k*H+L[$]-O[$];for(;!L[0]&&1<L.length;L.splice(0,1));}return function(L,O,$,H,k){var j,W,X,he,be,xe,Be,it,Le,Ie,st,cn,Vu,Qo,jd,Co,sn,Nn=L.s==O.s?1:-1,ei=L.c,Xt=O.c;if(!(ei&&ei[0]&&Xt&&Xt[0]))return new R(L.s&&O.s&&(ei?!Xt||ei[0]!=Xt[0]:Xt)?ei&&ei[0]==0||!Xt?0*Nn:Nn/0:NaN);for(Le=(it=new R(Nn)).c=[],Nn=$+(W=L.e-O.e)+1,k||(k=d,W=C(L.e/f)-C(O.e/f),Nn=Nn/f|0),X=0;Xt[X]==(ei[X]||0);X++);if(Xt[X]>(ei[X]||0)&&W--,Nn<0)Le.push(1),he=!0;else{for(Qo=ei.length,Co=Xt.length,Nn+=2,1<(be=c(k/(Xt[X=0]+1)))&&(Xt=S(Xt,be,k),ei=S(ei,be,k),Co=Xt.length,Qo=ei.length),Vu=Co,st=(Ie=ei.slice(0,Co)).length;st<Co;Ie[st++]=0);sn=Xt.slice(),sn=[0].concat(sn),jd=Xt[0],Xt[1]>=k/2&&jd++;do{if(be=0,(j=_(Xt,Ie,Co,st))<0){if(cn=Ie[0],Co!=st&&(cn=cn*k+(Ie[1]||0)),1<(be=c(cn/jd)))for(k<=be&&(be=k-1),Be=(xe=S(Xt,be,k)).length,st=Ie.length;_(xe,Ie,Be,st)==1;)be--,M(xe,Co<Be?sn:Xt,Be,k),Be=xe.length,j=1;else be==0&&(j=be=1),Be=(xe=Xt.slice()).length;if(Be<st&&(xe=[0].concat(xe)),M(Ie,xe,st,k),st=Ie.length,j==-1)for(;_(Xt,Ie,Co,st)<1;)be++,M(Ie,Co<st?sn:Xt,st,k),st=Ie.length}else j===0&&(be++,Ie=[0]);Le[X++]=be,Ie[0]?Ie[st++]=ei[Vu]||0:(Ie=[ei[Vu]],st=1)}while((Vu++<Qo||Ie[0]!=null)&&Nn--);he=Ie[0]!=null,Le[0]||Le.splice(0,1)}if(k==d){for(X=1,Nn=Le[0];10<=Nn;Nn/=10,X++);ne(it,$+(it.e=X+W*f-1)+1,H,he)}else it.e=W,it.r=+he;return it}}(),ye=/^(-?)0([xbo])(?=\w[\w.]*$)/i,de=/^([^.]+)\.$/,ae=/^\.([^.]+)$/,we=/^-?(Infinity|NaN)$/,Ne=/^\s*\+(?=[\w.])|^\s+|\s+$/g,re=function(S,_,M,L){var O,$=M?_:_.replace(Ne,"");if(we.test($))S.s=isNaN($)?null:$<0?-1:1,S.c=S.e=null;else{if(!M&&($=$.replace(ye,function(H,k,j){return O=(j=j.toLowerCase())=="x"?16:j=="b"?2:8,L&&L!=O?H:k}),L&&(O=L,$=$.replace(de,"$1").replace(ae,"0.$1")),_!=$))return new R($,O);if(R.DEBUG)throw Error(u+"Not a"+(L?" base "+L:"")+" number: "+_);S.c=S.e=S.s=null}},p.absoluteValue=p.abs=function(){var S=new R(this);return S.s<0&&(S.s=1),S},p.comparedTo=function(S,_){return E(this,new R(S,_))},p.decimalPlaces=p.dp=function(S,_){var M,L,O;if(S!=null)return T(S,0,b),_==null?_=A:T(_,0,8),ne(new R(this),S+this.e+1,_);if(!(M=this.c))return null;if(L=((O=M.length-1)-C(this.e/f))*f,O=M[O])for(;O%10==0;O/=10,L--);return L<0&&(L=0),L},p.dividedBy=p.div=function(S,_){return J(this,new R(S,_),x,A)},p.dividedToIntegerBy=p.idiv=function(S,_){return J(this,new R(S,_),0,1)},p.exponentiatedBy=p.pow=function(S,_){var M,L,O,$,H,k,j,W,X=this;if((S=new R(S)).c&&!S.isInteger())throw Error(u+"Exponent not an integer: "+oe(S));if(_!=null&&(_=new R(_)),H=14<S.e,!X.c||!X.c[0]||X.c[0]==1&&!X.e&&X.c.length==1||!S.c||!S.c[0])return W=new R(Math.pow(+oe(X),H?2-N(S):+oe(S))),_?W.mod(_):W;if(k=S.s<0,_){if(_.c?!_.c[0]:!_.s)return new R(NaN);(L=!k&&X.isInteger()&&_.isInteger())&&(X=X.mod(_))}else{if(9<S.e&&(0<X.e||X.e<-1||(X.e==0?1<X.c[0]||H&&24e7<=X.c[1]:X.c[0]<8e13||H&&X.c[0]<=9999975e7)))return $=X.s<0&&N(S)?-0:0,-1<X.e&&($=1/$),new R(k?1/$:$);se&&($=l(se/f+2))}for(j=H?(M=new R(.5),k&&(S.s=1),N(S)):(O=Math.abs(+oe(S)))%2,W=new R(v);;){if(j){if(!(W=W.times(X)).c)break;$?W.c.length>$&&(W.c.length=$):L&&(W=W.mod(_))}if(O){if((O=c(O/2))===0)break;j=O%2}else if(ne(S=S.times(M),S.e+1,1),14<S.e)j=N(S);else{if((O=+oe(S))==0)break;j=O%2}X=X.times(X),$?X.c&&X.c.length>$&&(X.c.length=$):L&&(X=X.mod(_))}return L?W:(k&&(W=v.div(W)),_?W.mod(_):$?ne(W,se,A,void 0):W)},p.integerValue=function(S){var _=new R(this);return S==null?S=A:T(S,0,8),ne(_,_.e+1,S)},p.isEqualTo=p.eq=function(S,_){return E(this,new R(S,_))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(S,_){return 0<E(this,new R(S,_))},p.isGreaterThanOrEqualTo=p.gte=function(S,_){return(_=E(this,new R(S,_)))===1||_===0},p.isInteger=function(){return!!this.c&&C(this.e/f)>this.c.length-2},p.isLessThan=p.lt=function(S,_){return E(this,new R(S,_))<0},p.isLessThanOrEqualTo=p.lte=function(S,_){return(_=E(this,new R(S,_)))===-1||_===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return 0<this.s},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(S,_){var M,L,O,$,H=this,k=H.s;if(_=(S=new R(S,_)).s,!k||!_)return new R(NaN);if(k!=_)return S.s=-_,H.plus(S);var j=H.e/f,W=S.e/f,X=H.c,he=S.c;if(!j||!W){if(!X||!he)return X?(S.s=-_,S):new R(he?H:NaN);if(!X[0]||!he[0])return he[0]?(S.s=-_,S):new R(X[0]?H:A==3?-0:0)}if(j=C(j),W=C(W),X=X.slice(),k=j-W){for((O=($=k<0)?(k=-k,X):(W=j,he)).reverse(),_=k;_--;O.push(0));O.reverse()}else for(L=($=(k=X.length)<(_=he.length))?k:_,k=_=0;_<L;_++)if(X[_]!=he[_]){$=X[_]<he[_];break}if($&&(O=X,X=he,he=O,S.s=-S.s),0<(_=(L=he.length)-(M=X.length)))for(;_--;X[M++]=0);for(_=d-1;k<L;){if(X[--L]<he[L]){for(M=L;M&&!X[--M];X[M]=_);--X[M],X[L]+=d}X[L]-=he[L]}for(;X[0]==0;X.splice(0,1),--W);return X[0]?Z(S,X,W):(S.s=A==3?-1:1,S.c=[S.e=0],S)},p.modulo=p.mod=function(S,_){var M,L,O=this;return S=new R(S,_),!O.c||!S.s||S.c&&!S.c[0]?new R(NaN):!S.c||O.c&&!O.c[0]?new R(O):(ie==9?(L=S.s,S.s=1,M=J(O,S,0,3),S.s=L,M.s*=L):M=J(O,S,0,ie),(S=O.minus(M.times(S))).c[0]||ie!=1||(S.s=O.s),S)},p.multipliedBy=p.times=function(S,_){var M,L,O,$,H,k,j,W,X,he,be,xe,Be,it,Le,Ie=this,st=Ie.c,cn=(S=new R(S,_)).c;if(!(st&&cn&&st[0]&&cn[0]))return!Ie.s||!S.s||st&&!st[0]&&!cn||cn&&!cn[0]&&!st?S.c=S.e=S.s=null:(S.s*=Ie.s,st&&cn?(S.c=[0],S.e=0):S.c=S.e=null),S;for(L=C(Ie.e/f)+C(S.e/f),S.s*=Ie.s,(j=st.length)<(he=cn.length)&&(Be=st,st=cn,cn=Be,O=j,j=he,he=O),O=j+he,Be=[];O--;Be.push(0));for(it=d,Le=w,O=he;0<=--O;){for(M=0,be=cn[O]%Le,xe=cn[O]/Le|0,$=O+(H=j);O<$;)M=((W=be*(W=st[--H]%Le)+(k=xe*W+(X=st[H]/Le|0)*be)%Le*Le+Be[$]+M)/it|0)+(k/Le|0)+xe*X,Be[$--]=W%it;Be[$]=M}return M?++L:Be.splice(0,1),Z(S,Be,L)},p.negated=function(){var S=new R(this);return S.s=-S.s||null,S},p.plus=function(S,_){var M,L=this,O=L.s;if(_=(S=new R(S,_)).s,!O||!_)return new R(NaN);if(O!=_)return S.s=-_,L.minus(S);var $=L.e/f,H=S.e/f,k=L.c,j=S.c;if(!$||!H){if(!k||!j)return new R(O/0);if(!k[0]||!j[0])return j[0]?S:new R(k[0]?L:0*O)}if($=C($),H=C(H),k=k.slice(),O=$-H){for((M=0<O?(H=$,j):(O=-O,k)).reverse();O--;M.push(0));M.reverse()}for((O=k.length)-(_=j.length)<0&&(M=j,j=k,k=M,_=O),O=0;_;)O=(k[--_]=k[_]+j[_]+O)/d|0,k[_]=d===k[_]?0:k[_]%d;return O&&(k=[O].concat(k),++H),Z(S,k,H)},p.precision=p.sd=function(S,_){var M,L,O;if(S!=null&&S!==!!S)return T(S,1,b),_==null?_=A:T(_,0,8),ne(new R(this),S,_);if(!(M=this.c))return null;if(L=(O=M.length-1)*f+1,O=M[O]){for(;O%10==0;O/=10,L--);for(O=M[0];10<=O;O/=10,L++);}return S&&this.e+1>L&&(L=this.e+1),L},p.shiftedBy=function(S){return T(S,-g,g),this.times("1e"+S)},p.squareRoot=p.sqrt=function(){var S,_,M,L,O,$=this,H=$.c,k=$.s,j=$.e,W=x+4,X=new R("0.5");if(k!==1||!H||!H[0])return new R(!k||k<0&&(!H||H[0])?NaN:H?$:1/0);if((M=(k=Math.sqrt(+oe($)))==0||k==1/0?(((_=y(H)).length+j)%2==0&&(_+="0"),k=Math.sqrt(+_),j=C((j+1)/2)-(j<0||j%2),new R(_=k==1/0?"1e"+j:(_=k.toExponential()).slice(0,_.indexOf("e")+1)+j)):new R(k+"")).c[0]){for((k=(j=M.e)+W)<3&&(k=0);;)if(O=M,M=X.times(O.plus(J($,O,W,1))),y(O.c).slice(0,k)===(_=y(M.c)).slice(0,k)){if(M.e<j&&--k,(_=_.slice(k-3,k+1))!="9999"&&(L||_!="4999")){+_&&(+_.slice(1)||_.charAt(0)!="5")||(ne(M,M.e+x+2,1),S=!M.times(M).eq($));break}if(!L&&(ne(O,O.e+x+2,0),O.times(O).eq($))){M=O;break}W+=4,k+=4,L=1}}return ne(M,M.e+x+1,A,S)},p.toExponential=function(S,_){return S!=null&&(T(S,0,b),S++),z(this,S,_,1)},p.toFixed=function(S,_){return S!=null&&(T(S,0,b),S=S+this.e+1),z(this,S,_)},p.toFormat=function(S,_,M){var L;if(M==null)S!=null&&_&&typeof _=="object"?(M=_,_=null):S&&typeof S=="object"?(M=S,S=_=null):M=Re;else if(typeof M!="object")throw Error(u+"Argument not an object: "+M);if(L=this.toFixed(S,_),this.c){var O,$=L.split("."),H=+M.groupSize,k=+M.secondaryGroupSize,j=M.groupSeparator||"",W=$[0],X=$[1],he=this.s<0,be=he?W.slice(1):W,xe=be.length;if(k&&(O=H,H=k,xe-=k=O),0<H&&0<xe){for(O=xe%H||H,W=be.substr(0,O);O<xe;O+=H)W+=j+be.substr(O,H);0<k&&(W+=j+be.slice(O)),he&&(W="-"+W)}L=X?W+(M.decimalSeparator||"")+((k=+M.fractionGroupSize)?X.replace(new RegExp("\\d{"+k+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):X):W}return(M.prefix||"")+L+(M.suffix||"")},p.toFraction=function(S){var _,M,L,O,$,H,k,j,W,X,he,be,xe=this,Be=xe.c;if(S!=null&&(!(k=new R(S)).isInteger()&&(k.c||k.s!==1)||k.lt(v)))throw Error(u+"Argument "+(k.isInteger()?"out of range: ":"not an integer: ")+oe(k));if(!Be)return new R(xe);for(_=new R(v),W=M=new R(v),L=j=new R(v),be=y(Be),$=_.e=be.length-xe.e-1,_.c[0]=m[(H=$%f)<0?f+H:H],S=!S||0<k.comparedTo(_)?0<$?_:W:k,H=G,G=1/0,k=new R(be),j.c[0]=0;X=J(k,_,0,1),(O=M.plus(X.times(L))).comparedTo(S)!=1;)M=L,L=O,W=j.plus(X.times(O=W)),j=O,_=k.minus(X.times(O=_)),k=O;return O=J(S.minus(M),L,0,1),j=j.plus(O.times(W)),M=M.plus(O.times(L)),j.s=W.s=xe.s,he=J(W,L,$*=2,A).minus(xe).abs().comparedTo(J(j,M,$,A).minus(xe).abs())<1?[W,L]:[j,M],G=H,he},p.toNumber=function(){return+oe(this)},p.toPrecision=function(S,_){return S!=null&&T(S,1,b),z(this,S,_,2)},p.toString=function(S){var _,M=this,L=M.s,O=M.e;return O===null?L?(_="Infinity",L<0&&(_="-"+_)):_="NaN":(_=S==null?O<=V||Y<=O?D(y(M.c),O):B(y(M.c),O,"0"):S===10?B(y((M=ne(new R(M),x+O+1,A)).c),M.e,"0"):(T(S,2,P.length,"Base"),ee(B(y(M.c),O,"0"),10,S,L,!0)),L<0&&M.c[0]&&(_="-"+_)),_},p.valueOf=p.toJSON=function(){return oe(this)},p._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf),q!=null&&R.set(q),R}()).default=r.BigNumber=r,i!==void 0&&i.exports?i.exports=r:(s||(s=typeof self<"u"&&self?self:window),s.BigNumber=r)})(this)},{}],2:[function(n,i,o){i.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(s){var r=s%10;return~~(s%100/10)==1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(n,i,o){function s(C,y){return function(E){if(Array.isArray(E))return E}(C)||function(E,T){var N=[],D=!0,B=!1,K=void 0;try{for(var q,J=E[Symbol.iterator]();!(D=(q=J.next()).done)&&(N.push(q.value),!T||N.length!==T);D=!0);}catch(ee){B=!0,K=ee}finally{try{D||J.return==null||J.return()}finally{if(B)throw K}}return N}(C,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=n("./globalState"),a=n("./validating"),l=n("./parsing"),c=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],u={general:{scale:1024,suffixes:c,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:c,marker:"d"}},h={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(C){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},E=2<arguments.length?arguments[2]:void 0;if(typeof y=="string"&&(y=l.parseFormat(y)),!a.validateFormat(y))return"ERROR: invalid format";var T=y.prefix||"",N=y.postfix||"",D=function(B,K,q){switch(K.output){case"currency":return K=b(K,r.currentCurrencyDefaultFormat()),function(P,R,z){var te=z.currentCurrency(),Z=Object.assign({},h,R),ne=void 0,oe="",S=!!Z.totalLength||!!Z.forceAverage||Z.average,_=R.currencyPosition||te.position,M=R.currencySymbol||te.symbol;Z.spaceSeparated&&(oe=" "),_==="infix"&&(ne=oe+M+oe);var L=w({instance:P,providedFormat:R,state:z,decimalSeparator:ne});return _==="prefix"&&(L=P._value<0&&Z.negative==="sign"?"-".concat(oe).concat(M).concat(L.slice(1)):M+oe+L),_&&_!=="postfix"||(L=L+(oe=S?"":oe)+M),L}(B,K,r);case"percent":return K=b(K,r.currentPercentageDefaultFormat()),function(P,R,z,te){var Z=R.prefixSymbol,ne=w({instance:te(100*P._value),providedFormat:R,state:z}),oe=Object.assign({},h,R);return Z?"%".concat(oe.spaceSeparated?" ":"").concat(ne):"".concat(ne).concat(oe.spaceSeparated?" ":"","%")}(B,K,r,q);case"byte":return K=b(K,r.currentByteDefaultFormat()),v=B,A=r,V=q,Y=(x=K).base||"binary",I=u[Y],G=f(v._value,I.suffixes,I.scale),Q=G.value,ie=G.suffix,se=w({instance:V(Q),providedFormat:x,state:A,defaults:A.currentByteDefaultFormat()}),Re=A.currentAbbreviations(),"".concat(se).concat(Re.spaced?" ":"").concat(ie);case"time":return K=b(K,r.currentTimeDefaultFormat()),ae=B,we=Math.floor(ae._value/60/60),Ne=Math.floor((ae._value-60*we*60)/60),p=Math.round(ae._value-60*we*60-60*Ne),"".concat(we,":").concat(Ne<10?"0":"").concat(Ne,":").concat(p<10?"0":"").concat(p);case"ordinal":return K=b(K,r.currentOrdinalDefaultFormat()),J=B,ee=K,me=(re=r).currentOrdinal(),pe=Object.assign({},h,ee),ye=w({instance:J,providedFormat:ee,state:re}),de=me(J._value),"".concat(ye).concat(pe.spaceSeparated?" ":"").concat(de);case"number":default:return w({instance:B,providedFormat:K,numbro:q})}var J,ee,re,me,pe,ye,de,ae,we,Ne,p,v,x,A,V,Y,I,G,Q,ie,se,Re}(C,y,E);return D=(D=T+D)+N}function f(C,y,E){var T=y[0],N=Math.abs(C);if(E<=N){for(var D=1;D<y.length;++D){var B=Math.pow(E,D),K=Math.pow(E,D+1);if(B<=N&&N<K){T=y[D],C/=B;break}}T===y[0]&&(C/=Math.pow(E,y.length-1),T=y[y.length-1])}return{value:C,suffix:T}}function g(C){for(var y="",E=0;E<C;E++)y+="0";return y}function m(C,y){return C.toString().indexOf("e")!==-1?function(E,T){var N=E.toString(),D=s(N.split("e"),2),B=D[0],K=D[1],q=s(B.split("."),2),J=q[0],ee=q[1],re=ee===void 0?"":ee;if(0<+K)N=J+re+g(K-re.length);else{var me=".";me=+J<0?"-0".concat(me):"0".concat(me);var pe=(g(-K-1)+Math.abs(J)+re).substr(0,T);pe.length<T&&(pe+=g(T-pe.length)),N=me+pe}return 0<+K&&0<T&&(N+=".".concat(g(T))),N}(C,y):(Math.round(+"".concat(C,"e+").concat(y))/Math.pow(10,y)).toFixed(y)}function w(C){var y=C.instance,E=C.providedFormat,T=C.state,N=T===void 0?r:T,D=C.decimalSeparator,B=C.defaults,K=B===void 0?N.currentDefaults():B,q=y._value;if(q===0&&N.hasZeroFormat())return N.getZeroFormat();if(!isFinite(q))return q.toString();var J,ee,re,me,pe,ye,de,ae,we=Object.assign({},h,K,E),Ne=we.totalLength,p=Ne?0:we.characteristic,v=we.optionalCharacteristic,x=we.forceAverage,A=!!Ne||!!x||we.average,V=Ne?-1:A&&E.mantissa===void 0?0:we.mantissa,Y=!Ne&&(E.optionalMantissa===void 0?V===-1:we.optionalMantissa),I=we.trimMantissa,G=we.thousandSeparated,Q=we.spaceSeparated,ie=we.negative,se=we.forceSign,Re=we.exponential,P="";if(A){var R=function(S){var _=S.value,M=S.forceAverage,L=S.abbreviations,O=S.spaceSeparated,$=O!==void 0&&O,H=S.totalLength,k=H===void 0?0:H,j="",W=Math.abs(_),X=-1;if(W>=Math.pow(10,12)&&!M||M==="trillion"?(j=L.trillion,_/=Math.pow(10,12)):W<Math.pow(10,12)&&W>=Math.pow(10,9)&&!M||M==="billion"?(j=L.billion,_/=Math.pow(10,9)):W<Math.pow(10,9)&&W>=Math.pow(10,6)&&!M||M==="million"?(j=L.million,_/=Math.pow(10,6)):(W<Math.pow(10,6)&&W>=Math.pow(10,3)&&!M||M==="thousand")&&(j=L.thousand,_/=Math.pow(10,3)),j&&(j=($?" ":"")+j),k){var he=_.toString().split(".")[0];X=Math.max(k-he.length,0)}return{value:_,abbreviation:j,mantissaPrecision:X}}({value:q,forceAverage:x,abbreviations:N.currentAbbreviations(),spaceSeparated:Q,totalLength:Ne});q=R.value,P+=R.abbreviation,Ne&&(V=R.mantissaPrecision)}if(Re){var z=(ee=(J={value:q,characteristicPrecision:p}).value,re=J.characteristicPrecision,me=re===void 0?0:re,pe=s(ee.toExponential().split("e"),2),ye=pe[0],de=pe[1],ae=+ye,me&&1<me&&(ae*=Math.pow(10,me-1),de=0<=(de=+de-(me-1))?"+".concat(de):de),{value:ae,abbreviation:"e".concat(de)});q=z.value,P=z.abbreviation+P}var te,Z,ne,oe=function(S,_,M,L,O){if(L===-1)return S;var $=m(_,L),H=s($.toString().split("."),2),k=H[0],j=H[1],W=j===void 0?"":j;if(W.match(/^0+$/)&&(M||O))return k;var X=W.match(/0+$/);return O&&X?"".concat(k,".").concat(W.toString().slice(0,X.index)):$.toString()}(q.toString(),q,Y,V,I);return oe=function(S,_,M,L,O){var $=L.currentDelimiters(),H=$.thousands;O=O||$.decimal;var k=$.thousandsSize||3,j=S.toString(),W=j.split(".")[0],X=j.split(".")[1];return M&&(_<0&&(W=W.slice(1)),function(he,be){for(var xe=[],Be=0,it=he;0<it;it--)Be===be&&(xe.unshift(it),Be=0),Be++;return xe}(W.length,k).forEach(function(he,be){W=W.slice(0,he+be)+H+W.slice(he+be)}),_<0&&(W="-".concat(W))),j=X?W+O+X:W}(oe=function(S,_,M,L){var O=S,$=s(O.toString().split("."),2),H=$[0],k=$[1];if(H.match(/^-?0$/)&&M)return k?"".concat(H.replace("0",""),".").concat(k):H.replace("0","");if(H.length<L)for(var j=L-H.length,W=0;W<j;W++)O="0".concat(O);return O.toString()}(oe,0,v,p),q,G,N,D),(A||Re)&&(oe=oe+P),(se||q<0)&&(te=oe,ne=ie,oe=(Z=q)===0?te:+te==0?te.replace("-",""):0<Z?"+".concat(te):ne==="sign"?te:"(".concat(te.replace("-",""),")")),oe}function b(C,y){if(!C)return y;var E=Object.keys(C);return E.length===1&&E[0]==="output"?y:C}i.exports=function(C){return{format:function(){for(var y=arguments.length,E=new Array(y),T=0;T<y;T++)E[T]=arguments[T];return d.apply(void 0,E.concat([C]))},getByteUnit:function(){for(var y=arguments.length,E=new Array(y),T=0;T<y;T++)E[T]=arguments[T];return(function(N){var D=u.general;return f(N._value,D.suffixes,D.scale).suffix}).apply(void 0,E.concat([C]))},getBinaryByteUnit:function(){for(var y=arguments.length,E=new Array(y),T=0;T<y;T++)E[T]=arguments[T];return(function(N){var D=u.binary;return f(N._value,D.suffixes,D.scale).suffix}).apply(void 0,E.concat([C]))},getDecimalByteUnit:function(){for(var y=arguments.length,E=new Array(y),T=0;T<y;T++)E[T]=arguments[T];return(function(N){var D=u.decimal;return f(N._value,D.suffixes,D.scale).suffix}).apply(void 0,E.concat([C]))},formatOrDefault:b}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(n,i,o){var s=n("./en-US"),r=n("./validating"),a=n("./parsing"),l={},c=void 0,u={},h=null,d={};function f(m){c=m}function g(){return u[c]}l.languages=function(){return Object.assign({},u)},l.currentLanguage=function(){return c},l.currentCurrency=function(){return g().currency},l.currentAbbreviations=function(){return g().abbreviations},l.currentDelimiters=function(){return g().delimiters},l.currentOrdinal=function(){return g().ordinal},l.currentDefaults=function(){return Object.assign({},g().defaults,d)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().timeFormat)},l.setDefaults=function(m){m=a.parseFormat(m),r.validateFormat(m)&&(d=m)},l.getZeroFormat=function(){return h},l.setZeroFormat=function(m){return h=typeof m=="string"?m:null},l.hasZeroFormat=function(){return h!==null},l.languageData=function(m){if(m){if(u[m])return u[m];throw new Error('Unknown tag "'.concat(m,'"'))}return g()},l.registerLanguage=function(m){var w=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!r.validateLanguage(m))throw new Error("Invalid language data");u[m.languageTag]=m,w&&f(m.languageTag)},l.setLanguage=function(m){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:s.languageTag;if(!u[m]){var b=m.split("-")[0],C=Object.keys(u).find(function(y){return y.split("-")[0]===b});return u[C]?void f(C):void f(w)}f(m)},l.registerLanguage(s),c=s.languageTag,i.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(n,i,o){i.exports=function(s){return{loadLanguagesInNode:function(r){return a=s,void r.forEach(function(l){var c=void 0;try{c=n("../languages/".concat(l))}catch{console.error('Unable to load "'.concat(l,'". No matching language file found.'))}c&&a.registerLanguage(c)});var a}}}},{}],6:[function(n,i,o){var s=n("bignumber.js");function r(a,l,c){var u=new s(a._value),h=l;return c.isNumbro(l)&&(h=l._value),h=new s(h),a._value=u.minus(h).toNumber(),a}i.exports=function(a){return{add:function(l,c){return h=c,d=a,f=new s((u=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new s(g),u._value=f.plus(g).toNumber(),u;var u,h,d,f,g},subtract:function(l,c){return r(l,c,a)},multiply:function(l,c){return h=c,d=a,f=new s((u=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new s(g),u._value=f.times(g).toNumber(),u;var u,h,d,f,g},divide:function(l,c){return h=c,d=a,f=new s((u=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new s(g),u._value=f.dividedBy(g).toNumber(),u;var u,h,d,f,g},set:function(l,c){return u=l,d=h=c,a.isNumbro(h)&&(d=h._value),u._value=d,u;var u,h,d},difference:function(l,c){return u=c,r(d=(h=a)(l._value),u,h),Math.abs(d._value);var u,h,d}}}},{"bignumber.js":1}],7:[function(n,i,o){function s(w,b){for(var C=0;C<b.length;C++){var y=b[C];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}var r=n("./globalState"),a=n("./validating"),l=n("./loading")(m),c=n("./unformatting"),u=n("./formatting")(m),h=n("./manipulating")(m),d=n("./parsing"),f=function(){function w(y){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,w),this._value=y}var b,C;return b=w,(C=[{key:"clone",value:function(){return m(this._value)}},{key:"format",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return u.format(this,y)}},{key:"formatCurrency",value:function(y){return typeof y=="string"&&(y=d.parseFormat(y)),(y=u.formatOrDefault(y,r.currentCurrencyDefaultFormat())).output="currency",u.format(this,y)}},{key:"formatTime",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return y.output="time",u.format(this,y)}},{key:"binaryByteUnits",value:function(){return u.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return u.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return u.getByteUnit(this)}},{key:"difference",value:function(y){return h.difference(this,y)}},{key:"add",value:function(y){return h.add(this,y)}},{key:"subtract",value:function(y){return h.subtract(this,y)}},{key:"multiply",value:function(y){return h.multiply(this,y)}},{key:"divide",value:function(y){return h.divide(this,y)}},{key:"set",value:function(y){return h.set(this,g(y))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&s(b.prototype,C),w}();function g(w){var b=w;return m.isNumbro(w)?b=w._value:typeof w=="string"?b=m.unformat(w):isNaN(w)&&(b=NaN),b}function m(w){return new f(g(w))}m.version="2.1.2",m.isNumbro=function(w){return w instanceof f},m.language=r.currentLanguage,m.registerLanguage=r.registerLanguage,m.setLanguage=r.setLanguage,m.languages=r.languages,m.languageData=r.languageData,m.zeroFormat=r.setZeroFormat,m.defaultFormat=r.currentDefaults,m.setDefaults=r.setDefaults,m.defaultCurrencyFormat=r.currentCurrencyDefaultFormat,m.validate=a.validate,m.loadLanguagesInNode=l.loadLanguagesInNode,m.unformat=c.unformat,i.exports=m},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(n,i,o){i.exports={parseFormat:function(s){var r,a,l,c,u,h,d,f,g,m,w,b,C,y,E,T,N,D,B,K,q=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof s!="string"?s:(a=q,s=(l=(r=s).match(/^{([^}]*)}/))?(a.prefix=l[1],r.slice(l[0].length)):r,u=q,function(J,ee){if(J.indexOf("$")===-1){if(J.indexOf("%")===-1)return J.indexOf("bd")!==-1?(ee.output="byte",ee.base="general"):J.indexOf("b")!==-1?(ee.output="byte",ee.base="binary"):J.indexOf("d")!==-1?(ee.output="byte",ee.base="decimal"):J.indexOf(":")===-1?J.indexOf("o")!==-1&&(ee.output="ordinal"):ee.output="time";ee.output="percent"}else ee.output="currency"}(s=(h=(c=s).match(/{([^}]*)}$/))?(u.postfix=h[1],c.slice(0,-h[0].length)):c,q),d=q,(f=s.match(/[1-9]+[0-9]*/))&&(d.totalLength=+f[0]),g=q,(m=s.split(".")[0].match(/0+/))&&(g.characteristic=m[0].length),function(J,ee){if(J.indexOf(".")!==-1){var re=J.split(".")[0];ee.optionalCharacteristic=re.indexOf("0")===-1}}(s,q),w=q,s.indexOf("a")!==-1&&(w.average=!0),C=q,(b=s).indexOf("K")!==-1?C.forceAverage="thousand":b.indexOf("M")!==-1?C.forceAverage="million":b.indexOf("B")!==-1?C.forceAverage="billion":b.indexOf("T")!==-1&&(C.forceAverage="trillion"),function(J,ee){var re=J.split(".")[1];if(re){var me=re.match(/0+/);me&&(ee.mantissa=me[0].length)}}(s,q),E=q,(y=s).match(/\[\.]/)?E.optionalMantissa=!0:y.match(/\./)&&(E.optionalMantissa=!1),T=q,s.indexOf(",")!==-1&&(T.thousandSeparated=!0),N=q,s.indexOf(" ")!==-1&&(N.spaceSeparated=!0),B=q,(D=s).match(/^\+?\([^)]*\)$/)&&(B.negative="parenthesis"),D.match(/^\+?-/)&&(B.negative="sign"),K=q,s.match(/^\+/)&&(K.forceSign=!0),q)}}},{}],9:[function(n,i,o){var s=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function r(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",h=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,f=5<arguments.length?arguments[5]:void 0,g=6<arguments.length?arguments[6]:void 0;if(l!=="")return l===d?0:function m(w,b){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",y=3<arguments.length?arguments[3]:void 0,E=4<arguments.length?arguments[4]:void 0,T=5<arguments.length?arguments[5]:void 0,N=6<arguments.length?arguments[6]:void 0;if(!isNaN(+w))return+w;var D="",B=w.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(B!==w)return-1*m(B,b,C,y,E,T,N);for(var K=0;K<s.length;K++){var q=s[K];if((D=w.replace(q.key,""))!==w)return m(D,b,C,y,E,T,N)*q.factor}if((D=w.replace("%",""))!==w)return m(D,b,C,y,E,T,N)/100;var J=parseFloat(w);if(!isNaN(J)){var ee=y(J);if(ee&&ee!=="."&&(D=w.replace(new RegExp("".concat(r(ee),"$")),""))!==w)return m(D,b,C,y,E,T,N);var re={};Object.keys(T).forEach(function(Ne){re[T[Ne]]=Ne});for(var me=Object.keys(re).sort().reverse(),pe=me.length,ye=0;ye<pe;ye++){var de=me[ye],ae=re[de];if((D=w.replace(de,""))!==w){var we=void 0;switch(ae){case"thousand":we=Math.pow(10,3);break;case"million":we=Math.pow(10,6);break;case"billion":we=Math.pow(10,9);break;case"trillion":we=Math.pow(10,12)}return m(D,b,C,y,E,T,N)*we}}}}(function(m,w){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",C=m.replace(b,"");return C=(C=C.replace(new RegExp("([0-9])".concat(r(w.thousands),"([0-9])"),"g"),"$1$2")).replace(w.decimal,".")}(l,c,u),c,u,h,d,f,g)}i.exports={unformat:function(l,c){var u,h,d,f=n("./globalState"),g=f.currentDelimiters(),m=f.currentCurrency().symbol,w=f.currentOrdinal(),b=f.getZeroFormat(),C=f.currentAbbreviations(),y=void 0;if(typeof l=="string")y=function(E,T){if(!E.indexOf(":")||T.thousands===":")return!1;var N=E.split(":");if(N.length!==3)return!1;var D=+N[0],B=+N[1],K=+N[2];return!isNaN(D)&&!isNaN(B)&&!isNaN(K)}(l,g)?(u=l.split(":"),h=+u[0],d=+u[1],+u[2]+60*d+3600*h):a(l,g,m,w,b,C,c);else{if(typeof l!="number")return;y=l}if(y!==void 0)return y}}},{"./globalState":4}],10:[function(n,i,o){function s(g){return function(m){if(Array.isArray(m)){for(var w=0,b=new Array(m.length);w<m.length;w++)b[w]=m[w];return b}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(g){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}var a=n("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,c={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(g,m){return m.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(g){return g.output==="byte"}},characteristic:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(g){return 0<=g},message:"value must be positive"},{restriction:function(g,m){return!m.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(g,m){return m.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},u={languageTag:{type:"string",mandatory:!0,restriction:function(g){return g.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(g){return!!a.unformat(g)}function d(g,m,w){var b=3<arguments.length&&arguments[3]!==void 0&&arguments[3],C=Object.keys(g).map(function(y){if(!m[y])return console.error("".concat(w," Invalid key: ").concat(y)),!1;var E=g[y],T=m[y];if(typeof T=="string"&&(T={type:T}),T.type==="format"){if(!d(E,c,"[Validate ".concat(y,"]"),!0))return!1}else if(r(E)!==T.type)return console.error("".concat(w," ").concat(y,' type mismatched: "').concat(T.type,'" expected, "').concat(r(E),'" provided')),!1;if(T.restrictions&&T.restrictions.length)for(var N=T.restrictions.length,D=0;D<N;D++){var B=T.restrictions[D],K=B.restriction,q=B.message;if(!K(E,g))return console.error("".concat(w," ").concat(y," invalid value: ").concat(q)),!1}return T.restriction&&!T.restriction(E,g)?(console.error("".concat(w," ").concat(y," invalid value: ").concat(T.message)),!1):T.validValues&&T.validValues.indexOf(E)===-1?(console.error("".concat(w," ").concat(y," invalid value: must be among ").concat(JSON.stringify(T.validValues),', "').concat(E,'" provided')),!1):!(T.children&&!d(E,T.children,"[Validate ".concat(y,"]")))});return b||C.push.apply(C,s(Object.keys(m).map(function(y){var E=m[y];if(typeof E=="string"&&(E={type:E}),E.mandatory){var T=E.mandatory;if(typeof T=="function"&&(T=T(g)),T&&g[y]===void 0)return console.error("".concat(w,' Missing mandatory key "').concat(y,'"')),!1}return!0}))),C.reduce(function(y,E){return y&&E},!0)}function f(g){return d(g,c,"[Validate format]")}i.exports={validate:function(g,m){var w=h(g),b=f(m);return w&&b},validateFormat:f,validateInput:h,validateLanguage:function(g){return d(g,u,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(tW);var Lie=tW.exports;const sc=K4(Lie),$ie="numeric";function nW(t,e){if(ki(t)){const n=e.numericFormat,i=n&&n.culture||"-",o=n&&n.pattern;if(typeof i<"u"&&!sc.languages()[i]){const s=i.replace("-",""),r=sc.allLanguages?sc.allLanguages[i]:sc[s];r&&sc.registerLanguage(r)}sc.setLanguage(i),t=sc(t).format(o||"0")}return t}function G1(t,e,n,i,o,s,r){let a=s;if(ki(a)){const l=r.className||"",c=l.length?l.split(" "):[];a=nW(a,r),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),r.className=c.join(" "),e.dir="ltr"}ja(t,e,n,i,o,a,r)}G1.RENDERER_TYPE=$ie;const Fie="password";function K1(t,e,n,i,o,s,r){ja.apply(this,[t,e,n,i,o,s,r]);const a=r.hashLength||e.innerHTML.length,l=r.hashSymbol||"*";let c="";Oe(a-1,()=>{c+=l}),Nd(e,c)}K1.RENDERER_TYPE=Fie;const Vie="select";function q1(t,e,n,i,o,s,r){ja.apply(this,[t,e,n,i,o,s,r])}q1.RENDERER_TYPE=Vie;const Wie="time";function X1(t,e,n,i,o,s,r){ja.apply(this,[t,e,n,i,o,s,r]),e.dir="ltr"}X1.RENDERER_TYPE=Wie;const{register:Bie,getItem:jie,hasItem:iW,getNames:xPe,getValues:EPe}=Fs("renderers");function IA(t){if(typeof t=="function")return t;if(!iW(t))throw Error(`No registered renderer found under "${t}" name`);return jie(t)}function Oo(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),Bie(t,e)}function Uie(){Oo(Ld),Oo(Sp),Oo(U1),Oo(PT),Oo(Y1),Oo(MT),Oo(G1),Oo(K1),Oo(q1),Oo(ja),Oo(X1)}const zie="autocomplete";function $C(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,AA(n,e)):AA(n,e)(this.source):e(!0)}$C.VALIDATOR_TYPE=zie;function AA(t,e){const n=t;return function(i){let o=!1;for(let s=0,r=i.length;s<r;s++)if(n===i[s]){o=!0;break}e(o)}}function Yie(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const Gie="date";function Z1(t,e){const n=JV(FV,this.instance);let i=t,o=!0;i==null&&(i="");let s=ce(i,this.dateFormat||n.defaultDateFormat,!0).isValid(),r=ce(new Date(i)).isValid()||s;if(this.allowEmpty&&i===""&&(r=!0,s=!0),r||(o=!1),!r&&s&&(o=!0),r&&!s)if(this.correctFormat===!0){const a=Kie(i,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),o=!0}else o=!1;e(o)}Z1.VALIDATOR_TYPE=Gie;function Kie(t,e){const n=ce(Yie(t)),i=ce(t,e),o=t.search(/[A-z]/g)>-1;let s;return n.isValid()&&n.format("x")===i.format("x")||!i.isValid()||o?s=n:s=i,s.format(e)}const qie="dropdown";function J1(t,e){$C.apply(this,[t,e])}J1.VALIDATOR_TYPE=qie;const Xie="numeric";function Q1(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:ki(t))}Q1.VALIDATOR_TYPE=Xie;const Zie=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],Jie="time";function eM(t,e){const n=this.timeFormat||"h:mm:ss a";let i=!0,o=t;o===null&&(o=""),o=/^\d{3,}$/.test(o)?parseInt(o,10):o;const s=/^\d{1,2}$/.test(o);s&&(o+=":00");const r=ce(o,Zie,!0).isValid()?ce(o):ce(o,n);let a=r.isValid(),l=ce(o,n,!0).isValid()&&!s;if(this.allowEmpty&&o===""&&(a=!0,l=!0),a||(i=!1),!a&&l&&(i=!0),a&&!l)if(this.correctFormat===!0){const c=r.format(n);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),i=!0}else i=!1;e(i)}eM.VALIDATOR_TYPE=Jie;const{register:Qie,getItem:eoe,hasItem:oW,getNames:TPe,getValues:MPe}=Fs("validators");function toe(t){if(typeof t=="function")return t;if(!oW(t))throw Error(`No registered validator found under "${t}" name`);return eoe(t)}function Ah(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),Qie(t,e)}function noe(){Ah($C),Ah(J1),Ah(Z1),Ah(Q1),Ah(eM)}const ioe="autocomplete",ooe={CELL_TYPE:ioe,editor:ST,renderer:Ld,validator:$C},soe="checkbox",roe={CELL_TYPE:soe,editor:$V,renderer:U1},aoe="date";function sW(t,e,n,i,o,s,r){Ld.apply(this,[t,e,n,i,o,s,r])}sW.RENDERER_TYPE=aoe;const loe="date",coe={CELL_TYPE:loe,editor:VV,renderer:sW,validator:Z1},uoe="dropdown",hoe={CELL_TYPE:uoe,editor:TT,renderer:PT,validator:J1},doe="handsontable",foe={CELL_TYPE:doe,editor:CT,renderer:Y1},goe="numeric",moe={CELL_TYPE:goe,editor:YV,renderer:G1,validator:Q1,dataType:"number"},poe="password",woe={CELL_TYPE:poe,editor:GV,renderer:K1,copyable:!1},boe="select",voe={CELL_TYPE:boe,editor:KV,renderer:q1},yoe="text",rW={CELL_TYPE:yoe,editor:Du,renderer:ja},Coe="time",Soe={CELL_TYPE:Coe,editor:qV,renderer:X1,validator:eM},{register:_oe,getItem:Roe,hasItem:aW,getNames:PPe,getValues:OPe}=Fs("cellTypes");function xoe(t){if(!aW(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return Roe(t)}function ds(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:i,validator:o}=e;n&&ao(t,n),i&&Oo(t,i),o&&Ah(t,o),_oe(t,e)}function Eoe(){ds(ooe),ds(roe),ds(coe),ds(hoe),ds(foe),ds(moe),ds(woe),ds(voe),ds(rW),ds(Soe)}const ax="asc",Toe="desc",HA=new Map([[ax,[-1,1]],[Toe,[1,-1]]]),Moe=t=>`The priority '${t}' is already declared in a map.`,Poe=t=>`The priority '${t}' is not a number.`;function Ooe(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=Yt(t)?t:Moe,e=Yt(e)?e:Poe;function i(s,r){if(!ki(s))throw new Error(e(s));if(n.has(s))throw new Error(t(s));n.set(s,r)}function o(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ax;const[r,a]=HA.get(s)||HA.get(ax);return[...n].sort((l,c)=>l[0]<c[0]?r:a).map(l=>l[1])}return{addItem:i,getItems:o}}const Ioe=t=>`The id '${t}' is already declared in a map.`;function FC(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=Yt(t)?t:Ioe;function n(c,u){if(l(c))throw new Error(t(c));e.set(c,u)}function i(c){return e.delete(c)}function o(){e.clear()}function s(c){const[u]=a().find(h=>{let[d,f]=h;return c===f?d:!1})||[null];return u}function r(c){return e.get(c)}function a(){return[...e]}function l(c){return e.has(c)}return{addItem:n,clear:o,getId:s,getItem:r,getItems:a,hasItem:l,removeItem:i}}const Aoe=t=>`'${t}' value is already declared in a unique set.`;function Hoe(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=Yt(t)?t:Aoe;function n(s){if(e.has(s))throw new Error(t(s));e.add(s)}function i(){return[...e]}function o(){e.clear()}return{addItem:n,clear:o,getItems:i}}const tM=t=>`There is already registered "${t}" plugin.`,koe=t=>`There is already registered plugin on priority "${t}".`,Noe=t=>`The priority "${t}" is not a number.`,lW=Ooe({errorPriorityExists:koe,errorPriorityNaN:Noe}),cW=Hoe({errorItemExists:tM}),lx=FC({errorIdExists:tM});function uW(){return[...lW.getItems(),...cW.getItems()]}function nM(t){const e=Hs(t);return lx.getItem(e)}function Doe(t){return!!nM(t)}function pt(t,e,n){[t,e,n]=$oe(t,e,n),nM(t)===void 0&&Loe(t,e,n)}function Loe(t,e,n){const i=Hs(t);if(lx.hasItem(i))throw new Error(tM(i));n===void 0?cW.addItem(i):lW.addItem(n,i),lx.addItem(i,e)}function $oe(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}function Foe(t,e){hW(t,e),e.add(t)}function Voe(t,e,n){hW(t,e),e.set(t,n)}function hW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yu(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gu(t,e){return t.get(dW(t,e))}function dW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const kA=new Map([["plugin",Doe],["cell-type",aW],["editor",ZV],["renderer",iW],["validator",oW]]),joe="base",p0=[];let Us=null;var rc=new WeakMap,NA=new WeakSet;class _t{static get PLUGIN_KEY(){return joe}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){Foe(this,NA),Yu(this,"eventManager",new ks(this)),Yu(this,"pluginName",null),Yu(this,"pluginsInitializedCallbacks",[]),Yu(this,"isPluginsReady",!1),Yu(this,"enabled",!1),Yu(this,"initialized",!1),Voe(this,rc,{}),Ba(this,"hot",e,{writable:!1}),Us=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const o=[];if(n.forEach(s=>{const[r,a]=s.split(":");if(!kA.has(r))throw new Error(`Unknown plugin dependency type "${r}" was found.`);kA.get(r)(a)||o.push(` - ${a} (${r})`)}),o.length>0){const s=[`The ${this.pluginName} plugin requires the following modules:
`,`${o.join(`
`)}
`].join("");p0.push(s)}}if(Us||(Us=uW()),Us.indexOf("UndoRedo")>=0&&Us.splice(Us.indexOf("UndoRedo"),1),Us.indexOf(this.pluginName)>=0&&Us.splice(Us.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Us.length===0){if(p0.length>0){const o=[`${p0.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(o)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,n,i){Gu(rc,this)[e]=Gu(rc,this)[e]||[];const o=Gu(rc,this)[e];this.hot.addHook(e,n,i),o.push(n),Gu(rc,this)[e]=o}removeHooks(e){F(Gu(rc,this)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=Gu(rc,this);Qe(e,(n,i)=>this.removeHooks(i)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){F(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=dW(NA,this,Uoe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),Qe(this,(n,i)=>{i!=="hot"&&(this[i]=null)}),delete this.t,delete this.hot}}function Uoe(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function ac(t,e,n){return(e=zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let fW=class{constructor(e){ac(this,"hot",null),ac(this,"container",null),ac(this,"injected",!1),ac(this,"rows",[]),ac(this,"columns",[]),ac(this,"samples",null),ac(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,n){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const i={row:e};this.rows.push(i),this.samples=n,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}addColumnHeadersRow(e){const n=this.hot.getColHeader(0);if(n!=null){const i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}addColumn(e,n){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const i={col:e};this.columns.push(i),this.samples=n,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}getHeights(e){this.injected||this.injectTable(),F(this.rows,n=>{const{height:i}=n.table.getBoundingClientRect();e(n.row,Math.ceil(i)-1)})}getWidths(e){this.injected||this.injectTable(),F(this.columns,n=>{const{width:i}=n.table.getBoundingClientRect();e(n.col,Math.ceil(i))})}setSettings(e){this.settings=e}setSetting(e,n){this.settings||(this.settings={}),this.settings[e]=n}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const n=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&n.appendChild(this.createColElement(-1,-1)),this.samples.forEach(i=>{F(i.strings,o=>{n.appendChild(this.createColElement(o.col,e))})}),n}createRow(e){const{rootDocument:n}=this.hot,i=n.createDocumentFragment(),o=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,o),i.appendChild(o)),this.samples.forEach(s=>{F(s.strings,r=>{const a=r.col,l=this.hot.getCellMeta(e,a),c=this.hot.getCellRenderer(l),u=n.createElement("td");u.setAttribute("ghost-table",1),c(this.hot,u,e,a,this.hot.colToProp(a),r.value,l),i.appendChild(u)})}),i}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),i=[];if(this.hot.hasRowHeaders()){const o=e.createElement("th");i.push([-1,o]),n.appendChild(o)}this.samples.forEach(o=>{F(o.strings,s=>{const r=s.col,a=e.createElement("th");i.push([r,a]),n.appendChild(a)})}),this.table.tHead.appendChild(n),F(i,o=>{const[s,r]=o;this.hot.view.appendColHeader(s,r)})}createCol(e){const{rootDocument:n}=this.hot,i=n.createDocumentFragment();return this.samples.forEach(o=>{F(o.strings,s=>{const r=s.row,a=this.hot.getCellMeta(r,e),l=this.hot.getCellRenderer(a),c=n.createElement("td"),u=n.createElement("tr");c.setAttribute("ghost-table",1),l(this.hot,c,r,e,this.hot.colToProp(e),s.value,a),u.appendChild(c),i.appendChild(u)})}),i}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,n){const i=this.hot.rootDocument.createElement("col");let o=0;n>=0&&e>=0&&(o=this.hot.getCellMeta(n,e).colspan);let s=this.hot.getColWidth(e);if(o>1)for(let r=e+1;r<e+o;r++)s+=this.hot.getColWidth(r);return i.style.width=`${s}px`,i}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,i=n.createDocumentFragment(),o=n.createElement("table"),s=n.createElement("thead"),r=n.createElement("tbody"),a=n.createElement("colgroup"),l=n.createElement("tr"),c=n.createElement("th");return this.isVertical()&&o.appendChild(a),this.isHorizontal()&&(l.appendChild(c),s.appendChild(l),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(s),this.isVertical()&&r.appendChild(l),o.appendChild(r),ue(o,e),i.appendChild(o),{fragment:i,table:o,tHead:s,tBody:r,colGroup:a,tr:l,th:c}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,i=n.createDocumentFragment(),o=n.createElement("div"),s=`htGhostTable htAutoSize ${e.trim()}`;return ue(o,s),i.appendChild(o),{fragment:i,container:o}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function cw(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VC{static get SAMPLE_COUNT(){return 3}constructor(e){cw(this,"samples",null),cw(this,"dataFactory",null),cw(this,"customSampleCount",null),cw(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:VC.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,i){const o=new Map,{from:s,to:r}=typeof i=="number"?{from:i,to:i}:i;return Oe(s,r,a=>{const l=this.generateSample(e,n,a);o.set(a,l)}),o}generateSample(e,n,i){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const o=new Map,s=e==="row"?"col":"row",r=[];return Oe(n.from,n.to,a=>{const l=e==="row"?this.dataFactory(i,a):this.dataFactory(a,i);if(l===!1)return;const{value:c,bundleSeed:u}=l,h=typeof u=="string"&&u.length>0;let d;h?d=u:Je(c)?d=`${Object.keys(c).length}`:Array.isArray(c)?d=`${c.length}`:d=`${Tn(c).length}`,o.has(d)||o.set(d,{needed:this.getSampleCount(),strings:[]});const f=o.get(d);f.needed&&(!(r.indexOf(c)>-1)||this.allowDuplicates||h)&&(f.strings.push({value:c,[s]:a}),r.push(c),f.needed-=1)}),o}}var qoe=li,Xoe=lp,Zoe=hp,Joe=up,Qoe=RT;qoe({target:"Array",proto:!0},{at:function(e){var n=Xoe(this),i=Zoe(n),o=Joe(e),s=o>=0?o:i+o;return s<0||s>=i?void 0:n[s]}});Qoe("at");var ese=li,tse=kn,nse=rp,ise=up,ose=yC,sse=no,rse=tse("".charAt),ase=sse(function(){return"𠮷".at(-2)!=="\uD842"});ese({target:"String",proto:!0,forced:ase},{at:function(e){var n=ose(nse(this)),i=n.length,o=ise(e),s=o>=0?o:i+o;return s<0||s>=i?void 0:rse(n,s)}});function Qd(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class use{constructor(){Qd(this,"count",0),Qd(this,"startColumn",null),Qd(this,"endColumn",null),Qd(this,"startPosition",null),Qd(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:i,zeroBasedScrollOffset:o,viewportWidth:s,columnWidth:r}=n,a=o>0?s+1:s;i>=o&&i+r<=o+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e)}finalize(e){var n;const{scrollOffset:i,viewportWidth:o,inlineStartOffset:s,zeroBasedScrollOffset:r,totalColumns:a,needReverse:l,startPositions:c,columnWidth:u}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const g=c[this.endColumn]+u-c[this.startColumn-1];if(g<=o&&(this.startColumn-=1),g>=o)break}this.startPosition=(n=c[this.startColumn])!==null&&n!==void 0?n:null;const h=r>0?o+1:o,d=i+o-h,f=this.startColumn===null?0:e.getColumnWidth(this.startColumn);d<-1*s||i>c.at(-1)||-1*i-o>-1*f?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function ef(t,e,n){return(e=hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fse{constructor(){ef(this,"count",0),ef(this,"startRow",null),ef(this,"endRow",null),ef(this,"startPosition",null),ef(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:i,zeroBasedScrollOffset:o,innerViewportHeight:s,rowHeight:r}=n;i>=o&&i+r<=s&&(this.startRow===null&&(this.startRow=e),this.endRow=e)}finalize(e){var n;const{scrollOffset:i,viewportHeight:o,horizontalScrollbarHeight:s,totalRows:r,needReverse:a,startPositions:l,rowHeight:c}=e;if(this.endRow===r-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const d=l[this.endRow]+c-l[this.startRow-1];if(d<=o-s&&(this.startRow-=1),d>=o-s)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null;const u=i+o-s,h=this.startRow===null?0:e.getRowHeight(this.startRow);u<h||i>l.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,r<this.endRow&&(this.endRow=r-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function tf(t,e,n){return(e=gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gW{constructor(){tf(this,"count",0),tf(this,"startColumn",null),tf(this,"endColumn",null),tf(this,"startPosition",null),tf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:i,zeroBasedScrollOffset:o,viewportWidth:s}=n;i<=o&&(this.startColumn=e);const r=o>0?s+1:s;i>=o&&i<=o+r&&(this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e}finalize(e){var n;const{scrollOffset:i,viewportWidth:o,inlineStartOffset:s,zeroBasedScrollOffset:r,totalColumns:a,needReverse:l,startPositions:c,columnWidth:u}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const f=c[this.endColumn]+u-c[this.startColumn-1];if(this.startColumn-=1,f>o)break}this.startPosition=(n=c[this.startColumn])!==null&&n!==void 0?n:null;const h=r>0?o+1:o;i+o-h<-1*s||i>c.at(-1)+u||-1*i-o>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function nf(t,e,n){return(e=pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mW{constructor(){nf(this,"count",0),nf(this,"startRow",null),nf(this,"endRow",null),nf(this,"startPosition",null),nf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:i,zeroBasedScrollOffset:o,innerViewportHeight:s}=n;i<=o&&(this.startRow=e),i>=o&&i<=s&&this.startRow===null&&(this.startRow=e),this.endRow=e}finalize(e){var n;const{scrollOffset:i,viewportHeight:o,horizontalScrollbarHeight:s,totalRows:r,needReverse:a,startPositions:l,rowHeight:c}=e;if(this.endRow===r-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const h=l[this.endRow]+c-l[this.startRow-1];if(this.startRow-=1,h>=o-s)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null,i+o-s<0||i>l.at(-1)+c?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,r<this.endRow&&(this.endRow=r-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function of(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yse{constructor(){of(this,"count",0),of(this,"startColumn",0),of(this,"endColumn",0),of(this,"startPosition",0),of(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:n}=e;this.count=n,this.endColumn=this.count-1}process(){}finalize(){}}function sf(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _se{constructor(){sf(this,"count",0),sf(this,"startRow",0),sf(this,"endRow",0),sf(this,"startPosition",0),sf(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:n}=e;this.count=n,this.endRow=this.count-1}process(){}finalize(){}}class Rse extends gW{finalize(e){var n;super.finalize(e);const{overrideFn:i,totalColumns:o,startPositions:s}=e;this.startColumn!==null&&typeof i=="function"&&i(this),this.startColumn<0&&(this.startColumn=0),this.startPosition=(n=s[this.startColumn])!==null&&n!==void 0?n:null,o<this.endColumn&&(this.endColumn=o-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}class xse extends mW{finalize(e){var n;super.finalize(e);const{overrideFn:i,totalRows:o,startPositions:s}=e;this.startRow!==null&&typeof i=="function"&&i(this),this.startRow<0&&(this.startRow=0),this.startPosition=(n=s[this.startRow])!==null&&n!==void 0?n:null,o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function DA(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pW{constructor(e){DA(this,"calculationTypes",[]),DA(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach(n=>{let[i,o]=n;this.calculationResults.set(i,o),o.initialize(e)})}_process(e,n){this.calculationTypes.forEach(i=>{let[,o]=i;return o.process(e,n)})}_finalize(e){this.calculationTypes.forEach(n=>{let[,i]=n;return i.finalize(e)})}getResultsFor(e){return this.calculationResults.get(e)}}function is(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const WC=50;class Ose extends pW{constructor(e){let{calculationTypes:n,viewportWidth:i,scrollOffset:o,totalColumns:s,columnWidthFn:r,overrideFn:a,inlineStartOffset:l}=e;super(n),is(this,"viewportWidth",0),is(this,"scrollOffset",0),is(this,"zeroBasedScrollOffset",0),is(this,"totalColumns",0),is(this,"columnWidthFn",null),is(this,"columnWidth",0),is(this,"overrideFn",null),is(this,"inlineStartOffset",0),is(this,"totalCalculatedWidth",0),is(this,"startPositions",[]),is(this,"needReverse",!0),this.viewportWidth=i,this.scrollOffset=o,this.zeroBasedScrollOffset=Math.max(o,0),this.totalColumns=s,this.columnWidthFn=r,this.overrideFn=a,this.inlineStartOffset=l,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const n=this.columnWidthFn(e);return isNaN(n)?WC:n}}function _o(t,e,n){return(e=Ise(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ise(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const wW=23;class Hse extends pW{constructor(e){let{calculationTypes:n,viewportHeight:i,scrollOffset:o,totalRows:s,rowHeightFn:r,overrideFn:a,horizontalScrollbarHeight:l}=e;super(n),_o(this,"viewportHeight",0),_o(this,"scrollOffset",0),_o(this,"zeroBasedScrollOffset",0),_o(this,"totalRows",0),_o(this,"rowHeightFn",null),_o(this,"rowHeight",0),_o(this,"overrideFn",null),_o(this,"horizontalScrollbarHeight",0),_o(this,"innerViewportHeight",0),_o(this,"totalCalculatedHeight",0),_o(this,"startPositions",[]),_o(this,"needReverse",!0),this.viewportHeight=i,this.scrollOffset=o,this.zeroBasedScrollOffset=Math.max(o,0),this.totalRows=s,this.rowHeightFn=r,this.overrideFn=a,this.horizontalScrollbarHeight=l??0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const n=this.rowHeightFn(e);return isNaN(n)?wW:n}}function kse(t,e,n){Nse(t,e),e.set(t,n)}function Nse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LA(t,e,n){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ku(t,e){return t.get(bW(t,e))}function $A(t,e,n){return t.set(bW(t,e),n),n}function bW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Kr=new WeakMap;class vu{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;LA(this,"row",null),LA(this,"col",null),kse(this,Kr,!1),$A(Kr,this,i),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:i,countRowHeaders:o,countColHeaders:s}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-s||this.col<-o||this.row>=n||this.col>=i)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Ku(Kr,this)}isSouthEastOf(e){return this.row>=e.row&&(Ku(Kr,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(Ku(Kr,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(Ku(Kr,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(Ku(Kr,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof vu&&$A(Kr,this,e.isRtl()),this}clone(){return new vu(this.row,this.col,Ku(Kr,this))}toObject(){return{row:this.row,col:this.col}}}function $se(t,e,n){Fse(t,e),e.set(t,n)}function Fse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w0(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Wse(t,"string");return typeof e=="symbol"?e:e+""}function Wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ro(t,e){return t.get(vW(t,e))}function Bse(t,e,n){return t.set(vW(t,e),n),n}function vW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Vi=new WeakMap;class _p{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;w0(this,"highlight",null),w0(this,"from",null),w0(this,"to",null),$se(this,Vi,!1),this.highlight=e.clone(),this.from=n.clone(),this.to=i.clone(),Bse(Vi,this,o)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:i}=e,o=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return o.row<=n&&s.row>=n&&o.col<=i&&s.col>=i}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>i.row||e.col>i.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(i.row,e.row),Math.max(i.col,e.col)),!0):!1}expandByRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;const i=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner(),s=this.getDirection(),r=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),l=Math.min(i.row,r.row),c=Math.min(i.col,r.col),u=Math.max(o.row,a.row),h=Math.max(o.col,a.col),d=this._createCellCoords(l,c),f=this._createCellCoords(u,h);return this.from=d,this.to=f,this.setDirection(s),n&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Ro(Vi,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Ro(Vi,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Ro(Vi,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Ro(Vi,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Ro(Vi,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Ro(Vi,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Ro(Vi,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Ro(Vi,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof vu))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},o=[];return n.top===i.top&&o.push("top"),n.right===i.right&&o.push(Ro(Vi,this)?"left":"right"),n.bottom===i.bottom&&o.push("bottom"),n.left===i.left&&o.push(Ro(Vi,this)?"right":"left"),o}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),i=[];for(let o=e.row;o<=n.row;o++)for(let s=e.col;s<=n.col;s++)!(this.from.row===o&&this.from.col===s)&&!(this.to.row===o&&this.to.col===s)&&i.push(this._createCellCoords(o,s));return i}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),i=[];for(let o=e.row;o<=n.row;o++)for(let s=e.col;s<=n.col;s++)e.row===o&&e.col===s?i.push(e):n.row===o&&n.col===s?i.push(n):i.push(this._createCellCoords(o,s));return i}forAll(e){const n=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();for(let o=n.row;o<=i.row;o++)for(let s=n.col;s<=i.col;s++)if(e(o,s)===!1)return}clone(){return new _p(this.highlight,this.from,this.to,Ro(Vi,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new vu(e,n,Ro(Vi,this))}}function zs(t,e,n){jse(t,e),e.set(t,n)}function jse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ae(t,e){return t.get(yW(t,e))}function Ya(t,e,n){return t.set(yW(t,e),n),n}function yW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xo=new WeakMap,b0=new WeakMap,Bn=new WeakMap,qu=new WeakMap,uw=new WeakMap,os=new WeakMap,v0=new WeakMap,rf=new WeakMap,lc=new WeakMap,Ys=new WeakMap;let CW=class{constructor(e,n,i,o,s,r){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;zs(this,xo,void 0),zs(this,b0,void 0),zs(this,Bn,void 0),zs(this,qu,void 0),zs(this,uw,void 0),zs(this,os,void 0),zs(this,v0,void 0),zs(this,rf,void 0),zs(this,lc,[null,null]),zs(this,Ys,[null,null]),Ya(xo,this,i),Ya(b0,this,n),Ya(Bn,this,s),Ya(qu,this,r),Ya(uw,this,a),Ya(os,this,o),Ya(v0,this,e),this.registerEvents()}registerEvents(){Ae(os,this).addEventListener(Ae(Bn,this).holder,"contextmenu",i=>this.onContextMenu(i)),Ae(os,this).addEventListener(Ae(Bn,this).TABLE,"mouseover",i=>this.onMouseOver(i)),Ae(os,this).addEventListener(Ae(Bn,this).TABLE,"mouseout",i=>this.onMouseOut(i));const e=()=>{Ae(os,this).addEventListener(Ae(Bn,this).holder,"touchstart",i=>this.onTouchStart(i)),Ae(os,this).addEventListener(Ae(Bn,this).holder,"touchend",i=>this.onTouchEnd(i)),this.momentumScrolling||(this.momentumScrolling={}),Ae(os,this).addEventListener(Ae(Bn,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ae(xo,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ae(xo,this).getSetting("onAfterMomentumScroll"))},200)})},n=()=>{Ae(os,this).addEventListener(Ae(Bn,this).holder,"mouseup",i=>this.onMouseUp(i)),Ae(os,this).addEventListener(Ae(Bn,this).holder,"mousedown",i=>this.onMouseDown(i))};xl()?e():(PV()&&e(),n())}selectedCellWasTouched(e){const i=this.parentCell(e).coords;if(Ae(rf,this)&&i){const[o,s]=[i.row,Ae(rf,this).from.row],[r,a]=[i.col,Ae(rf,this).from.col];return o===s&&r===a}return!1}parentCell(e){const n={},i=Ae(Bn,this).TABLE,o=tw(e,["TD","TH"],i);return o?(n.coords=Ae(Bn,this).getCoords(o),n.TD=o):Fe(e,"wtBorder")&&Fe(e,"current")?(n.coords=Ae(qu,this).getFocusSelection().cellRange.highlight,n.TD=Ae(Bn,this).getCell(n.coords)):Fe(e,"wtBorder")&&Fe(e,"area")&&Ae(qu,this).getAreaSelection().cellRange&&(n.coords=Ae(qu,this).getAreaSelection().cellRange.to,n.TD=Ae(Bn,this).getCell(n.coords)),n}onMouseDown(e){const n=Ae(b0,this).rootDocument.activeElement,i=zV(Fee,e.target),o=e.target;if(!["TD","TH"].includes(n.nodeName)&&(o===n||i(0)===n||i(1)===n))return;const s=this.parentCell(o);Fe(o,"corner")?Ae(xo,this).getSetting("onCellCornerMouseDown",e,o):s.TD&&Ae(xo,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,s.coords,s.TD),(e.button===0||this.touchApplied)&&s.TD&&(Ae(Ys,this)[0]=s.TD,clearTimeout(Ae(lc,this)[0]),Ae(lc,this)[0]=setTimeout(()=>{Ae(Ys,this)[0]=null},1e3))}onContextMenu(e){if(Ae(xo,this).has("onCellContextMenu")){const n=this.parentCell(e.target);n.TD&&this.callListener("onCellContextMenu",e,n.coords,n.TD)}}onMouseOver(e){if(!Ae(xo,this).has("onCellMouseOver"))return;const n=Ae(Bn,this).TABLE,i=tw(e.target,["TD","TH"],n),o=Ae(uw,this)||this;i&&i!==o.lastMouseOver&&uu(i,n)&&(o.lastMouseOver=i,this.callListener("onCellMouseOver",e,Ae(Bn,this).getCoords(i),i))}onMouseOut(e){if(!Ae(xo,this).has("onCellMouseOut"))return;const n=Ae(Bn,this).TABLE,i=tw(e.target,["TD","TH"],n),o=tw(e.relatedTarget,["TD","TH"],n),s=Ae(uw,this)||this;i&&i!==o&&uu(i,n)&&(this.callListener("onCellMouseOut",e,Ae(Bn,this).getCoords(i),i),o===null&&(s.lastMouseOver=null))}onMouseUp(e){const n=this.parentCell(e.target);n.TD&&Ae(xo,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,n.coords,n.TD),!(e.button!==0&&!this.touchApplied)&&(n.TD===Ae(Ys,this)[0]&&n.TD===Ae(Ys,this)[1]?(Fe(e.target,"corner")?this.callListener("onCellCornerDblClick",e,n.coords,n.TD):this.callListener("onCellDblClick",e,n.coords,n.TD),Ae(Ys,this)[0]=null,Ae(Ys,this)[1]=null):n.TD===Ae(Ys,this)[0]&&(Ae(Ys,this)[1]=n.TD,clearTimeout(Ae(lc,this)[1]),Ae(lc,this)[1]=setTimeout(()=>{Ae(Ys,this)[1]=null},500)))}onTouchStart(e){Ya(rf,this,Ae(qu,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var n;const i=e.target,o=(n=this.parentCell(i))===null||n===void 0?void 0:n.coords,s=Te(o)&&o.row>=0&&o.col>=0;if(e.cancelable&&s&&Ae(xo,this).getSetting("isDataViewInstance")){const a=["A","BUTTON","INPUT"];AV()&&(hte()||dte())&&this.selectedCellWasTouched(i)&&!a.includes(i.tagName)?e.preventDefault():this.selectedCellWasTouched(i)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,n,i,o){const s=Ae(xo,this).getSettingPure(e);s&&s(n,i,o,Ae(v0,this).call(this))}destroy(){clearTimeout(Ae(lc,this)[0]),clearTimeout(Ae(lc,this)[1]),Ae(os,this).destroy()}};function y0(t,e,n){return(e=Use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Yse{constructor(e,n,i){y0(this,"offset",void 0),y0(this,"total",void 0),y0(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=i}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function C0(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qse{constructor(e,n,i){C0(this,"offset",void 0),C0(this,"total",void 0),C0(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=i}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}const Xse=0,dy=1,fy=2;function hw(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FA{constructor(){hw(this,"currentSize",0),hw(this,"nextSize",0),hw(this,"currentOffset",0),hw(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function S0(t,e,n){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=ere(t,"string");return typeof e=="symbol"?e:e+""}function ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tre{constructor(){S0(this,"size",new FA),S0(this,"workingSpace",Xse),S0(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof FA}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=dy,e.workingSpace=fy,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=fy,e.workingSpace=dy,this.sharedSize=e.getViewSize()}}function Xu(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class SW{constructor(e,n,i){Xu(this,"rootNode",void 0),Xu(this,"nodesPool",void 0),Xu(this,"sizeSet",new tre),Xu(this,"childNodeType",void 0),Xu(this,"visualIndex",0),Xu(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=n,this.childNodeType=i.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:n}=this;let i=0;if(this.isSharedViewSet()){let o=e.firstElementChild;for(;o;){if(o.tagName===this.childNodeType)i+=1;else if(n.isPlaceOn(dy))break;o=o.nextElementSibling}}else i=e.childElementCount;return i}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:n}=this,i=this.isSharedViewSet(),{nextSize:o}=n.getViewSize();let s=this.getRenderedChildCount();for(;s<o;){const a=this.nodesPool();!i||i&&n.isPlaceOn(fy)?e.appendChild(a):e.insertBefore(a,e.firstChild),s+=1}const r=i&&n.isPlaceOn(dy);for(;s>o;)e.removeChild(r?e.firstChild:e.lastChild),s-=1}render(){const{rootNode:e,sizeSet:n}=this;let i=this.visualIndex;this.isSharedViewSet()&&n.isPlaceOn(fy)&&(i+=n.sharedSize.nextSize);let o=e.childNodes[i];if(o.tagName!==this.childNodeType){const s=this.nodesPool();e.replaceChild(s,o),o=s}this.collectedNodes.push(o),this.visualIndex+=1}end(){}}class _W extends SW{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function ore(t,e,n){return(e=sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class are{constructor(e){ore(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function af(t,e,n){return(e=lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rp{constructor(e,n){af(this,"nodesPool",null),af(this,"nodeType",void 0),af(this,"rootNode",void 0),af(this,"table",null),af(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new are(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function VA(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dre extends Rp{constructor(){super("TH"),VA(this,"orderViews",new WeakMap),VA(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new _W(e,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:i,rows:o,cells:s}=this.table;for(let r=0;r<e;r++){const a=this.table.renderedRowToSource(r),l=o.getRenderedNode(r);this.sourceRowIndex=a;const c=this.obtainOrderView(l),u=s.obtainOrderView(l);c.appendView(u).setSize(i).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<i;h++){c.render();const d=c.getCurrentNode();d.className="",d.removeAttribute("style"),kd(d,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&$e(d,[bee(),Tee(),gT(h+1),Hd(-1)]),n[h](a,d,h)}c.end()}}}class fre extends Rp{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let i=this.rootNode.firstChild;if(e){const{columnsToRender:o}=this.table,s=o+n;for(let a=0,l=e;a<l;a++){for(i=this.rootNode.childNodes[a],i||(i=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(i)),this.renderedNodes=i.childNodes.length;this.renderedNodes<s;)i.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>s;)i.removeChild(i.lastChild),this.renderedNodes-=1}const r=this.rootNode.childNodes.length;if(r>e)for(let a=e;a<r;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else i&&kr(i)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&$e(this.rootNode,[dV()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:i,columnsToRender:o,rowHeadersCount:s}=this.table,r=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&$e(r,[ZR(),pV(n+1)]);for(let a=-1*s;a<o;a+=1){const l=this.table.renderedColumnToSource(a),c=r.childNodes[a+s];c.className="",c.removeAttribute("style"),kd(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&$e(c,[gT(a+1+this.table.rowHeadersCount),Hd(-1),vee(),...a>=0?[Eee()]:[ZR()]]),i[n](l,c,n)}}}}let WA=!1;class gre extends Rp{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,i=e+n;for(;this.renderedNodes<i;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>i;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!WA&&e>1e3&&(WA=!0,Et(Tt`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let o=0;o<n;o++){const s=this.table.renderedColumnToSource(o),r=this.table.columnUtils.getHeaderWidth(s);this.rootNode.childNodes[o].style.width=`${r}px`}for(let o=0;o<e;o++){const s=this.table.renderedColumnToSource(o),r=this.table.columnUtils.getStretchedColumnWidth(s);this.rootNode.childNodes[o+n].style.width=`${r}px`}const i=this.rootNode.firstChild;i&&ue(i,"rowHeader")}}function mre(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const dw={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let BA=!1;class bre extends Rp{constructor(e){super("TR",e),mre(this,"orderView",void 0),this.orderView=new SW(e,n=>this.nodesPool.obtain(n),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!BA&&e>1e3&&(BA=!0,Et(Tt`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&$e(this.rootNode,[dV()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let o=0;o<e;o++){this.orderView.render();const s=this.orderView.getCurrentNode(),r=this.table.renderedRowToSource(o);if(this.table.isAriaEnabled()){var n,i;$e(s,[ZR(),pV(r+((n=(i=this.table.rowUtils)===null||i===void 0||(i=i.dataAccessObject)===null||i===void 0?void 0:i.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}je(s,[dw.rowEven,dw.rowOdd]),(r+1)%2===0?ue(s,dw.rowEven):ue(s,dw.rowOdd)}this.orderView.end()}}function jA(t,e,n){return(e=vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=yre(t,"string");return typeof e=="symbol"?e:e+""}function yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cre extends Rp{constructor(){super("TD"),jA(this,"orderViews",new WeakMap),jA(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new _W(e,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:i,rowHeaders:o}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),c=i.getRenderedNode(a);this.sourceRowIndex=l;const u=this.obtainOrderView(c),h=o.obtainOrderView(c);u.prependView(h).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let d=0;d<n;d++){u.render();const f=u.getCurrentNode(),g=this.table.renderedColumnToSource(d);if(Fe(f,"hide")||(f.className=""),f.removeAttribute("style"),f.removeAttribute("dir"),kd(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,g,f),this.table.isAriaEnabled()){var s,r;$e(f,[...f.hasAttribute("role")?[]:[wee()],Hd(-1),gT(g+((s=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.rowHeaders.length)!==null&&s!==void 0?s:0)+1)])}}u.end()}}}function Ln(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rre{constructor(e){let{cellRenderer:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ln(this,"rootNode",void 0),Ln(this,"rootDocument",void 0),Ln(this,"rowHeaders",null),Ln(this,"columnHeaders",null),Ln(this,"colGroup",null),Ln(this,"rows",null),Ln(this,"cells",null),Ln(this,"rowFilter",null),Ln(this,"columnFilter",null),Ln(this,"rowUtils",null),Ln(this,"columnUtils",null),Ln(this,"rowsToRender",0),Ln(this,"columnsToRender",0),Ln(this,"rowHeaderFunctions",[]),Ln(this,"rowHeadersCount",0),Ln(this,"columnHeaderFunctions",[]),Ln(this,"columnHeadersCount",0),Ln(this,"cellRenderer",void 0),Ln(this,"activeOverlayName",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:i,rows:o,cells:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),i.setTable(this),o.setTable(this),s.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=i,this.rows=o,this.cells=s}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let i=0;i<e;i++){const o=n.getRenderedNode(i);if(o.firstChild){const s=this.renderedRowToSource(i),r=this.rowUtils.getHeightByOverlayName(s,this.activeOverlayName);r?o.firstChild.style.height=`${r-1}px`:o.firstChild.style.height=""}}}}class xre{constructor(){let{TABLE:e,THEAD:n,COLGROUP:i,TBODY:o,rowUtils:s,columnUtils:r,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new Rre(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new dre,columnHeaders:new fre(n),colGroup:new gre(i),rows:new bre(o),cells:new Cre}),this.renderer.setAxisUtils(s,r)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function lf(t,e,n){Ere(t,e),e.set(t,n)}function Ere(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fw(t,e,n){return(e=Tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(t,e){return t.get(RW(t,e))}function cf(t,e,n){return t.set(RW(t,e),n),n}function RW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var gw=new WeakMap,Zu=new WeakMap,uf=new WeakMap,mw=new WeakMap,cc=new WeakMap;class Pre{constructor(e){let{totalColumns:n,stretchMode:i,stretchingColumnWidthFn:o,columnWidthFn:s}=e;fw(this,"stretchAllRatio",0),fw(this,"stretchLastWidth",0),fw(this,"stretchAllColumnsWidth",[]),lf(this,gw,0),fw(this,"needVerifyLastColumnWidth",!0),lf(this,Zu,()=>0),lf(this,uf,r=>r),lf(this,mw,r=>r),lf(this,cc,()=>"none"),cf(Zu,this,n),cf(cc,this,i),cf(uf,this,o??di(uf,this)),cf(mw,this,s??di(mw,this))}refreshStretching(e){if(di(cc,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,cf(gw,this,e);let n=0;for(let o=0;o<di(Zu,this).call(this);o++){const s=this._getColumnWidth(o),r=di(uf,this).call(this,void 0,o);typeof r=="number"?e-=r:n+=s}const i=e-n;if(di(cc,this).call(this)==="all"&&i>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(di(cc,this).call(this)==="last"&&e!==1/0){const o=this._getColumnWidth(di(Zu,this).call(this)-1),s=i+o;this.stretchLastWidth=s>=0?s:o}}getStretchedColumnWidth(e,n){let i=null;return di(cc,this).call(this)==="all"&&this.stretchAllRatio!==0?i=this._getStretchedAllColumnWidth(e,n):di(cc,this).call(this)==="last"&&this.stretchLastWidth!==0&&(i=this._getStretchedLastColumnWidth(e)),i}_getStretchedAllColumnWidth(e,n){let i=0;if(!this.stretchAllColumnsWidth[e]){const o=Math.round(n*this.stretchAllRatio),s=di(uf,this).call(this,o,e);s===void 0?this.stretchAllColumnsWidth[e]=o:this.stretchAllColumnsWidth[e]=isNaN(s)?this._getColumnWidth(e):s}if(this.stretchAllColumnsWidth.length===di(Zu,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let o=0;o<this.stretchAllColumnsWidth.length;o++)i+=this.stretchAllColumnsWidth[o];i!==di(gw,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=di(gw,this)-i)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===di(Zu,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let n=di(mw,this).call(this,e);return isNaN(n)&&(n=WC),n}}function pw(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Are{constructor(e,n){pw(this,"dataAccessObject",void 0),pw(this,"wtSettings",void 0),pw(this,"headerWidths",new Map),pw(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=n,this.stretching=new Pre({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(i,o)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",i,o),columnWidthFn:i=>this.dataAccessObject.wtTable.getColumnWidth(i)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let n=this.getWidth(e);const i=this.stretching.getStretchedColumnWidth(e,n);return i&&(n=i),n}getHeaderHeight(e){let n=this.wtSettings.getSetting("defaultRowHeight");const i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return i!==void 0&&(n=n?Math.max(n,i):i),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:n,cloneSource:i}=this.dataAccessObject,o=i?i.wtTable.holder:e.holder,s=o.offsetHeight<o.scrollHeight?Zn():0;this.stretching.refreshStretching(n.getViewportWidth()-s)}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const i=e.getSetting("rowHeaders").length,o=e.getSetting("defaultColumnWidth");for(let s=0;s<i;s++){let r=Array.isArray(n)?n[s]:n;r=r??o,this.headerWidths.set(s,r)}}}}function UA(t,e,n){return(e=Hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nre{constructor(e,n){UA(this,"dataAccessObject",void 0),UA(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const i=this.dataAccessObject.wtViewport.oversizedRows[e];return i!==void 0&&(n=n===void 0?i:Math.max(n,i)),n}getHeightByOverlayName(e,n){let i=this.wtSettings.getSetting("rowHeightByOverlayName",e,n);const o=this.dataAccessObject.wtViewport.oversizedRows[e];return o!==void 0&&(i=i===void 0?o:Math.max(i,o)),i}}function Gs(t,e,n){return(e=Dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=Lre(t,"string");return typeof e=="symbol"?e:e+""}function Lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $d{constructor(e,n,i,o,s){Gs(this,"wtSettings",null),Gs(this,"domBindings",void 0),Gs(this,"TBODY",null),Gs(this,"THEAD",null),Gs(this,"COLGROUP",null),Gs(this,"hasTableHeight",!0),Gs(this,"hasTableWidth",!0),Gs(this,"isTableVisible",!1),Gs(this,"tableOffset",0),Gs(this,"holderOffset",0),this.domBindings=i,this.isMaster=s==="master",this.name=s,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=o,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=i.rootTable,yV(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const r=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(r)),this.rowUtils=new Nre(this.dataAccessObject,this.wtSettings),this.columnUtils=new Are(this.dataAccessObject,this.wtSettings),this.tableRenderer=new xre({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let i;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Fe(n,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtSpreader",n&&n.insertBefore(i,e),i.appendChild(e)),i.style.position="relative",this.wtSettings.getSetting("ariaTags")&&$e(i,[xr()]),i}createHider(e){const n=e.parentNode;let i;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Fe(n,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtHider",n&&n.insertBefore(i,e),i.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&$e(i,[xr()]),i}createHolder(e){const n=e.parentNode;let i;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Fe(n,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.style.position="relative",i.className="wtHolder",n&&n.insertBefore(i,e),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&$e(i.parentNode,[xr()])),i.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&$e(i,[xr()]),i}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:i,wtViewport:o}=this.dataAccessObject,s=n.getSetting("totalRows"),r=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),l=a.length,c=n.getSetting("columnHeaders"),u=c.length;let h=e;if(this.isMaster&&(i.beforeDraw(),this.holderOffset=Kn(this.holder),h=o.createCalculators(h),l&&!n.getSetting("fixedColumnsStart"))){const f=i.inlineStartOverlay.getScrollPosition(),g=this.correctHeaderWidth;this.correctHeaderWidth=f!==0,g!==this.correctHeaderWidth&&(h=!1)}if(h)this.isMaster&&i.refresh(!0);else{this.isMaster?this.tableOffset=Kn(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const f=s>0?this.getFirstRenderedRow():0,g=r>0?this.getFirstRenderedColumn():0;this.rowFilter=new qse(f,s,u),this.columnFilter=new Yse(g,r,l);let m=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const w={};this.wtSettings.getSetting("beforeDraw",!0,w),m=w.skipRender!==!0}if(m){this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(yr)||this.is(Nl))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let w;if(this.isMaster&&(w=this.dataAccessObject.workspaceWidth,o.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(yr))&&this.markOversizedRows(),this.isMaster){this.wtSettings.getSetting("externalRowCalculator")||o.createVisibleCalculators(),i.refresh(!1),i.applyToDOM();const b=Kt(this.hider),C=Kt(this.TABLE);b!==0&&C!==b&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),w!==o.getWorkspaceWidth()&&(o.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(yr)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let d=!1;return this.isMaster&&(d=i.topOverlay.resetFixedPosition(),i.bottomOverlay.clone&&(d=i.bottomOverlay.resetFixedPosition()||d),d=i.inlineStartOverlay.resetFixedPosition()||d,i.topInlineStartCornerOverlay&&i.topInlineStartCornerOverlay.resetFixedPosition(),i.bottomInlineStartCornerOverlay&&i.bottomInlineStartCornerOverlay.clone&&i.bottomInlineStartCornerOverlay.resetFixedPosition()),d?(i.refreshAll(),i.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(h),this.isMaster&&i.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let i=this.wtSettings.getSetting("columnHeaders").length;const o=this.wtSettings.getSetting("defaultRowHeight");let s,r,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;i;)i-=1,s=this.getColumnHeaderHeight(i),r=this.getColumnHeader(n,i),r&&(a=Uh(r),(!s&&o<a||s<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=a),Array.isArray(l)?l[i]!==null&&l[i]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(l[i]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,o=e.getSetting("columnHeaders");for(let s=0,r=o.length;s<r;s++)if(i[s]){if(!n[s]||n[s].childNodes.length===0)return;n[s].childNodes[0].style.height=`${i[s]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(yr))&&!e.getSetting("externalRowCalculator")){const i=this.getRenderedRowsCount();for(let o=0;o<i;o++){const s=this.rowFilter.renderedToSource(o);n.oversizedRows&&n.oversizedRows[s]&&(n.oversizedRows[s]=void 0)}}}getCell(e){let n=e.row,i=e.col;const o=this.wtSettings.getSetting("onModifyGetCellCoords",n,i);if(o&&Array.isArray(o)&&([n,i]=o),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;const s=this.getRow(n);if(!s&&n>=0)throw new Error("TR was expected to be rendered but is not");const r=s.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!r&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return r}getRow(e){let n=null,i=null;if(e<0){var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceRowToVisibleColHeadedRow(e),i=this.THEAD}else{var s;n=(s=this.rowFilter)===null||s===void 0?void 0:s.sourceToRendered(e),i=this.TBODY}return n!==void 0&&i!==void 0?i.childNodes.length<n+1?!1:i.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.THEAD.childNodes[n];return i==null?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(o=>{const s=o.childNodes[i];s&&n.push(s)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.wtSettings.getSetting("rowHeaders").length;if(n>=i)return;const o=this.rowFilter.sourceToRendered(e),s=o<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):o,a=(o<0?this.THEAD:this.TBODY).childNodes[s];return a==null?void 0:a.childNodes[n]}getRowHeaders(e){const n=[],i=this.wtSettings.getSetting("rowHeaders").length;for(let o=0;o<i;o++){const s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],r=s==null?void 0:s.childNodes[o];r&&n.push(r)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=pu(n,["TD","TH"])),n===null)return null;const i=n.parentNode,o=i.parentNode;let s=Bee(i),r=n.cellIndex;return ic(Su,n,this.wtRootElement)||ic(yu,n,this.wtRootElement)?o.nodeName==="THEAD"&&(s-=o.childNodes.length):ic(Nl,n,this.wtRootElement)||ic(yr,n,this.wtRootElement)?s=this.wtSettings.getSetting("totalRows")-o.childNodes.length+s:o===this.THEAD?s=this.rowFilter.visibleColHeadedRowToSourceRow(s):s=this.rowFilter.renderedToSource(s),ic(Su,n,this.wtRootElement)||ic(Cu,n,this.wtRootElement)||ic(Nl,n,this.wtRootElement)?r=this.columnFilter.offsettedTH(r):r=this.columnFilter.visibleRowHeadedColumnToSourceColumn(r),this.wot.createCellCoords(s,r)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.wtSettings.getSetting("defaultRowHeight"),i=Uh(this.TBODY)-1;let o,s,r,a,l;if(!(n===i&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,r=this.rowFilter.renderedToSource(e),o=this.getRowHeight(r),a=this.getTrForRow(r),l=a.querySelector("th"),l?s=Uh(l):s=Uh(a)-1,(!o&&this.wtSettings.getSetting("defaultRowHeight")<s||o<s)&&(s+=1,this.dataAccessObject.wtViewport.oversizedRows[r]=s)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=i}isRowHeaderRendered(e){if(e>=0)return!1;const i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=i}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return Kt(this.TABLE)}getHeight(){return Pn(this.TABLE)}getTotalWidth(){const e=Kt(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=Pn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return bd(this.TABLE)}_modifyRowHeaderWidth(e){let n=Yt(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const $re="stickyRowsBottom",iM={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return t===0||e===0?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Ba(iM,"MIXIN_NAME",$re,{writable:!1,enumerable:!1});const Fre="stickyColumnsStart",BC={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ba(BC,"MIXIN_NAME",Fre,{writable:!1,enumerable:!1});class oM extends $d{constructor(e,n,i,o){super(e,n,i,o,Nl)}}kt(oM,iM);kt(oM,BC);const yu="top",yr="bottom",Cu="inline_start",Su="top_inline_start_corner",Nl="bottom_inline_start_corner",xW=[yu,yr,Cu,Su,Nl],Vre=new Map([[yu,`ht_clone_${yu}`],[yr,`ht_clone_${yr}`],[Cu,`ht_clone_${Cu} ht_clone_left`],[Su,`ht_clone_${Su} ht_clone_top_left_corner`],[Nl,`ht_clone_${Nl} ht_clone_bottom_left_corner`]]);function Wre(t,e){Bre(t,e),e.add(t)}function Bre(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ww(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var hf=new WeakSet;class Yre{constructor(e){Wre(this,hf),jre(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,n,i,o,s){const r=this.scrollViewportHorizontally(e.col,i,s),a=this.scrollViewportVertically(e.row,n,o);return r||a}scrollViewportHorizontally(e,n,i){const{drawn:o,totalColumns:s}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>s)return!1;const r=n===void 0&&i===void 0,{fixedColumnsStart:a,inlineStartOverlay:l}=this.dataAccessObject;if(r&&e<a||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),!Number.isInteger(e)||e<0||e>s))return!1;const c=this.getFirstVisibleColumn(),u=this.getLastVisibleColumn();let h=!1;return(r&&(e<c||e>u)||!r)&&(h=l.scrollTo(e,r?e>=this.getLastPartiallyVisibleColumn():n)),h}scrollViewportVertically(e,n,i){const{drawn:o,totalRows:s}=this.dataAccessObject;if(!o||!Number.isInteger(e)||e<0||e>s)return!1;const r=n===void 0&&i===void 0,{fixedRowsBottom:a,fixedRowsTop:l,topOverlay:c}=this.dataAccessObject;if(r&&(e<l||e>s-a-1)||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),!Number.isInteger(e)||e<0||e>s))return!1;const u=this.getFirstVisibleRow(),h=this.getLastVisibleRow();let d=!1;return(r&&(e<u||e>h)||!r)&&(d=c.scrollTo(e,r?e>=this.getLastPartiallyVisibleRow():i)),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return ww(hf,this,YA).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return ww(hf,this,YA).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return ww(hf,this,zA).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return ww(hf,this,zA).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function zA(t){const{wtSettings:e,inlineStartOverlay:n,wtTable:i,wtViewport:o,totalColumns:s,rootWindow:r}=this.dataAccessObject;if(n.mainTableScrollableElement===r){const a=e.getSetting("rtlMode");let l=null;if(a){const u=i.TABLE.getBoundingClientRect(),d=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(u.right-d)}else l=Kn(i.wtRootElement).left;const c=Math.abs(SV(r,r));if(l>c){const u=_V(r);let h=o.getRowHeaderWidth();for(let d=1;d<=s;d++)if(h+=n.sumCellSizes(d-1,d),l+h-c>=u){t=d-2;break}}}return t}function YA(t){const{topOverlay:e,wtTable:n,wtViewport:i,totalRows:o,rootWindow:s}=this.dataAccessObject;if(e.mainTableScrollableElement===s){const r=Kn(n.wtRootElement),a=wT(s,s);if(r.top>a){const l=Uh(s);let c=i.getColumnHeaderHeight();for(let u=1;u<=o;u++)if(c+=e.sumCellSizes(u-1,u),r.top+c-a>=l){t=u-2;break}}}return t}function ss(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sM{get eventManager(){return new ks(this)}constructor(e,n){ss(this,"wtTable",void 0),ss(this,"wtScroll",void 0),ss(this,"wtViewport",void 0),ss(this,"wtOverlays",void 0),ss(this,"selectionManager",void 0),ss(this,"wtEvent",void 0),ss(this,"guid",`wt_${cV()}`),ss(this,"drawInterrupted",!1),ss(this,"drawn",!1),ss(this,"domBindings",void 0),ss(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new Yre(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;n<i;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,i){wu(i,e[n])}])}}createCellCoords(e,n){return new vu(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,i){return new _p(e,n,i,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);const i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),r=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<o&&e.col<r)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<r&&e.row>=i-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<r)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<i&&e.row>=i-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,i,o,s){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,n,i,o,s)}scrollViewportHorizontally(e,n,i){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,n,i)}scrollViewportVertically(e,n,i){return e<0?!1:this.wtScroll.scrollViewportVertically(e,n,i)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function GA(t,e,n){return(e=qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zre extends sM{constructor(e,n,i){super(e,n),GA(this,"cloneSource",void 0),GA(this,"cloneOverlay",void 0);const o=this.wtSettings.getSetting("facade",this);this.cloneSource=i.source,this.cloneOverlay=i.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),o,this.domBindings,this.wtSettings),this.wtViewport=i.viewport,this.selectionManager=i.selectionManager,this.wtEvent=new CW(o,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,i.event),this.findOriginalHeaders()}}function Jre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xp{constructor(e,n,i,o,s){Jre(this,"wtSettings",null),Ba(this,"wot",e,{writable:!1}),this.domBindings=s,this.facadeGetter=n,this.wtSettings=o;const{TABLE:r,hider:a,spreader:l,holder:c,wtRootElement:u}=this.wot.wtTable;this.instance=this.wot,this.type=i,this.mainTableScrollableElement=null,this.TABLE=r,this.hider=a,this.spreader=l,this.holder=c,this.wtRootElement=u,this.trimmingContainer=vd(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=vd(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=ey(e.TABLE)}getRelativeCellPosition(e,n,i){if(this.clone.wtTable.holder.contains(e)===!1){Et(`The provided element is not a child of the ${this.type} overlay`);return}const o=this.mainTableScrollableElement===this.domBindings.rootWindow,s=i<this.wtSettings.getSetting("fixedColumnsStart"),r=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(l),top:l.offsetTop},u={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return o?h=this.getRelativeCellPositionWithinWindow(r,s,u,c):h=this.getRelativeCellPositionWithinHolder(r,a,s,u,c),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,i,o){const s=this.wot.wtTable.wtRootElement.getBoundingClientRect();let r=0,a=0;if(!n)r=o.start;else{let l=s.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(s.left+s.width+Zn())),r=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:a=o.top,{start:i.start+r,top:i.top+a}}getRelativeCellPositionWithinHolder(e,n,i,o,s){const r={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(i||(a=r.horizontal-s.start),n){const c=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else e||(l=r.vertical-s.top);return{start:o.start-a,top:o.top-l}}makeClone(){if(xW.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:i,rootWindow:o}=this.domBindings,s=i.createElement("div"),r=i.createElement("table"),a=e.wtRootElement.parentNode;s.className=`${Vre.get(this.type)} handsontable`,s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,n.getSetting("ariaTags")&&$e(s,[xr()]),r.className=e.TABLE.className,e.TABLE.getAttribute("role")&&r.setAttribute("role",e.TABLE.getAttribute("role")),s.appendChild(r),a.appendChild(s);const c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===yu||c==="vertical"&&this.type===Cu?this.mainTableScrollableElement=o:o.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=ey(e.TABLE),new Zre(r,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(e)}reset(){const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,i=e.style,o=n.style,s=e.parentNode.style;[i,o,s].forEach(r=>{r.width="",r.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class tae extends xp{constructor(e,n,i,o,s,r){super(e,n,Nl,i,o),this.bottomOverlay=s,this.inlineStartOverlay=r}createTable(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new oM(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const s=this.inlineStartOverlay.getOverlayOffset(),r=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${s}px`,n.style.bottom=`${r}px`}else NC(n),this.repositionOverlay();let i=Pn(this.clone.wtTable.TABLE);const o=Kt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(i=0),n.style.height=`${i}px`,n.style.width=`${o}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:i}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let s=0;n.hasVerticalScroll()||(s+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(s+=Zn(i)),o.style.bottom=`${s}px`}}const nae="calculatedColumns",jC={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ba(jC,"MIXIN_NAME",nae,{writable:!1,enumerable:!1});class rM extends $d{constructor(e,n,i,o){super(e,n,i,o,yr)}}kt(rM,iM);kt(rM,jC);function iae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rae extends xp{constructor(e,n,i,o){super(e,n,yr,i,o),iae(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new rM(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let i=0;const o=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!o||o!=="vertical")?(i=this.getOverlayOffset(),n.style.bottom=`${i}px`):(i=this.getScrollPosition(),this.repositionOverlay());const s=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),s}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:i}=this.domBindings,o=this.clone.wtTable.holder.parentNode;let s=0;n.hasVerticalScroll()||(s+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(s+=Zn(i)),o.style.bottom=`${s}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let i=!1;return this.mainTableScrollableElement===n?(n.scrollTo(pT(n),e),i=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:i,wtSettings:o}=this.wot,s=o.getSetting("defaultRowHeight");let r=e,a=0;for(;r<n;){const l=i.getRowHeight(r);a+=l===void 0?s:l,r+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:i,rootWindow:o}=this.domBindings,s=Zn(i),a=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==o||l==="horizontal"){let u=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(u-=s),u=Math.min(u,e.wtRootElement.scrollWidth),a.width=`${u}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let c=Pn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),a.height=`${c}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let i=this.getTableParentOffset();const s=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let r=0;n&&s.offsetHeight!==s.clientHeight&&(r=Zn(this.domBindings.rootDocument)),n?(i+=this.sumCellSizes(0,e+1),i-=this.wot.wtViewport.getViewportHeight(),i+=1):i+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),i+=r,this.setScrollPosition(i)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return wT(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let i=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),s=this.clone.wtTable.getTotalHeight(),r=o-s,a=this.domBindings.rootDocument.documentElement.clientHeight;i=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+o,0),i>r&&(i=0)}return i}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),i=this.cachedFixedRowsBottom!==n,o=this.wtSettings.getSetting("columnHeaders");let s=!1;if((i||n===0)&&o.length>0){const r=this.wot.wtTable.holder.parentNode,a=Fe(r,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(ue(r,"innerBorderBottom"),s=!a):(je(r,"innerBorderBottom"),s=a)}return s}}const aae="calculatedRows",aM={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ba(aM,"MIXIN_NAME",aae,{writable:!1,enumerable:!1});class lM extends $d{constructor(e,n,i,o){super(e,n,i,o,Cu)}}kt(lM,aM);kt(lM,BC);const lae="localHooks",ci={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,i,o,s,r){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)sx(this._localHooks[t][l],this,e,n,i,o,s,r)}},clearLocalHooks(){return this._localHooks={},this}};Ba(ci,"MIXIN_NAME",lae,{writable:!1,enumerable:!1});let EW=class{constructor(e,n){this.settings=e,this.cellRange=n||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,n){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=n,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=n,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),n=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,n.row,n.col]}destroy(){this.runLocalHooks("destroy")}};kt(EW,ci);const TW="active-header",cM="header",uM="area",hM="focus",cae="fill",uae="row",hae="column",dae="custom-selection",dM=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var fae=RT;fae("flat");function gae(t,e){MW(t,e),e.add(t)}function KA(t,e,n){MW(t,e),e.set(t,n)}function MW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rn(t,e){return t.get(Ig(t,e))}function qA(t,e,n){return t.set(Ig(t,e),n),n}function Ig(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var rs=new WeakMap,Yi=new WeakMap,bw=new WeakSet;class mae{constructor(){gae(this,bw),KA(this,rs,void 0),KA(this,Yi,void 0)}setActiveOverlay(e){return qA(Yi,this,e),this}setActiveSelection(e){return qA(rs,this,e),this}scan(){const e=Rn(rs,this).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(i=>n.add(i)),this.scanRowsInHeadersRange(i=>n.add(i))):e==="area"?this.scanCellsRange(i=>n.add(i)):e==="focus"?(this.scanColumnsInHeadersRange(i=>n.add(i)),this.scanRowsInHeadersRange(i=>n.add(i)),this.scanCellsRange(i=>n.add(i))):e==="fill"?this.scanCellsRange(i=>n.add(i)):e==="header"?(this.scanColumnsInHeadersRange(i=>n.add(i)),this.scanRowsInHeadersRange(i=>n.add(i))):e==="row"?(this.scanRowsInHeadersRange(i=>n.add(i)),this.scanRowsInCellsRange(i=>n.add(i))):e==="column"&&(this.scanColumnsInHeadersRange(i=>n.add(i)),this.scanColumnsInCellsRange(i=>n.add(i))),n}scanColumnsInHeadersRange(e){const[n,i,o,s]=Rn(rs,this).getCorners(),{wtTable:r}=Rn(Yi,this),a=r.getRenderedColumnsCount(),l=r.getColumnHeadersCount();let c=0;for(let u=-r.getRowHeadersCount();u<a;u++){const h=r.columnFilter.renderedToSource(u);if(!(h<i||h>s)){for(let d=-l;d<0;d++){if(d<n||d>o)continue;const f=d+l;let g=r.getColumnHeader(h,f);const m=Rn(Yi,this).getSetting("onBeforeHighlightingColumnHeader",h,f,{selectionType:Rn(rs,this).settings.selectionType,columnCursor:c,selectionWidth:s-i+1});m!==null&&(m!==h&&(g=r.getColumnHeader(m,f)),e(g))}c+=1}}}scanRowsInHeadersRange(e){const[n,i,o,s]=Rn(rs,this).getCorners(),{wtTable:r}=Rn(Yi,this),a=r.getRenderedRowsCount(),l=r.getRowHeadersCount();let c=0;for(let u=-r.getColumnHeadersCount();u<a;u++){const h=r.rowFilter.renderedToSource(u);if(!(h<n||h>o)){for(let d=-l;d<0;d++){if(d<i||d>s)continue;const f=d+l;let g=r.getRowHeader(h,f);const m=Rn(Yi,this).getSetting("onBeforeHighlightingRowHeader",h,f,{selectionType:Rn(rs,this).settings.selectionType,rowCursor:c,selectionHeight:o-n+1});m!==null&&(m!==h&&(g=r.getRowHeader(m,f)),e(g))}c+=1}}}scanCellsRange(e){const[n,i,o,s]=Rn(rs,this).getCorners(),{wtTable:r}=Rn(Yi,this);Ig(bw,this,_0).call(this,(a,l)=>{if(a>=n&&a<=o&&l>=i&&l<=s){const c=r.getCell(Rn(Yi,this).createCellCoords(a,l)),u=Rn(Yi,this).getSetting("onAfterDrawSelection",a,l,Rn(rs,this).settings.layerLevel);typeof u=="string"&&ue(c,u),e(c)}})}scanRowsInCellsRange(e){const[n,,i]=Rn(rs,this).getCorners(),{wtTable:o}=Rn(Yi,this);Ig(bw,this,_0).call(this,(s,r)=>{if(s>=n&&s<=i){const a=o.getCell(Rn(Yi,this).createCellCoords(s,r));e(a)}})}scanColumnsInCellsRange(e){const[,n,,i]=Rn(rs,this).getCorners(),{wtTable:o}=Rn(Yi,this);Ig(bw,this,_0).call(this,(s,r)=>{if(r>=n&&r<=i){const a=o.getCell(Rn(Yi,this).createCellCoords(s,r));e(a)}})}}function _0(t){const{wtTable:e}=Rn(Yi,this),n=e.getRenderedRowsCount(),i=e.getRenderedColumnsCount();for(let o=0;o<n;o+=1){const s=e.rowFilter.renderedToSource(o);for(let r=0;r<i;r+=1)t(s,e.columnFilter.renderedToSource(r))}}class XA{constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=dM,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,i=this.main.childNodes.length;n<i;n++){const o=this.main.childNodes[n];this.eventManager.addEventListener(o,"mouseenter",s=>this.onMouseEnter(s,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),$s(e);const i=this,o=this.wot.rootDocument.body,s=n.getBoundingClientRect();n.style.display="none";function r(l){if(l.clientY<Math.floor(s.top)||l.clientY>Math.ceil(s.top+s.height)||l.clientX<Math.floor(s.left)||l.clientX>Math.ceil(s.left+s.width))return!0}function a(l){r(l)&&(i.eventManager.removeEventListener(o,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(o,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const i=["top","start","bottom","end","corner"];let o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(let a=0;a<5;a++){const l=i[a],c=n.createElement("div");c.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(c.className+=" hidden"),o=c.style,o.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,o.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,o.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),xl()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:s}=this.wot;let r=s.bordersHolder;r||(r=n.createElement("div"),r.className="htBorders",s.bordersHolder=r,s.spreader.appendChild(r)),r.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const n=10,i=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const o={position:"absolute",height:`${i}px`,width:`${i}px`,"border-radius":`${parseInt(i/1.5,10)}px`};Qe(o,(r,a)=>{this.selectionHandles.styles.bottomHitArea[a]=r,this.selectionHandles.styles.topHitArea[a]=r});const s={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};Qe(s,(r,a)=>{this.selectionHandles.styles.bottom[a]=r,this.selectionHandles.styles.top[a]=r}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const i=this.wot.selectionManager.getAreaSelection();return!!(i.cellRange&&(e!==i.cellRange.to.row||n!==i.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,i,o,s,r){const l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:u,bottom:h,bottomHitArea:d}=this.selectionHandles.styles,f=parseInt(c.borderWidth,10),g=parseInt(c.width,10),m=parseInt(u.width,10),w=this.wot.wtTable.getWidth(),b=this.wot.wtTable.getHeight();c.top=`${parseInt(i-g-1,10)}px`,c[l]=`${parseInt(o-g-1,10)}px`,u.top=`${parseInt(i-m/4*3,10)}px`,u[l]=`${parseInt(o-m/4*3,10)}px`;const C=Math.min(parseInt(o+s,10),w-g-f*2),y=Math.min(parseInt(o+s-m/4,10),w-m-f*2);h[l]=`${C}px`,d[l]=`${y}px`;const E=Math.min(parseInt(i+r,10),b-g-f*2),T=Math.min(parseInt(i+r-m/4,10),b-m-f*2);h.top=`${E}px`,d.top=`${T}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",u.display="block",this.isPartRange(e,n)?(h.display="none",d.display="none"):(h.display="block",d.display="block")):(c.display="none",h.display="none",u.display="none",d.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",u.zIndex="9999"):(c.zIndex="",u.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:n,rootDocument:i,rootWindow:o}=this.wot;let s,r,a,l,c,u;const h=n.getRenderedRowsCount();for(let ae=0;ae<h;ae+=1){const we=n.rowFilter.renderedToSource(ae);if(we>=e[0]&&we<=e[2]){s=we,c=e[0];break}}for(let ae=h-1;ae>=0;ae-=1){const we=n.rowFilter.renderedToSource(ae);if(we>=e[0]&&we<=e[2]){r=we;break}}const d=n.getRenderedColumnsCount();for(let ae=0;ae<d;ae+=1){const we=n.columnFilter.renderedToSource(ae);if(we>=e[1]&&we<=e[3]){a=we,u=e[1];break}}for(let ae=d-1;ae>=0;ae-=1){const we=n.columnFilter.renderedToSource(ae);if(we>=e[1]&&we<=e[3]){l=we;break}}if(s===void 0||a===void 0){this.disappear();return}let f=n.getCell(this.wot.createCellCoords(s,a));const g=s!==r||a!==l,m=g?n.getCell(this.wot.createCellCoords(r,l)):f,w=Kn(f),b=g?Kn(m):w,C=Kn(n.TABLE),y=Kt(n.TABLE),E=w.top,T=w.left,N=this.wot.wtSettings.getSetting("rtlMode");let D=0,B=0;if(N){const ae=Kt(f),we=o.innerWidth-C.left-y;B=T+ae-b.left,D=o.innerWidth-T-ae-we-1}else B=b.left+Kt(m)-T,D=T-C.left-1;if(this.isEntireColumnSelected(s,r)){const ae=this.getDimensionsFromHeader("columns",a,l,c,C);let we=null;ae&&([we,D,B]=ae),we&&(f=we)}let K=E-C.top-1,q=b.top+Pn(m)-E;if(this.isEntireRowSelected(a,l)){const ae=this.getDimensionsFromHeader("rows",s,r,u,C);let we=null;ae&&([we,K,q]=ae),we&&(f=we)}const J=Na(f,o);parseInt(J.borderTopWidth,10)>0&&(K+=1,q=q>0?q-1:0),parseInt(J[N?"borderRightWidth":"borderLeftWidth"],10)>0&&(D+=1,B=B>0?B-1:0);const ee=N?"right":"left";this.topStyle.top=`${K}px`,this.topStyle[ee]=`${D}px`,this.topStyle.width=`${B}px`,this.topStyle.display="block",this.startStyle.top=`${K}px`,this.startStyle[ee]=`${D}px`,this.startStyle.height=`${q}px`,this.startStyle.display="block";const re=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${K+q-re}px`,this.bottomStyle[ee]=`${D}px`,this.bottomStyle.width=`${B}px`,this.bottomStyle.display="block",this.endStyle.top=`${K}px`,this.endStyle[ee]=`${D+B-re}px`,this.endStyle.height=`${q+1}px`,this.endStyle.display="block";let me=this.settings.border.cornerVisible;me=typeof me=="function"?me(this.settings.layerLevel):me;const pe=this.wot.getSetting("onModifyGetCellCoords",r,l);let[ye,de]=[r,l];if(pe&&Array.isArray(pe)&&([,,ye,de]=pe),xl()||!me||this.isPartRange(ye,de))this.cornerStyle.display="none";else{this.cornerStyle.top=`${K+q+this.cornerCenterPointOffset-1}px`,this.cornerStyle[ee]=`${D+B+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let ae=vd(n.TABLE);const we=ae===o;we&&(ae=i.documentElement);const Ne=parseInt(this.cornerDefaultStyle.width,10)/2,p=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){const v=we?m.getBoundingClientRect().left:m.offsetLeft;let x=!1,A=0;N?(A=v-parseInt(this.cornerDefaultStyle.width,10)/2,x=A<0):(A=v+Kt(m)+parseInt(this.cornerDefaultStyle.width,10)/2,x=A>=_V(ae)),x&&(this.cornerStyle[ee]=`${Math.floor(D+B+this.cornerCenterPointOffset-Ne)}px`,this.cornerStyle[N?"borderLeftWidth":"borderRightWidth"]=0)}r===this.wot.getSetting("totalRows")-1&&(we?m.getBoundingClientRect().top:m.offsetTop)+Pn(m)+parseInt(this.cornerDefaultStyle.height,10)/2>=Uh(ae)&&(this.cornerStyle.top=`${Math.floor(K+q+this.cornerCenterPointOffset-p)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}xl()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(r,l,K,D,B,q)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,i,o,s){const{wtTable:r}=this.wot,a=r.wtRootElement.parentNode;let l=null,c=null,u=null,h=null,d=null,f=null,g=null,m=null;switch(e){case"rows":l=function(){return r.getRowHeader(...arguments)},c=function(){return Pn(...arguments)},u="ht__selection--rows",f="top";break;case"columns":l=function(){return r.getColumnHeader(...arguments)},c=function(){return Kt(...arguments)},u="ht__selection--columns",f="left";break}if(a.classList.contains(u)){const w=this.wot.getSetting("columnHeaders").length;if(g=l(n,w-o),m=l(i,w-o),!g||!m)return!1;const b=Kn(g),C=Kn(m);return g&&m&&(h=b[f]-s[f]-1,d=C[f]+c(m)-b[f]),[g,h,d]}return!1}changeBorderStyle(e,n){const i=this[e].style,o=n[e];!o||o.hide?ue(this[e],"hidden"):(Fe(this[e],"hidden")&&je(this[e],"hidden"),i.backgroundColor=o.color,(e==="top"||e==="bottom")&&(i.height=`${o.width}px`),(e==="start"||e==="end")&&(i.width=`${o.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},i=this[e].style;i.backgroundColor=n.color,i.width=`${n.width}px`,i.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?ue(this[e],"hidden"):je(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",xl()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function pae(t,e){PW(t,e),e.add(t)}function Ju(t,e,n){PW(t,e),e.set(t,n)}function PW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(t,e){return t.get(fM(t,e))}function ZA(t,e,n){return t.set(fM(t,e),n),n}function fM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var pi=new WeakMap,qi=new WeakMap,R0=new WeakMap,lg=new WeakMap,x0=new WeakMap,uc=new WeakMap,JA=new WeakSet;class wae{constructor(e){pae(this,JA),Ju(this,pi,void 0),Ju(this,qi,void 0),Ju(this,R0,new mae),Ju(this,lg,new WeakMap),Ju(this,x0,new WeakSet),Ju(this,uc,new Map),ZA(qi,this,e)}setActiveOverlay(e){return ZA(pi,this,e),nt(R0,this).setActiveOverlay(nt(pi,this)),nt(lg,this).has(nt(pi,this))||nt(lg,this).set(nt(pi,this),new Set),this}getFocusSelection(){return nt(qi,this)!==null?nt(qi,this).getFocus():null}getAreaSelection(){return nt(qi,this)!==null?nt(qi,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(nt(uc,this).has(e)){const i=nt(uc,this).get(e);if(i.has(nt(pi,this)))return i.get(nt(pi,this));const o=new XA(nt(pi,this),e.settings);return i.set(nt(pi,this),o),o}const n=new XA(nt(pi,this),e.settings);return nt(uc,this).set(e,new Map([[nt(pi,this),n]])),n}getBorderInstances(e){var n,i;return Array.from((n=(i=nt(uc,this).get(e))===null||i===void 0?void 0:i.values())!==null&&n!==void 0?n:[])}destroyBorders(e){nt(uc,this).get(e).forEach(n=>n.destroy()),nt(uc,this).delete(e)}render(e){if(nt(qi,this)===null)return;e&&fM(JA,this,bae).call(this);const n=Array.from(nt(qi,this)),i=new Map,o=new Map;for(let s=0;s<n.length;s++){const r=n[s],{className:a,headerAttributes:l,createLayers:c,selectionType:u}=r.settings;nt(x0,this).has(r)||(nt(x0,this).add(r),r.addLocalHook("destroy",()=>this.destroyBorders(r)));const h=this.getBorderInstance(r);if(r.isEmpty()){h==null||h.disappear();continue}a&&nt(R0,this).setActiveSelection(r).scan().forEach(g=>{if(i.has(g)){const m=i.get(g);m.has(a)&&c===!0?m.set(a,m.get(a)+1):m.set(a,1)}else i.set(g,new Map([[a,1]]));l&&(o.has(g)||o.set(g,[]),g.nodeName==="TH"&&o.get(g).push(...l))});const d=r.getCorners();nt(pi,this).getSetting("onBeforeDrawBorders",d,u),h==null||h.appear(d)}i.forEach((s,r)=>{var a;const l=Array.from(s).map(c=>{let[u,h]=c;return h===1?u:[u,...Array.from({length:h-1},(d,f)=>`${u}-${f+1}`)]}).flat();l.forEach(c=>nt(lg,this).get(nt(pi,this)).add(c)),ue(r,l),r.nodeName==="TD"&&Array.isArray((a=nt(qi,this).options)===null||a===void 0?void 0:a.cellAttributes)&&$e(r,nt(qi,this).options.cellAttributes)}),Array.from(o.keys()).forEach(s=>{$e(s,[...o.get(s)])})}}function bae(){const t=nt(lg,this).get(nt(pi,this)),e=nt(pi,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var i,o;const s=nt(pi,this).wtTable.TABLE.querySelectorAll(`.${n}`);let r=[];Array.isArray((i=nt(qi,this).options)===null||i===void 0?void 0:i.cellAttributes)&&(r=nt(qi,this).options.cellAttributes.map(a=>a[0])),Array.isArray((o=nt(qi,this).options)===null||o===void 0?void 0:o.headerAttributes)&&(r=[...r,...nt(qi,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=s.length;a<l;a++)je(s[a],n),kd(s[a],r)}),t.clear()}class vae extends xp{constructor(e,n,i,o){super(e,n,Cu,i,o)}createTable(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new lM(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,i=this.clone.wtTable.holder.parentNode,o=this.wtSettings.getSetting("preventOverflow");let s=0;this.trimmingContainer===n&&(!o||o!=="horizontal")?(s=this.getOverlayOffset()*(this.isRtl()?-1:1),bT(i,`${s}px`,"0px")):(s=this.getScrollPosition(),NC(i));const r=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),r}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let i=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===n&&n.scrollX!==e?(n.scrollTo(e,CV(n)),i=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const i=this.wtSettings.getSetting("defaultColumnWidth");let o=e,s=0;for(;o<n;)s+=this.wot.wtTable.getStretchedColumnWidth(o)||i,o+=1;return s}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,o=Zn(n),r=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="vertical"){let c=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(c-=o),c=Math.min(c,e.wtRootElement.scrollHeight),r.height=`${c}px`}else r.height="";this.clone.wtTable.holder.style.height=r.height;const l=Kt(this.clone.wtTable.TABLE);r.width=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(dM.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){const{wtSettings:i}=this,o=i.getSetting("rowHeaders"),s=i.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=s===0&&o.length>0&&!Fe(a.parentNode,"innerBorderInlineStart")?1:0;let c=this.getTableParentOffset(),u=0;if(n){const h=this.wot.wtTable.getColumnWidth(e),d=this.wot.wtViewport.getViewportWidth();h>d&&(n=!1)}return n&&a.offsetWidth!==a.clientWidth&&(u=Zn(this.domBindings.rootDocument)),n?(c+=this.sumCellSizes(0,e+1),c-=this.wot.wtViewport.getViewportWidth(),c+=l):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),c+=u,zee(this.mainTableScrollableElement)===c-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(c)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(SV(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let i=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?i=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const o=this.wot.wtTable.getTotalWidth(),s=this.clone.wtTable.getTotalWidth(),r=o-s;i>r&&(i=0)}return i}adjustHeaderBordersPosition(e){const{wtSettings:n}=this,i=this.wot.wtTable.holder.parentNode,o=n.getSetting("rowHeaders"),s=n.getSetting("fixedColumnsStart"),r=n.getSetting("totalRows"),a=n.getSetting("preventOverflow")==="vertical";r?je(i,"emptyRows"):ue(i,"emptyRows");let l=!1;if(!a){if(s&&!o.length)ue(i,"innerBorderLeft innerBorderInlineStart");else if(!s&&o.length){const c=Fe(i,"innerBorderInlineStart");e?(ue(i,"innerBorderLeft innerBorderInlineStart"),l=!c):(je(i,"innerBorderLeft innerBorderInlineStart"),l=c)}}return l}}const yae="stickyRowsTop",gM={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ba(gM,"MIXIN_NAME",yae,{writable:!1,enumerable:!1});class mM extends $d{constructor(e,n,i,o){super(e,n,i,o,Su)}}kt(mM,gM);kt(mM,BC);function QA(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ae extends xp{constructor(e,n,i,o,s,r){super(e,n,Su,i,o),QA(this,"topOverlay",void 0),QA(this,"inlineStartOverlay",void 0),this.topOverlay=s,this.inlineStartOverlay=r}createTable(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new mM(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();bT(e,`${o}px`,`${s}px`)}else NC(e);let n=Pn(this.clone.wtTable.TABLE);const i=Kt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${i}px`,!1}}class pM extends $d{constructor(e,n,i,o){super(e,n,i,o,yu)}}kt(pM,gM);kt(pM,jC);function Rae(t,e,n){return(e=xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tae extends xp{constructor(e,n,i,o){super(e,n,yu,i,o),Rae(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new pM(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow");let o=0,s=!1;if(this.trimmingContainer===n&&(!i||i!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),c=Math.ceil(l.bottom),u=e.offsetHeight;s=c===u,o=this.getOverlayOffset(),bT(e,"0px",`${o}px`)}else o=this.getScrollPosition(),NC(e);const r=this.adjustHeaderBordersPosition(o,s);return this.adjustElementsSize(),r}setScrollPosition(e){const n=this.domBindings.rootWindow;let i=!1;return this.mainTableScrollableElement===n&&n.scrollY!==e?(n.scrollTo(pT(n),e),i=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const i=this.wtSettings.getSetting("defaultRowHeight");let o=e,s=0;for(;o<n;){const r=this.wot.wtTable.getRowHeight(o);s+=r===void 0?i:r,o+=1}return s}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,o=Zn(n),r=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let c=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=o),c=Math.min(c,e.wtRootElement.scrollWidth),r.width=`${c}px`}else r.width="";this.clone.wtTable.holder.style.width=r.width;let l=Pn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),r.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(dM.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:i,wtSettings:o}=this,r=(i.cloneSource?i.cloneSource:i).wtTable.holder,a=o.getSetting("columnHeaders"),c=o.getSetting("fixedRowsTop")===0&&a.length>0&&!Fe(r.parentNode,"innerBorderTop")?1:0;let u=this.getTableParentOffset(),h=0;if(n){const d=this.wot.wtTable.getRowHeight(e),f=this.wot.wtViewport.getViewportHeight();d>f&&(n=!1)}if(n&&r.offsetHeight!==r.clientHeight&&(h=Zn(this.domBindings.rootDocument)),n){const d=o.getSetting("fixedRowsBottom"),f=o.getSetting("totalRows");u+=this.sumCellSizes(0,e+1),u-=i.wtViewport.getViewportHeight()-this.sumCellSizes(f-d,f),u+=1,u+=c}else u+=this.sumCellSizes(o.getSetting("fixedRowsTop"),e);return u+=h,Uee(this.mainTableScrollableElement)===u-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(u)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return wT(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let i=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const o=this.wot.wtTable.getTotalHeight(),s=this.clone.wtTable.getTotalHeight(),r=o-s;i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),i>r&&(i=0)}return i}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{wtSettings:i}=this,o=this.wot.wtTable.holder.parentNode,s=i.getSetting("totalColumns"),r=i.getSetting("preventOverflow")==="horizontal";s?je(o,"emptyColumns"):ue(o,"emptyColumns");let a=!1;if(!n&&!r){const l=i.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==l,u=i.getSetting("columnHeaders");if((c||l===0)&&u.length>0){const h=Fe(o,"innerBorderTop");this.cachedFixedRowsTop=i.getSetting("fixedRowsTop"),e||i.getSetting("totalRows")===0?(ue(o,"innerBorderTop"),a=!h):(je(o,"innerBorderTop"),a=h)}}return a}}function vw(t,e,n){Mae(t,e),e.set(t,n)}function Mae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qr(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hc(t,e,n){return t.set(OW(t,e),n),n}function Xr(t,e){return t.get(OW(t,e))}function OW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Qu=new WeakMap,yw=new WeakMap,eh=new WeakMap,Cw=new WeakMap;class Iae{constructor(e,n,i,o,s,r){qr(this,"wot",null),vw(this,Qu,[]),qr(this,"topOverlay",null),qr(this,"bottomOverlay",null),qr(this,"inlineStartOverlay",null),qr(this,"topInlineStartCornerOverlay",null),qr(this,"bottomInlineStartCornerOverlay",null),qr(this,"browserLineHeight",void 0),qr(this,"wtSettings",null),vw(this,yw,!1),vw(this,eh,0),vw(this,Cw,null),qr(this,"resizeObserver",new ResizeObserver(u=>{yT(()=>{!Array.isArray(u)||!u.length||(hc(eh,this,Xr(eh,this)+1),Xr(eh,this)===100&&(Et("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),Xr(Cw,this)!==null&&clearTimeout(Xr(Cw,this)),hc(Cw,this,setTimeout(()=>{hc(eh,this,0)},100)),this.wtSettings.getSetting("onContainerElementResize"))})})),this.wot=e,this.wtSettings=o,this.domBindings=i,this.facadeGetter=n,this.wtTable=r;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=s,this.scrollbarSize=Zn(a);const c=l.getComputedStyle(r.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?r.holder:ey(r.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[...Xr(Qu,this)];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,i=e.getComputedStyle(n.body),o=parseInt(i.lineHeight,10),s=parseInt(i.fontSize,10)*1.2;this.browserLineHeight=o||s}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new Tae(...e),this.bottomOverlay=new rae(...e),this.inlineStartOverlay=new vae(...e),this.topInlineStartCornerOverlay=new _ae(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new tae(...e,this.bottomOverlay,this.inlineStartOverlay),hc(Qu,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){hc(yw,this,Xr(Qu,this).reduce((e,n)=>n.hasRenderingStateChanged()||e,!1)),Xr(Qu,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),Xr(Qu,this).forEach(e=>{const n=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),n&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:i}=this.topOverlay,{mainTableScrollableElement:o}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",h=>this.onKeyDown(h)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(i,"scroll",h=>this.onTableScroll(h),{passive:!0}),i!==o&&this.eventManager.addEventListener(o,"scroll",h=>this.onTableScroll(h),{passive:!0});const s=n.devicePixelRatio&&n.devicePixelRatio>1,r=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),l={passive:r};(a||s||!OV())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",h=>this.onCloneWheel(h,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(h=>{if(h&&h.needFullRender){const{holder:d}=h.clone.wtTable;this.eventManager.addEventListener(d,"wheel",f=>this.onCloneWheel(f,a),l)}});let u;this.eventManager.addEventListener(n,"resize",()=>{clearTimeout(u),u=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize"),hc(eh,this,0)},200)}),r||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const n=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=e.target;this.keyPressed&&(o!==n&&s!==n&&!e.target.contains(o)||i!==n&&s!==n&&!e.target.contains(i))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:i}=this.domBindings,o=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,r=e.target,a=s!==i&&r!==i&&!r.contains(s),l=o!==i&&r!==i&&!r.contains(o);if(this.keyPressed&&(a||l)||this.scrollableElement===i)return;const c=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==i&&c)&&e.preventDefault()}onKeyDown(e){this.keyPressed=Cp(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,i=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(i+=i*this.browserLineHeight,n+=n*this.browserLineHeight);const o=this.scrollVertically(n),s=this.scrollHorizontally(i);return o||s}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,n=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,[o,s]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=n.scrollLeft!==o||this.lastScrollX!==e.scrollX,this.verticalScrolling=i.scrollTop!==s||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){n.scrollLeft=o;const r=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;r&&(r.scrollLeft=o)}this.verticalScrolling&&(i.scrollTop=s),this.refreshAll()}syncScrollWithMaster(){if(!Xr(yw,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:i}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i),hc(yw,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=ey(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,i=e.clientHeight,o=n!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height;return o&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=i),o}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:n}=this,{rootWindow:i}=this.domBindings,o=this.scrollableElement===i,s=this.wtSettings.getSetting("totalColumns"),r=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),c=e.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,r)+1,u=a+this.inlineStartOverlay.sumCellSizes(0,s),d=n.hider.style,f=()=>o?!1:this.scrollableElement.scrollTop>Math.max(0,c-n.holder.clientHeight),g=()=>o?!1:this.scrollableElement.scrollLeft>Math.max(0,u-n.holder.clientWidth),m=f()?1:0,w=g()?1:0;if(d.width=`${u+w}px`,d.height=`${c+m}px`,this.scrollbarSize>0){const{scrollHeight:b,scrollWidth:C}=n.wtRootElement,{scrollHeight:y,scrollWidth:E}=n.holder;this.hasScrollbarRight=b<y,this.hasScrollbarBottom=C<E,this.hasScrollbarRight&&n.hider.scrollWidth+this.scrollbarSize>C?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&n.hider.scrollHeight+this.scrollbarSize>b&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:n}=this;n.hider.style.height=`${parseInt(n.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:n}=this;n.hider.style.width=`${parseInt(n.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let i=null;return F(n,o=>{o&&o.clone&&o.clone.wtTable.TABLE.contains(e)&&(i=o.clone)}),i}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];F(n,i=>{i&&(i.clone.wtTable.TABLE.className=e.className)})}}function eH(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kae{constructor(e){eH(this,"settings",{}),eH(this,"defaults",Object.freeze(this.getDefaults())),Qe(this.defaults,(n,i)=>{if(e[i]!==void 0)this.settings[i]=e[i];else{if(n===void 0)throw new Error(`A required setting "${i}" was not provided`);this.settings[i]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,i)=>{const o=this.getSetting("data",e,n);wu(i,o??"")},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?Qe(e,(i,o)=>{this.settings[o]=i}):this.settings[e]=n,this}getSetting(e,n,i,o,s){return typeof this.settings[e]=="function"?this.settings[e](n,i,o,s):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class wM extends $d{constructor(e,n,i,o){super(e,n,i,o,"master")}alignOverlaysWithTrimmingContainer(){const e=vd(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const i=e.parentElement,o=Om(e,"height",n),s=Om(e,"overflow",n),r=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let c=e.offsetWidth,u=e.offsetHeight;if(i&&["auto","hidden","scroll"].includes(s)){const d=e.cloneNode(!1);d.style.overflow="auto",d.style.position="absolute",e.nextElementSibling?i.insertBefore(d,e.nextElementSibling):i.appendChild(d);const f=parseInt(Na(d,n).height,10);i.removeChild(d),f===0&&(u=0)}u=Math.min(u,l),r.height=o==="auto"?"auto":`${u}px`,c=Math.min(c,a),r.width=`${c}px`,r.overflow="",this.hasTableHeight=r.height==="auto"?!0:u>0,this.hasTableWidth=c>0}this.isTableVisible=bd(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,i="master",s=e.getSetting("columnHeaders").length;if(s&&!n.hasOversizedColumnHeadersMarked[i]){const a=e.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let c=0;c<s;c++)for(let u=-1*a;u<l;u++)this.markIfOversizedColumnHeader(u);n.hasOversizedColumnHeadersMarked[i]=!0}}}kt(wM,aM);kt(wM,jC);class Nae{constructor(e,n,i,o,s){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=i,this.wtTable=s,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new _se:new xse],["fullyVisible",()=>new fse],["partiallyVisible",()=>new mW]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new yse:new Rse],["fullyVisible",()=>new use],["partiallyVisible",()=>new gW]]),this.eventManager=o,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let i=0;return n===this.domBindings.rootWindow?i=e.documentElement.clientHeight:i=Pn(n)>0&&n.clientHeight>0?n.clientHeight:1/0,i}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:n,rootWindow:i}=this.domBindings,o=this.dataAccessObject.inlineStartOverlayTrimmingContainer,s=n.documentElement.offsetWidth,r=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),l=e.getSetting("rtlMode"),c=this.wtTable.TABLE.getBoundingClientRect(),u=l?c.right-s:c.left,h=s-u;let d,f;if(a)return Kt(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?d=Math.min(h,s):d=Math.min(this.getContainerFillWidth(),h,s),o===i&&r>0&&this.sumColumnWidths(0,r-1)>d)return n.documentElement.clientWidth;if(o!==i&&(f=Om(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",i),f==="scroll"||f==="hidden"||f==="auto"))return Math.max(d,o.clientWidth);const g=e.getSetting("stretchH");return g==="none"||!g?Math.max(d,Kt(this.wtTable.TABLE)):d}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,n){let i=0,o=e;for(;o<n;)i+=this.wtTable.getColumnWidth(o),o+=1;return i}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,n=this.domBindings.rootDocument.createElement("div");n.style.width="100%",n.style.height="1px",e.appendChild(n);const i=n.offsetWidth;return this.containerWidth=i,e.removeChild(n),i}getWorkspaceOffset(){return Kn(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Pn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let i=0,o=n.length;i<o;i++)this.rowHeaderWidth+=e[i]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let i=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let o=0,s=n.length;o<s;o++)i?(this.rowHeaderWidth+=Kt(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:i}=this;let o=this.getViewportHeight(),s,r;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=n.getSetting("fixedRowsTop"),c=n.getSetting("fixedRowsBottom"),u=n.getSetting("totalRows");return l&&a>=0&&(r=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=r,o-=r),c&&this.dataAccessObject.bottomOverlay.clone&&(r=this.dataAccessObject.bottomOverlay.sumCellSizes(u-c,u),o-=r),i.holder.clientHeight===i.holder.offsetHeight?s=0:s=Zn(this.domBindings.rootDocument),new Hse({calculationTypes:e.map(h=>[h,this.rowsCalculatorTypes.get(h)()]),viewportHeight:o,scrollOffset:a,totalRows:n.getSetting("totalRows"),rowHeightFn:h=>i.getRowHeight(h),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:s})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:i}=this;let o=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const r=n.getSetting("fixedColumnsStart");if(r&&s>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,r);s+=a,o-=a}return i.holder.clientWidth!==i.holder.offsetWidth&&(o-=Zn(this.domBindings.rootDocument)),new Ose({calculationTypes:e.map(a=>[a,this.columnsCalculatorTypes.get(a)()]),viewportWidth:o,scrollOffset:s,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>i.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,i=this.createRowsCalculator(),o=this.createColumnsCalculator();if(e&&!n.getSetting("renderAllRows")){const s=i.getResultsFor("fullyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(s)}if(e&&!n.getSetting("renderAllColumns")){const s=o.getResultsFor("fullyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(s)}return e||(this.rowsRenderCalculator=i.getResultsFor("rendered"),this.columnsRenderCalculator=o.getResultsFor("rendered")),this.rowsVisibleCalculator=i.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=o.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=i.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=o.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),n=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=n.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:n,endRow:i}=e;if(n===null&&i===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.rowsPartiallyVisibleCalculator.startRow,i=this.rowsPartiallyVisibleCalculator.endRow}const{startRow:o,endRow:s}=this.rowsRenderCalculator;return n<o||n===o&&n>0?!1:!(i>s||i===s&&i<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:n,endColumn:i}=e;if(n===null&&i===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.columnsPartiallyVisibleCalculator.startColumn,i=this.columnsPartiallyVisibleCalculator.endColumn}const{startColumn:o,endColumn:s}=this.columnsRenderCalculator;return n<o||n===o&&n>0?!1:!(i>s||i===s&&i<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){Qe(this.hasOversizedColumnHeadersMarked,(e,n,i)=>{i[n]=void 0})}}class Dae extends sM{constructor(e,n){super(e,new kae(n));const i=this.wtSettings.getSetting("facade",this);this.wtTable=new wM(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=new Nae(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new wae(this.wtSettings.getSetting("selections")),this.wtEvent=new CW(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new Iae(this,i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],i=[];Qe(e,(o,s)=>{this.wtSettings.getSetting(s).length&&i.push(o),n.push(o)}),je(this.wtTable.wtRootElement.parentNode,n),ue(this.wtTable.wtRootElement.parentNode,i)}getOverlayByName(e){var n;if(!xW.includes(e))return null;const i=e.replace(/_([a-z])/g,o=>o[1].toUpperCase());return(n=this.wtOverlays[`${i}Overlay`])!==null&&n!==void 0?n:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class bM{constructor(e){e instanceof sM?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const i=new bM(n);return()=>i},this._wot=new Dae(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,i){return this._wot.createCellRange(e,n,i)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,i,o,s){return this._wot.scrollViewport(e,n,i,o,s)}scrollViewportHorizontally(e,n,i){return this._wot.scrollViewportHorizontally(e,n,i)}scrollViewportVertically(e,n,i){return this._wot.scrollViewportVertically(e,n,i)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,i,o,s){return this._wot.wtSettings.getSetting(e,n,i,o,s)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function tH(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;tH(this,"indexedValues",[]),tH(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Yt(this.initValueOrFn)?Oe(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Oe(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}kt(Lu,ci);function vM(t,e,n,i){const o=n.length?n[0]:void 0;return[...t.slice(0,o),...n.map((s,r)=>Yt(i)?i(s,r):i),...o===void 0?[]:t.slice(o)]}function yM(t,e){return Vl(t,(n,i)=>e.includes(i)===!1)}class Zl extends Lu{insert(e,n){this.indexedValues=vM(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=yM(this.indexedValues,e),super.remove(e)}}class UC extends Zl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return Li(this.getValues(),(e,n,i)=>(n&&e.push(i),e),[])}}function CM(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function Im(t,e){return Vl(t,n=>e.includes(n)===!1)}function SM(t,e){return at(t,n=>n-e.filter(i=>i<n).length)}function _M(t,e){const n=e[0],i=e.length;return at(t,o=>o>=n?o+i:o)}function Fae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zC extends Lu{constructor(){super(...arguments),Fae(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(i,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=Im(this.orderOfIndexes,[e]),Yt(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=vM(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=_M(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=yM(this.indexedValues,e),this.orderOfIndexes=Im(this.orderOfIndexes,e),this.orderOfIndexes=SM(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class Ep extends Zl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return Li(this.getValues(),(e,n,i)=>(n&&e.push(i),e),[])}}const nH=new Map([["indexesSequence",{getListWithInsertedItems:CM,getListWithRemovedItems:Im}],["physicallyIndexed",{getListWithInsertedItems:vM,getListWithRemovedItems:yM}]]),IW=t=>{if(nH.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return nH.get(t)};class AW extends Lu{constructor(){super(e=>e)}insert(e,n){const i=_M(this.indexedValues,n);this.indexedValues=CM(i,e,n),super.insert(e,n)}remove(e){const n=Im(this.indexedValues,e);this.indexedValues=SM(n,e),super.remove(e)}}const iH=new Map([["hiding",UC],["index",Lu],["linkedPhysicalIndexToValue",zC],["physicalIndexToValue",Zl],["trimming",Ep]]);function Bae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!iH.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(iH.get(t))(e)}function jae(t,e,n){return(e=Uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RM{constructor(){jae(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);Te(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return Gt(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(i=>{i.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}kt(RM,ci);function E0(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oH extends RM{constructor(e,n){super(),E0(this,"mergedValuesCache",[]),E0(this,"aggregationFunction",void 0),E0(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const n=at(this.get(),s=>s.getValues()),i=[],o=Te(n[0])&&n[0].length||0;for(let s=0;s<o;s+=1){const r=[];for(let a=0;a<this.getLength();a+=1)r.push(n[a][s]);i.push(r)}return at(i,this.aggregationFunction)}getMergedValueAtIndex(e,n){const i=this.getMergedValues(n)[e];return Te(i)?i:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function Kae(t,e,n){qae(t,e),e.set(t,n)}function qae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xae(t,e,n){return t.set(HW(t,e),n),n}function Zae(t,e){return t.get(HW(t,e))}function HW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var T0=new WeakMap;class kW{constructor(){Kae(this,T0,[])}subscribe(e){return this.addLocalHook("change",e),this._write(Zae(T0,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){Xae(T0,this,e)}}kt(kW,ci);function sH(t,e){const n=[];let i=0,o=0;for(;i<t.length&&o<e.length;i++,o++)t[i]!==e[o]&&n.push({op:"replace",index:o,oldValue:t[i],newValue:e[o]});for(;i<e.length;i++)n.push({op:"insert",index:i,oldValue:void 0,newValue:e[i]});for(;o<t.length;o++)n.push({op:"remove",index:o,oldValue:t[o],newValue:void 0});return n}function df(t,e,n){Jae(t,e),e.set(t,n)}function Jae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eo(t,e){return t.get(NW(t,e))}function Sw(t,e,n){return t.set(NW(t,e),n),n}function NW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _w=new WeakMap,ff=new WeakMap,Rw=new WeakMap,xw=new WeakMap,Ew=new WeakMap;class Qae{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};df(this,_w,new Set),df(this,ff,[]),df(this,Rw,[]),df(this,xw,!1),df(this,Ew,!1),Sw(Ew,this,e??!1)}createObserver(){const e=new kW;return Eo(_w,this).add(e),e.addLocalHook("unsubscribe",()=>{Eo(_w,this).delete(e)}),e._writeInitialChanges(sH(Eo(ff,this),Eo(Rw,this))),e}emit(e){let n=Eo(Rw,this);(!Eo(xw,this)||Eo(ff,this).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(Eo(Ew,this)):Sw(ff,this,new Array(e.length).fill(Eo(Ew,this))),Eo(xw,this)||(Sw(xw,this,!0),n=Eo(ff,this)));const i=sH(n,e);Eo(_w,this).forEach(o=>o._write(i)),Sw(Rw,this,e)}}function Ri(t,e,n){return(e=ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ele(t){var e=tle(t,"string");return typeof e=="symbol"?e:e+""}function tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cx{constructor(){Ri(this,"indexesSequence",new AW),Ri(this,"trimmingMapsCollection",new oH(e=>e.some(n=>n===!0),!1)),Ri(this,"hidingMapsCollection",new oH(e=>e.some(n=>n===!0),!1)),Ri(this,"variousMapsCollection",new RM),Ri(this,"hidingChangesObservable",new Qae({initialIndexValue:!1})),Ri(this,"notTrimmedIndexesCache",[]),Ri(this,"notHiddenIndexesCache",[]),Ri(this,"isBatched",!1),Ri(this,"indexesSequenceChanged",!1),Ri(this,"indexesChangeSource",void 0),Ri(this,"trimmedIndexesChanged",!1),Ri(this,"hiddenIndexesChanged",!1),Ri(this,"renderablePhysicalIndexesCache",[]),Ri(this,"fromPhysicalToVisualIndexesCache",new Map),Ri(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,i){return this.registerMap(e,Bae(n,i))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof Ep?this.trimmingMapsCollection.register(e,n):n instanceof UC?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const i=this.getNumberOfIndexes();return i>0&&n.init(i),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return Te(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return Te(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return Te(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return Te(n)?n:null}getNearestNotHiddenIndex(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const s=Array.from(this.fromVisualToRenderableIndexesCache.keys());let r=-1;return n>0?r=s.findIndex(a=>a>e):r=s.reverse().findIndex(a=>a<e),r===-1?i?this.getNearestNotHiddenIndex(e,-n,!1):null:s[r]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const i=[...Array(this.getNumberOfIndexes()-e).keys()].map(o=>o+e);this.removeIndexes(i)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(i=>this.isTrimmed(i)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(i=>this.isHidden(i)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(i=>this.isHidden(i)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const i=at(e,c=>this.getPhysicalFromVisualIndex(c)),o=this.getNotTrimmedIndexesLength(),s=e.length,r=Im(this.getIndexesSequence(),i),a=r.filter(c=>this.isTrimmed(c)===!1);let l=r.indexOf(a[a.length-1])+1;if(n+s<o){const c=a[n];l=r.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(CM(r,l,i)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const i=this.getNotTrimmedIndexes()[e],o=Te(i)?i:this.getNumberOfIndexes(),s=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),r=at(new Array(n).fill(o),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(s,r),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(s,r),this.hidingMapsCollection.insertToEvery(s,r),this.variousMapsCollection.insertToEvery(s,r),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const i=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(i,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const i=this.getPhysicalFromRenderableIndex(n),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,n)}}}kt(cx,ci);function nle(t,e){DW(t,e),e.add(t)}function rH(t,e,n){DW(t,e),e.set(t,n)}function DW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gf(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ole(t,"string");return typeof e=="symbol"?e:e+""}function ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jc(t,e){return t.get(mr(t,e))}function xM(t,e,n){return t.set(mr(t,e),n),n}function mr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("modifyAutoColumnSizeSeed");const mf="autoColumnSize",sle=10,rle="autoColumnSize";var Hh=new WeakMap,Sd=new WeakMap,ra=new WeakSet;class Ag extends _t{static get PLUGIN_KEY(){return mf}static get PLUGIN_PRIORITY(){return sle}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),nle(this,ra),gf(this,"ghostTable",new fW(this.hot)),gf(this,"samplesGenerator",new VC((n,i)=>{const o=this.hot.toPhysicalRow(n),s=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(o)||this.hot.columnIndexMapper.isHidden(s))return!1;const r=this.hot.getCellMeta(n,i);let a="";r.spanned||(a=this.hot.getDataAtCell(n,i));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,r,a)),{value:a,bundleSeed:l}})),gf(this,"inProgress",!1),gf(this,"measuredColumns",0),gf(this,"columnWidthsMap",new Zl),rH(this,Hh,[]),rH(this,Sd,[]),this.hot.columnIndexMapper.registerMap(rle,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,i,o)=>mr(ra,this,aH).call(this,n,i,o))}isEnabled(){return this.hot.getSettings()[mf]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[mf];n&&n.useHeaders!==null&&n.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mr(ra,e,cle).call(e,...o)}),this.addHook("beforeChangeRender",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mr(ra,e,ule).call(e,...o)}),this.addHook("afterFormulasValuesUpdate",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return mr(ra,e,dle).call(e,...o)}),this.addHook("beforeRender",()=>mr(ra,this,lle).call(this)),this.addHook("modifyColWidth",(i,o)=>this.getColumnWidth(o,i)),this.addHook("init",()=>mr(ra,this,hle).call(this)),super.enablePlugin()}updatePlugin(){xM(Sd,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,i)=>mr(ra,this,aH).call(this,e,n,i))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();if(e===-1||n===-1)return;const i=this.hot.renderCall;this.calculateColumnsWidth({from:e,to:n},void 0,i)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,s=typeof n=="number"?{from:n,to:n}:n;Oe(o.from,o.to,r=>{let a=this.hot.toPhysicalColumn(r);a===null&&(a=r),(i||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a))&&this.samplesGenerator.generateColumnSamples(r,s).forEach((c,u)=>this.ghostTable.addColumn(u,c))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((r,a)=>{const l=this.hot.toPhysicalColumn(r);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=o.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=0;const o=this.hot.countCols()-1;let s=null;this.inProgress=!0;const r=()=>{if(!this.hot){ty(s),this.inProgress=!1;return}this.calculateColumnsWidth({from:i,to:Math.min(i+Ag.CALCULATION_STEP,o)},e,n),i=i+Ag.CALCULATION_STEP+1,i<o?s=yT(r):(ty(s),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateColumnsWidth({from:0,to:a},e,n),i=a+1),i<o?r():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[mf],n=e&&pn(e,"samplingRatio")?e.samplingRatio:void 0,i=e&&pn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[mf];let n=Ag.SYNC_CALCULATION_LIMIT;const i=this.hot.countCols()-1;return Je(e)&&(n=e.syncLimit,uV(n)?n=kV(i,n):n>>=0),Math.min(n,i)}getColumnWidth(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n;return o===void 0&&(o=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),i&&typeof o=="number"&&(o=Math.max(o,WC))),o}getFirstVisibleColumn(){var e;return(e=this.hot.view.getFirstRenderedVisibleColumn())!==null&&e!==void 0?e:-1}getLastVisibleColumn(){var e;return(e=this.hot.view.getLastRenderedVisibleColumn())!==null&&e!==void 0?e:-1}findColumnsWhereHeaderWasChanged(){return this.hot.getColHeader().reduce((i,o,s)=>{const r=Jc(Hh,this).length;return(r-1<s||Jc(Hh,this)[s]!==o)&&i.push(this.hot.toVisualColumn(s)),r-1<s?Jc(Hh,this).push(o):Jc(Hh,this)[s]=o,i},[])}clearCache(e){Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function ale(t){const e={from:0,to:this.hot.countRows()-1};t.forEach(n=>{const i=this.hot.toPhysicalColumn(n);i!==null&&(this.hot._getColWidthFromSettings(i)||this.samplesGenerator.generateColumnSamples(n,e).forEach((s,r)=>this.ghostTable.addColumn(r,s)))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((n,i)=>{const o=this.hot.toPhysicalColumn(n);this.columnWidthsMap.setValueAtIndex(o,i)})},!0),this.ghostTable.clean())}function lle(){this.calculateVisibleColumnsWidth(),this.inProgress||(mr(ra,this,ale).call(this,Jc(Sd,this)),xM(Sd,this,[]))}function cle(t,e){e||this.recalculateAllColumnsWidth()}function ule(t){const e=t.reduce((n,i)=>{let[,o]=i;const s=this.hot.propToCol(o);return Number.isInteger(s)&&n.indexOf(s)===-1&&n.push(s),n},[]);Jc(Sd,this).push(...e)}function aH(t,e,n){let i=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),i=this.getColumnWidth(e,void 0,!1)),i}function hle(){xM(Hh,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth()}function dle(t){const e=t.reduce((n,i)=>{var o;const s=(o=i.address)===null||o===void 0?void 0:o.col;if(Number.isInteger(s)){const r=this.hot.toVisualColumn(s);n.indexOf(r)===-1&&n.push(r)}return n},[]);Jc(Sd,this).push(...e)}const Qc={horizontal:"horizontal",vertical:"vertical"};function fle(t,e,n){let i,o,s;return e[0]===t[0]&&e[1]<t[1]?(s="left",i=n(e[0],e[1]),o=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(s="right",i=n(e[0],t[3]+1),o=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(s="up",i=n(e[0],e[1]),o=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(s="down",i=n(t[2]+1,e[1]),o=n(e[2],e[3])),i&&i.normalize(),o&&o.normalize(),{directionOfDrag:s,startOfDragCoords:i,endOfDragCoords:o}}function gle(t){const e={};return t===!0?(e.directions=Object.keys(Qc),e.autoInsertRow=!0):Je(t)?(Te(t.autoInsertRow)?t.direction===Qc.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,Te(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(Qc)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function mle(t,e){ple(t,e),e.add(t)}function ple(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function th(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pf(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("modifyAutofillRange");Ee.getSingleton().register("beforeAutofill");Ee.getSingleton().register("afterAutofill");const lH="autofill",vle=20,yle=["fillHandle"],Cle="insert_row_below",Sle=200;var nh=new WeakSet;class _le extends _t{constructor(){super(...arguments),mle(this,nh),th(this,"addingStarted",!1),th(this,"mouseDownOnCellCorner",!1),th(this,"mouseDragOutside",!1),th(this,"handleDraggedCells",0),th(this,"directions",[]),th(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return lH}static get PLUGIN_PRIORITY(){return vle}static get SETTING_KEYS(){return[lH,...yle]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>pf(nh,this,xle).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>pf(nh,this,Rle).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>pf(nh,this,Ele).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),r=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:i,endRow:o,endCol:s}]),a=[],l=[],c=[];return F(r,u=>{for(let h=u.startRow;h<=u.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=u.startCol;h<=u.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),F(a,u=>{const h=[];F(l,d=>{h.push(this.hot.getCopyableData(u,d))}),c.push(h)}),c}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,i,o]=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.getSelectedRangeLast(),r=s.getTopStartCorner(),a=s.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[r.row,r.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(r.row,e),Math.min(r.col,n),Math.max(a.row,i),Math.max(a.col,o)],l),{directionOfDrag:u,startOfDragCoords:h,endOfDragCoords:d}=fle(l,c,(f,g)=>this.hot._createCellCoords(f,g));if(h&&h.row>-1&&h.col>-1){const f=this.getSelectionData(),g=s.clone(),m=this.hot._createCellRange(h,h,d),w=this.hot.runHooks("beforeAutofill",f,g,m,u);if(w===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let b=w;const C=w;if(["up","left"].indexOf(u)>-1&&!(C.length===1&&C[0].length===0))if(b=[],u==="up"){const y=d.row-h.row+1,E=y%C.length;for(let T=0;T<y;T++)b.push(C[(T+(C.length-E))%C.length])}else{const y=d.col-h.col+1,E=y%C[0].length;for(let T=0;T<C.length;T++){b.push([]);for(let N=0;N<y;N++)b[T].push(C[T][(N+(C[T].length-E))%C[T].length])}}this.hot.populateFromArray(h.row,h.col,b,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",b,g,m,u),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),i=n.getBottomEndCorner();let o=e;if(this.directions.includes(Qc.vertical)&&this.directions.includes(Qc.horizontal)){const s=n.getTopStartCorner();(i.col<=e.col||s.col>=e.col)&&(o=this.hot._createCellCoords(i.row,e.col)),(i.row<e.row||s.row>e.row)&&(o=this.hot._createCellCoords(e.row,i.col))}else if(this.directions.includes(Qc.vertical))o=this.hot._createCellCoords(e.row,i.col);else if(this.directions.includes(Qc.horizontal))o=this.hot._createCellCoords(i.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(o)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(Cle,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},Sle)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.countRows();e[2]<i-1&&n[2]===i-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),i=this.hot.countRows();let o;for(let s=e[2]+1;s<i;s++){for(let l=e[1];l<=e[3];l++){const c=n[s][l];if(!_n(c))return-1}const r=n[s][e[1]-1],a=n[s][e[3]+1];(!_n(r)||!_n(a))&&(o=s)}return o}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(...at(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,i=Kn(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+Pn(this.hot.table),o=Kn(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+Kt(this.hot.table);return e.clientY>i&&e.clientX<=o}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>pf(nh,this,Tle).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>pf(nh,this,Mle).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=gle(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function Rle(){this.selectAdjacent()&&this.fillIn()}function xle(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function Ele(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function Tle(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function Mle(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function Ple(t,e){LW(t,e),e.add(t)}function Ole(t,e,n){LW(t,e),e.set(t,n)}function LW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ih(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e,n){return t.set(pr(t,e),n),n}function EM(t,e){return t.get(pr(t,e))}function pr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Tw="autoRowSize",kle=40,Nle="autoRowSize";var Am=new WeakMap,aa=new WeakSet;class Hg extends _t{static get PLUGIN_KEY(){return Tw}static get PLUGIN_PRIORITY(){return kle}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),Ple(this,aa),ih(this,"headerHeight",null),ih(this,"ghostTable",new fW(this.hot)),ih(this,"samplesGenerator",new VC((n,i)=>{const o=this.hot.toPhysicalRow(n),s=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(o)||this.hot.columnIndexMapper.isHidden(s)||n>=0&&i>=0&&this.hot.getCellMeta(n,i).hidden)return!1;let r;return n>=0?r=this.hot.getDataAtCell(n,i):n===-1&&(r=this.hot.getColHeader(i)),{value:r}})),ih(this,"inProgress",!1),ih(this,"measuredRows",0),ih(this,"rowHeightsMap",new Zl),Ole(this,Am,[]),this.hot.rowIndexMapper.registerMap(Nle,this.rowHeightsMap),this.addHook("beforeRowResize",(n,i,o)=>pr(aa,this,cH).call(this,n,i,o))}isEnabled(){const e=this.hot.getSettings()[Tw];return e===!0||Je(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return pr(aa,e,$le).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return pr(aa,e,Fle).call(e,...i)}),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("afterFormulasValuesUpdate",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return pr(aa,e,Wle).call(e,...i)}),this.addHook("beforeRender",()=>pr(aa,this,Lle).call(this)),this.addHook("modifyRowHeight",(n,i)=>this.getRowHeight(i,n)),this.addHook("init",()=>pr(aa,this,Vle).call(this)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,i)=>pr(aa,this,cH).call(this,e,n,i))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),n=this.getLastVisibleRow();if(e===-1||n===-1)return;const i=this.hot.renderCall;this.calculateRowsHeight({from:e,to:n},void 0,i)}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=typeof e=="number"?{from:e,to:e}:e,s=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const r=this.samplesGenerator.generateRowSamples(-1,s);this.ghostTable.addColumnHeadersRow(r.get(-1))}Oe(o.from,o.to,r=>{let a=this.hot.toPhysicalRow(r);a===null&&(a=r),(i||this.rowHeightsMap.getValueAtIndex(a)===null)&&this.samplesGenerator.generateRowSamples(r,s).forEach((c,u)=>this.ghostTable.addRow(u,c))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((r,a)=>{r<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(r),a)})},!0),this.measuredRows=o.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=0;const o=this.hot.countRows()-1;let s=null;this.inProgress=!0;const r=()=>{if(!this.hot){ty(s),this.inProgress=!1;return}this.calculateRowsHeight({from:i,to:Math.min(i+Hg.CALCULATION_STEP,o)},e,n),i=i+Hg.CALCULATION_STEP+1,i<o?s=yT(r):(ty(s),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateRowsHeight({from:0,to:a},e,n),i=a+1),i<o?r():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){const e=this.hot.getSettings()[Tw],n=e&&pn(e,"samplingRatio")?e.samplingRatio:void 0,i=e&&pn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Tw];let n=Hg.SYNC_CALCULATION_LIMIT;const i=this.hot.countRows()-1;return Je(e)&&(n=e.syncLimit,uV(n)?n=kV(i,n):n>>=0),Math.min(n,i)}getRowHeight(e,n){const i=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let o=n;return i!==null&&i>(n||0)&&(o=i),o}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return(e=this.hot.view.getFirstRenderedVisibleRow())!==null&&e!==void 0?e:-1}getLastVisibleRow(){var e;return(e=this.hot.view.getLastRenderedVisibleRow())!==null&&e!==void 0?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:n,to:i}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Oe(Math.min(n,i),Math.max(n,i),o=>{this.rowHeightsMap.setValueAtIndex(o,null)})},!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function Dle(t){const e={from:0,to:this.hot.countCols()-1};t.forEach(n=>{this.samplesGenerator.generateRowSamples(n,e).forEach((o,s)=>this.ghostTable.addRow(s,o))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((n,i)=>{const o=this.hot.toPhysicalRow(n);this.rowHeightsMap.setValueAtIndex(o,i)})},!0),this.ghostTable.clean())}function Lle(){this.calculateVisibleRowsHeight(),this.inProgress||(pr(aa,this,Dle).call(this,EM(Am,this)),Hle(Am,this,[]))}function cH(t,e,n){let i=t;return n&&(this.calculateRowsHeight(e,void 0,!0),i=this.getRowHeight(e)),i}function $le(t,e){e||this.recalculateAllRowsHeight()}function Fle(t){const e=t.reduce((n,i)=>{let[o]=i;return n.indexOf(o)===-1&&n.push(o),n},[]);EM(Am,this).push(...e)}function Vle(){this.recalculateAllRowsHeight()}function Wle(t){const e=t.reduce((n,i)=>{var o;const s=(o=i.address)===null||o===void 0?void 0:o.row;if(Number.isInteger(s)){const r=this.hot.toVisualRow(s);n.indexOf(r)===-1&&n.push(r)}return n},[]);EM(Am,this).push(...e)}const{getListWithInsertedItems:Ble,getListWithRemovedItems:jle}=IW("physicallyIndexed");class Ule extends Lu{constructor(){super(e=>e)}insert(e,n){const i=_M(this.indexedValues,n);this.indexedValues=Ble(i,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=jle(this.indexedValues,e);this.indexedValues=SM(n,e),super.remove(e)}}const{getListWithInsertedItems:zle,getListWithRemovedItems:Yle}=IW("physicallyIndexed");class Gle extends Lu{constructor(){super(e=>e)}insert(e,n){this.indexedValues=zle(this.indexedValues,e,n,(i,o)=>this.getNextValue(o)),super.insert(e,n)}remove(e){this.indexedValues=Yle(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}function Kle(t,e){qle(t,e),e.add(t)}function qle(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xle(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qle(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const M0="bindRowsWithHeaders",ece=210,tce="loose",nce=new Map([["loose",Ule],["strict",Gle]]);var uH=new WeakSet;class ice extends _t{constructor(){super(...arguments),Kle(this,uH),Xle(this,"headerIndexes",null)}static get PLUGIN_KEY(){return M0}static get PLUGIN_PRIORITY(){return ece}isEnabled(){return!!this.hot.getSettings()[M0]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[M0];typeof e!="string"&&(e=tce);const n=nce.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",i=>Qle(uH,this,oce).call(this,i)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function oce(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function sce(t,e){$W(t,e),e.add(t)}function rce(t,e,n){$W(t,e),e.set(t,n)}function $W(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hH(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dH(t,e){return t.get(zh(t,e))}function P0(t,e,n){return t.set(zh(t,e),n),n}function zh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const dv="collapsibleColumns",cce=290,uce=["nestedHeaders"],rd="collapsibleIndicator",fH=dv,gH=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var oh=new WeakMap,wf=new WeakSet;class hce extends _t{constructor(){super(...arguments),sce(this,wf),hH(this,"nestedHeadersPlugin",null),hH(this,"headerStateManager",null),rce(this,oh,null)}static get PLUGIN_KEY(){return dv}static get PLUGIN_PRIORITY(){return cce}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[dv,...uce]}isEnabled(){return!!this.hot.getSettings()[dv]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||Et("You need to configure the Nested Headers plugin in order to use collapsible headers."),P0(oh,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>zh(wf,this,gce).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return zh(wf,e,mce).call(e,...o)}),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return zh(wf,e,dce).call(e,...o)}),this.addHook("beforeOnCellMouseDown",(i,o,s)=>zh(wf,this,fce).call(this,i,o,s)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),P0(oh,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:i}=this.hot.getSelectedRangeLast().highlight,{collapsible:o,isCollapsed:s,columnIndex:r}=(e=this.headerStateManager.getHeaderTreeNodeData(n,i))!==null&&e!==void 0?e:{};if(o)return s?this.expandSection({row:n,col:r}):this.collapseSection({row:n,col:r}),!1},runOnlyIf:()=>{var e,n;return((e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.isSingle())&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isHeader())},group:fH,relativeToGroup:Xl,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(fH)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,o=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,s=function(r){r&&r.parentNode.removeChild(r)};Oe(0,e-1,r=>{const a=n.childNodes[r],l=i.childNodes[r],c=o?o.childNodes[r]:null;Oe(0,a.childNodes.length-1,u=>{let h=a.childNodes[u].querySelector(`.${rd}`);s(h),l&&l.childNodes[u]&&(h=l.childNodes[u].querySelector(`.${rd}`),s(h)),o&&c&&c.childNodes[u]&&(h=c.childNodes[u].querySelector(`.${rd}`),s(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(i=>{const{collapsible:o,origColspan:s,headerLevel:r,columnIndex:a,isCollapsed:l}=i;if(o===!0&&s>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(r),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!gH.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const i=Vl(e,f=>{let{row:g}=f;return g<0});let o=i.length>0;F(i,f=>{var g;let{row:m,col:w}=f;const{collapsible:b,isCollapsed:C}=(g=this.headerStateManager.getHeaderSettings(m,w))!==null&&g!==void 0?g:{};if(!b||C&&n==="collapse"||!C&&n==="expand")return o=!1,!1});const s=[],r=[];o&&F(i,f=>{let{row:g,col:m}=f;const{colspanCompensation:w,affectedColumns:b,rollbackModification:C}=this.headerStateManager.triggerNodeModification(n,g,m);w>0&&(r.push(...b),s.push(C))});const a=this.getCollapsedColumns();let l=[];n==="collapse"?l=tV([...a,...r]):n==="expand"&&(l=Vl(a,f=>!r.includes(f)));const c=gH.get(n);if(this.hot.runHooks(c.beforeHook,a,l,o)===!1){F(s,f=>{f()});return}this.hot.batchExecution(()=>{F(r,f=>{dH(oh,this).setValueAtIndex(this.hot.toPhysicalColumn(f),c.hideColumn)})},!0);const h=this.getCollapsedColumns().length!==a.length,d=this.hot.getSelectedRangeLast();if(n==="collapse"&&h&&d){const{row:f,col:g}=d.highlight;if((this.hot.rowIndexMapper.isHidden(f)||this.hot.columnIndexMapper.isHidden(g))&&r.includes(g)){const w=f>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(f,1,!0):f,b=g>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(g,1,!0):g;w!==null&&b!==null&&this.hot.selectCell(w,b)}}this.hot.runHooks(c.afterHook,a,l,o,h),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return dH(oh,this).getHiddenIndexes()}destroy(){P0(oh,this,null),super.destroy()}}function dce(t,e,n){var i;const{collapsible:o,origColspan:s,isCollapsed:r}=(i=this.headerStateManager.getHeaderSettings(n,t))!==null&&i!==void 0?i:{},a=o&&s>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let c=e.querySelector(`.${rd}`);if(kd(e,[zo("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),ue(c,rd),e.querySelector("div:first-child").appendChild(c)),je(c,["collapsed","expanded"]),r?(ue(c,"collapsed"),wu(c,"+"),l&&$e(e,...zo(!1))):(ue(c,"expanded"),wu(c,"-"),l&&$e(e,...zo(!0))),l&&$e(c,...Nu());else{var u;(u=c)===null||u===void 0||u.remove()}}function fce(t,e){Fe(t.target,rd)&&(Fe(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):Fe(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),$s(t))}function gce(){this.updatePlugin()}function mce(t,e){e||this.updatePlugin()}function dc(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const bce=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],vce=!1,yce=!0,Cce=!0;class Sce{constructor(e,n){dc(this,"hot",void 0),dc(this,"sortingStates",new zC),dc(this,"sortEmptyCells",vce),dc(this,"indicator",yce),dc(this,"headerAction",Cce),dc(this,"compareFunctionFactory",void 0),dc(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){Je(e)&&Qe(e,(n,i)=>{bce.includes(i)&&(this[i]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[i]=n;return i===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return Je(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(n=>{let[i,o]=n;return{column:this.hot.toVisualColumn(i),...o}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(Te(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function FW(t,e,n){const i=e.locale;return function(o,s){const{sortEmptyCells:r}=n;return typeof o=="string"&&(o=o.toLocaleLowerCase(i)),typeof s=="string"&&(s=s.toLocaleLowerCase(i)),o===s?Mr:_n(o)?_n(s)?Mr:r&&t==="asc"?gn:mn:_n(s)?r&&t==="asc"?mn:gn:isNaN(o)&&!isNaN(s)?t==="asc"?mn:gn:!isNaN(o)&&isNaN(s)||(isNaN(o)||isNaN(s)||(o=parseFloat(o),s=parseFloat(s)),o<s)?t==="asc"?gn:mn:o>s?t==="asc"?mn:gn:Mr}}const VW="default";function _ce(t,e,n){return function(i,o){const s=parseFloat(i),r=parseFloat(o),{sortEmptyCells:a}=n;if(s===r||isNaN(s)&&isNaN(r))return Mr;if(a){if(_n(i))return t==="asc"?gn:mn;if(_n(o))return t==="asc"?mn:gn}return isNaN(s)?mn:isNaN(r)?gn:s<r?t==="asc"?gn:mn:s>r?t==="asc"?mn:gn:Mr}}const Rce="numeric";function xce(t,e,n){const i=e.checkedTemplate,o=e.uncheckedTemplate,{sortEmptyCells:s}=n;return function(r,a){const l=_n(r),c=_n(a),u=l?o:r,h=c?o:a,d=u===o||u===i,f=h===o||h===i;if(s===!1){if(l&&c===!1)return mn;if(l===!1&&c)return gn}return d===!1&&f?t==="asc"?gn:mn:d&&f===!1?t==="asc"?mn:gn:d===!1&&f===!1?FW(t,e,n)(r,a):u===o&&h===i?t==="asc"?gn:mn:u===i&&h===o?t==="asc"?mn:gn:Mr}}const Ece="checkbox";function Tce(t,e,n){return YW(t,e.dateFormat,n)}const Mce="date";function Pce(t,e,n){return YW(t,e.timeFormat,n)}const Oce="time",{register:Tp,getItem:mH,hasItem:Ice}=Fs("sorting.compareFunctionFactory"),{register:WW,getItem:Ace}=Fs("sorting.mainSortComparator");function BW(t){return Ice(t)?mH(t):mH(VW)}Tp(Ece,xce);Tp(Mce,Tce);Tp(VW,FW);Tp(Rce,_ce);Tp(Oce,Pce);const Mr=0,gn=-1,mn=1;function Hce(t,e){const n=Ace(e);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];t.sort(n(...o))}const gy="asc",my="desc",jW="colHeader";function kce(t){if(Je(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[gy,my].includes(n)}function Nce(t){if(t.some(n=>kce(n)===!1))return!1;const e=t.map(n=>{let{column:i}=n;return i});return new Set(e).size===e.length}function pH(t){if(t!==my)return t===gy?my:gy}function UW(t){return t.querySelector(`.${jW}`)}function zW(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function TM(t,e,n){return t===-1&&e>=0&&bu(n)===!1}function YW(t,e,n){return function(i,o){const{sortEmptyCells:s}=n;if(i===o)return Mr;if(_n(i))return _n(o)?Mr:s&&t==="asc"?gn:mn;if(_n(o))return s&&t==="asc"?mn:gn;const r=ce(i,e),a=ce(o,e);return r.isValid()?a.isValid()?a.isAfter(r)?t==="asc"?gn:mn:a.isBefore(r)?t==="asc"?mn:gn:Mr:gn:mn}}const Dce="ascending",Lce="descending",GW="indicatorDisabled",KW="columnSorting",qW="sortAction",XW=new Map([[gy,Dce],[my,Lce]]);function $ce(t,e,n,i){const o=[KW];if(i&&o.push(qW),n===!1)return o.push(GW),o;const s=t.getSortOrderOfColumn(e);return Te(s)&&o.push(XW.get(s)),o}function Fce(){return Array.from(XW.values()).concat(qW,GW,KW)}function Vce(t,e){return function(n,i){const[,...o]=n,[,...s]=i;return function(a){const l=t[a],c=e[a],u=o[a],h=s[a],d=c.columnSorting;return(d.compareFunctionFactory?d.compareFunctionFactory:BW(c.type))(l,c,d)(u,h)}(0)}}function Wce(t,e){Bce(t,e),e.add(t)}function Bce(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mw(t,e,n){return(e=jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Uce(t,"string");return typeof e=="symbol"?e:e+""}function Uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const py="columnSorting",zce=50,wy="append",Yce="replace",wH=py;WW(py,Vce);Ee.getSingleton().register("beforeColumnSort");Ee.getSingleton().register("afterColumnSort");var zc=new WeakSet;class ZW extends _t{constructor(){super(...arguments),Wce(this,zc),Mw(this,"columnStatesManager",null),Mw(this,"columnMetaCache",null),Mw(this,"pluginKey",py),Mw(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return py}static get PLUGIN_PRIORITY(){return zce}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new Sce(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Zl(n=>{let i=this.hot.toVisualColumn(n);return i===null&&(i=n),this.getMergedPluginSettings(i)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,i)=>kh(zc,this,Gce).call(this,n,i)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return kh(zc,e,qce).call(e,...i)}),this.addHook("afterOnCellMouseDown",(n,i)=>this.onAfterOnCellMouseDown(n,i)),this.addHook("afterInit",()=>kh(zc,this,ux).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return kh(zc,e,Kce).call(e,...i)}),this.hot.view&&kh(zc,this,ux).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,i)=>{const o=UW(i);zW(n,i)===!1||o===null||this.updateHeaderClasses(o)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,n;const i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(i)&&i.row===-1&&i.col>=0},relativeToGroup:Xl,position:"before",group:wH})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(wH)}sort(e){const n=this.getSortConfig(),i=this.getNormalizedSortConfigs(e),o=this.areValidSortConfigs(i);this.hot.runHooks("beforeColumnSort",n,i,o)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new AW),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),o&&(this.columnStatesManager.setSortStates(i),this.sortByPresetSortStates(i),this.saveAllSortSettings(i)),this.hot.runHooks("afterColumnSort",n,o?i:n,o),o&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return Te(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return Nce(e)&&e.every(i=>{let{column:o}=i;return o<=n&&o>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),i=o=>{let{column:s,...r}=o;return{column:this.hot.toPhysicalColumn(s),...r}};n.initialConfig=at(e,i),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,i=o=>{let{column:s,...r}=o;return{column:this.hot.toVisualColumn(s),...r}};return Te(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=at(n.initialConfig,i)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(Te(n)){const o=pH(n);return Te(o)?{column:e,sortOrder:o}:void 0}const i=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<i)return{column:e,sortOrder:pH()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wy;const i=this.columnStatesManager.getIndexOfColumnInSortQueue(e),o=i!==-1,s=this.getSortConfig(),r=this.getColumnNextConfig(e);if(o){if(Gt(r))return[...s.slice(0,i),...s.slice(i+1)];if(n===wy)return[...s.slice(0,i),...s.slice(i+1),r];if(n===Yce)return[...s.slice(0,i),r,...s.slice(i+1)]}return Te(r)?s.concat(r):s}getPluginColumnConfig(e){if(Je(e)){const n=e[this.pluginKey];if(Je(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],i=this.columnStatesManager.getAllColumnsProperties(),o=this.hot.getCellMeta(0,e),s=Object.getPrototypeOf(o);return Array.isArray(s.columns)?Object.assign(i,n,this.getPluginColumnConfig(s.columns[e])):Yt(s.columns)?Object.assign(i,n,this.getPluginColumnConfig(s.columns(e))):Object.assign(i,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),i=Object.create(n);return i[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),i}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),e.length===0)return;const n=[],i=this.hot.countRows(),o=c=>at(e,u=>this.hot.getDataAtCell(c,u.column));for(let c=0;c<this.getNumberOfRowsToSort(i);c+=1)n.push([this.hot.toPhysicalRow(c)].concat(o(c)));const s=at(n,c=>c[0]);Hce(n,this.pluginKey,at(e,c=>c.sortOrder),at(e,c=>this.getFirstCellSettings(c.column)));for(let c=n.length;c<i;c+=1)n.push([c].concat(o(c)));const r=at(n,c=>c[0]),a=new Map(at(s,(c,u)=>[c,r[u]])),l=at(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(Je(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||Je(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(je(e,Fce()),this.enabled!==!1){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];ue(e,$ce(...i))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Te(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&Fe(e.target,jW)}onAfterOnCellMouseDown(e,n){if(TM(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col));const i=this.hot.getActiveEditor(),o=this.getColumnNextConfig(n.col);i!=null&&i.isOpened()&&this.hot.getCellValidator(i.row,i.col)?this.hot.addHookOnce("postAfterValidate",()=>{this.sort(o)}):this.sort(o)}}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function ux(){const t=this.getAllSavedSortSettings();if(Je(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function Gce(t,e){const n=UW(e);if(zW(t,e)===!1||n===null)return;const i=this.getFirstCellSettings(t)[this.pluginKey],o=i.indicator,s=i.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,o,s),this.hot.getSettings().ariaTags){const r=this.columnStatesManager.getSortOrderOfColumn(t);$e(e,...Iee(r?`${r}ending`:"none"))}}function Kce(t){t===!0&&this.hot.view&&kh(zc,this,ux).call(this)}function qce(t,e,n,i){TM(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(i.column=!0)}function fc(t,e,n){return(e=Xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jce{constructor(e,n){fc(this,"plugin",void 0),fc(this,"hot",void 0),fc(this,"endpoints",[]),fc(this,"settings",void 0),fc(this,"settingsType","array"),fc(this,"currentEndpoint",null),fc(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let i=e;if(!i&&typeof this.settings=="function"){this.settingsType="function";return}return i||(i=this.settings),F(i,o=>{const s={};this.assignSetting(o,s,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(o,s,"reversedRowCoords",!1),this.assignSetting(o,s,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,s,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(o,s,"sourceColumn",o.destinationColumn),this.assignSetting(o,s,"type","sum"),this.assignSetting(o,s,"forceNumeric",!1),this.assignSetting(o,s,"suppressDataTypeErrors",!0),this.assignSetting(o,s,"customFunction",null),this.assignSetting(o,s,"readOnly",!0),this.assignSetting(o,s,"roundFloat",!1),n.push(s)}),n}assignSetting(e,n,i,o){if(i==="ranges"&&e[i]===void 0){n[i]=o;return}else if(i==="ranges"&&e[i].length===0)return;if(e[i]===void 0){if(o instanceof Error)throw o;n[i]=o}else i==="destinationRow"&&n.reversedRowCoords?n[i]=this.hot.countRows()-e[i]-1:n[i]=e[i]}resetSetupBeforeStructureAlteration(e,n,i){if(this.settingsType!=="function")return;const o=e.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();F(s,r=>{o==="row"&&r.destinationRow>=n&&(e==="insert_row"?r.alterRowOffset=i:e==="remove_row"&&(r.alterRowOffset=-1*i)),o==="col"&&r.destinationColumn>=n&&(e==="insert_col"?r.alterColumnOffset=i:e==="remove_col"&&(r.alterColumnOffset=-1*i))}),this.resetAllEndpoints(s,!1)}resetSetupAfterStructureAlteration(e,n,i,o,s){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const d=()=>(this.hot.removeHook("beforeViewRender",d),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",d);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),u=e.indexOf("move_row")===0,h=n;F(c,d=>{a==="row"&&d.destinationRow>=h&&(d.alterRowOffset=l*i),a==="col"&&d.destinationColumn>=h&&(d.alterColumnOffset=l*i)}),this.resetAllEndpoints(c,!u),u?F(c,d=>{this.extendEndpointRanges(d,h,o[0],o.length),this.recreatePhysicalRanges(d),this.clearOffsetInformation(d)}):F(c,d=>{this.shiftEndpointCoordinates(d,h)}),r&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,i,o){F(e.ranges,s=>{s[1]&&(n>=s[0]&&n<=s[1]?i>s[1]?s[1]+=o:i<s[0]&&(s[0]-=o):i>=s[0]&&i<=s[1]&&(s[1]-=o,n<=s[0]&&(s[0]+=1,s[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,i=[],o=[];F(n,s=>{const r=[];if(s[1])for(let a=s[0];a<=s[1];a++)r.push(this.hot.toPhysicalRow(a));else r.push(this.hot.toPhysicalRow(s[0]));o.push(r)}),F(o,s=>{let r=[];F(s,(a,l)=>{l===0?r.push(a):s[l]!==s[l-1]+1&&(r.push(s[l-1]),i.push(r),r=[],r.push(a)),l===s.length-1&&(r.push(a),i.push(r))})}),e.ranges=i}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,F(e.ranges,i=>{F(i,(o,s)=>{o>=n&&(i[s]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(o=>{const s=o.alterRowOffset||0,r=o.alterColumnOffset||0;return o.destinationRow+s>=this.hot.countRows()||o.destinationColumn+r>=this.hot.countCols()})||(this.cellsToSetCache=[],F(e,o=>{this.resetEndpointValue(o,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],F(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],F(e,(i,o,s)=>{`${i[2]||""}`!=`${i[3]}`&&F(this.getAllEndpoints(),(r,a)=>{this.hot.propToCol(s[o][1])===r.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),F(n,i=>{this.refreshEndpoint(this.getEndpoint(i))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{const n=this.hot.toVisualRow(e.destinationRow);if(n!==null){const i=this.hot.getCellMeta(n,e.destinationColumn);i.readOnly=e.readOnly,i.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=e.alterRowOffset||0,o=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?i:0)),this.hot.toVisualColumn(e.destinationColumn+(n?o:0)),""])}setEndpointValue(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const s=this.hot.toVisualRow(e.destinationRow);if(s!==null){const r=this.hot.getCellMeta(s,e.destinationColumn);(n==="init"||r.readOnly!==e.readOnly)&&(r.readOnly=e.readOnly,r.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const r=e.roundFloat;let a=0;Number.isInteger(r)&&(a=Math.min(Math.max(0,r),100)),e.result=e.result.toFixed(a)}i?this.hot.setDataAtCell(o,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([o,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){Et("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function O0(t){return t==null||isNaN(t)}function Qce(t,e){eue(t,e),e.add(t)}function eue(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tue(t,e,n){return(e=nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pw(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const I0="columnSummary",oue=220;var bf=new WeakSet;class sue extends _t{constructor(){super(...arguments),Qce(this,bf),tue(this,"endpoints",null)}static get PLUGIN_KEY(){return I0}static get PLUGIN_PRIORITY(){return oue}isEnabled(){return!!this.hot.getSettings()[I0]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[I0],this.endpoints=new Jce(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pw(bf,e,rue).call(e,...i)}),this.addHook("afterChange",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pw(bf,e,lue).call(e,...i)}),this.addHook("afterUpdateSettings",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pw(bf,e,aue).call(e,...i)}),this.addHook("beforeCreateRow",(n,i,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,i,null,o)),this.addHook("beforeCreateCol",(n,i,o)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,i,null,o)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...i)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...i)}),this.addHook("afterCreateRow",(n,i,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,i,null,o)),this.addHook("afterCreateCol",(n,i,o)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,i,null,o)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...i)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...i)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pw(bf,e,cue).call(e,...i)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return Qe(e.ranges,i=>{n+=this.getPartialSum(i,e.sourceColumn)}),n}getPartialSum(e,n){let i=0,o=e[1]||e[0],s=null,r=0;do{if(s=this.getCellValue(o,n),s=O0(s)?null:s,s!==null){const a=(`${s}`.split(".")[1]||[]).length||1;a>r&&(r=a)}i+=s||0,o-=1}while(o>=e[0]);return Math.round(i*10**r)/10**r}calculateMinMax(e,n){let i=null;return Qe(e.ranges,o=>{const s=this.getPartialMinMax(o,e.sourceColumn,n);if(i===null&&s!==null&&(i=s),s!==null)switch(n){case"min":i=Math.min(i,s);break;case"max":i=Math.max(i,s);break}}),i===null?"Not enough data":i}getPartialMinMax(e,n,i){let o=null,s=e[1]||e[0],r;do{if(r=this.getCellValue(s,n),r=O0(r)?null:r,o===null)o=r;else if(r!==null)switch(i){case"min":o=Math.min(o,r);break;case"max":o=Math.max(o,r);break}s-=1}while(s>=e[0]);return o}countEmpty(e,n){let i,o=0,s=e[1]||e[0];do i=this.getCellValue(s,n),i=O0(i)?null:i,i===null&&(o+=1),s-=1;while(s>=e[0]);return o}countEntries(e){let n=0;const i=e.ranges;return Qe(i,o=>{const s=o[1]===void 0?1:o[1]-o[0]+1,r=this.countEmpty(o,e.sourceColumn);n+=s,n-=r}),n}calculateAverage(e){const n=this.calculateSum(e),i=this.countEntries(e);return n/i}getCellValue(e,n){const i=this.hot.toVisualRow(e),o=this.hot.toVisualColumn(n);let s=this.hot.getSourceDataAtCell(e,n),r="";if(i!==null&&o!==null&&(r=this.hot.getCellMeta(i,o).className||""),r.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof s=="string"&&(s=s.replace(/,/,".")),s=parseFloat(s)),isNaN(s)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Tt`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return s}}function rue(){this.endpoints.initEndpoints()}function aue(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function lue(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function cue(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function uue(t,e){JW(t,e),e.add(t)}function A0(t,e,n){JW(t,e),e.set(t,n)}function JW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nh(t,e){return t.get(MM(t,e))}function hx(t,e,n){return t.set(MM(t,e),n),n}function MM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var by=new WeakMap,Ow=new WeakMap,Iw=new WeakMap,bH=new WeakSet;class QW{constructor(){uue(this,bH),A0(this,by,!0),A0(this,Ow,null),A0(this,Iw,new ResizeObserver(e=>MM(bH,this,hue).call(this,e)))}setObservedElement(e){hx(Ow,this,e)}unobserve(){Nh(Iw,this).unobserve(Nh(Ow,this))}observe(){hx(by,this,!0),Nh(Iw,this).observe(Nh(Ow,this))}destroy(){Nh(Iw,this).disconnect()}}function hue(t){if(Nh(by,this)||!Array.isArray(t)||!t.length){hx(by,this,!1);return}t.forEach(e=>{let{borderBoxSize:n}=e;const{inlineSize:i,blockSize:o}=n[0];this.runLocalHooks("resize",i,o)})}kt(QW,ci);function gc(t,e,n){due(t,e),e.set(t,n)}function due(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nt(t,e){return t.get(eB(t,e))}function Zr(t,e,n){return t.set(eB(t,e),n),n}function eB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var mc=new WeakMap,H0=new WeakMap,Jr=new WeakMap,pc=new WeakMap,Ga=new WeakMap,Aw=new WeakMap,sh=new WeakMap;class eu{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){var i=this;gc(this,mc,void 0),gc(this,H0,!1),gc(this,Jr,null),gc(this,pc,void 0),gc(this,Ga,void 0),gc(this,Aw,!0),gc(this,sh,new QW),Zr(mc,this,e),Zr(H0,this,n),Zr(pc,this,this.createEditor()),Zr(Ga,this,Nt(pc,this).style),Nt(sh,this).setObservedElement(this.getInputElement()),Nt(sh,this).addLocalHook("resize",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("resize",...s)}),this.hide()}setPosition(e,n){Nt(Ga,this).left=`${e}px`,Nt(Ga,this).top=`${n}px`}setSize(e,n){if(e&&n){const i=this.getInputElement();i.style.width=`${e}px`,i.style.height=`${n}px`}}getSize(){return{width:Kt(this.getInputElement()),height:Pn(this.getInputElement())}}observeSize(){Nt(sh,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){Nt(Ga,this).display="block",Zr(Aw,this,!1)}hide(){Nt(sh,this).unobserve(),Nt(Aw,this)||(Nt(Ga,this).display="none"),Zr(Aw,this,!0)}isVisible(){return Nt(Ga,this).display==="block"}setValue(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=n}getValue(){return this.getInputElement().value}isFocused(){return Nt(mc,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=Nt(mc,this).createElement("div"),n=Nt(mc,this).createElement("textarea");return e.style.display="none",Zr(Jr,this,Nt(mc,this).createElement("div")),Nt(Jr,this).setAttribute("dir",Nt(H0,this)?"rtl":"ltr"),ue(Nt(Jr,this),eu.CLASS_EDITOR_CONTAINER),Nt(mc,this).body.appendChild(Nt(Jr,this)),ue(e,eu.CLASS_EDITOR),ue(n,eu.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),Nt(Jr,this).appendChild(e),e}getInputElement(){return Nt(pc,this).querySelector(`.${eu.CLASS_INPUT}`)}destroy(){const e=Nt(Jr,this)?Nt(Jr,this).parentNode:null;Nt(pc,this).parentNode.removeChild(Nt(pc,this)),Zr(pc,this,null),Zr(Ga,this,null),Nt(sh,this).destroy(),e&&e.removeChild(Nt(Jr,this))}}kt(eu,ci);function k0(t,e,n){return(e=fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=gue(t,"string");return typeof e=="symbol"?e:e+""}function gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const mue=250,pue=250;class tB{constructor(e){k0(this,"wasLastActionShow",!0),k0(this,"showDebounced",null),k0(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},pue)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mue;this.showDebounced=ET(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}kt(tB,ci);function wue(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function bue(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function wc(t,e){const n={};return F(t,i=>{i.forAll((o,s)=>{o>=0&&s>=0&&(n[o]||(n[o]=[]),n[o][s]=e(o,s))})}),n}function al(t,e,n,i,o){F(t,s=>{s.forAll((r,a)=>{r>=0&&a>=0&&vue(r,a,e,n,i,o)})})}function vue(t,e,n,i,o,s){const r=o(t,e);let a=i;r.className&&(n==="vertical"?a=wue(r.className,i):a=bue(r.className,i)),s(t,e,"className",a)}function fa(t){return`<span class="selected">✓</span>${t}`}function kg(t,e){let n=!1;return Array.isArray(t)&&F(t,i=>(i.forAll((o,s)=>{if(o>=0&&s>=0&&e(o,s))return n=!0,!1}),n)),n}function YC(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:i}=e.defaultView,{top:o,left:s}=i.getBoundingClientRect();n.top=o,n.left=s}return n}function yue(t){return function(e,n){const i=this.getCellMeta(e,n).className;return i&&i.indexOf(t)!==-1}}function Wi(t,e){return kg(t.getSelectedRange(),yue(e).bind(t))}const Ze="---------";function Cue(){return{name:Ze}}const Ho="alignment";function Sue(){return{key:Ho,name(){return this.getTranslatedPhrase(QT)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${Ho}:left`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(oy)},ariaChecked(){return Wi(this,"htLeft")},name(){let t=this.getTranslatedPhrase(oy);return Wi(this,"htLeft")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{key:`${Ho}:center`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(sy)},ariaChecked(){return Wi(this,"htCenter")},name(){let t=this.getTranslatedPhrase(sy);return Wi(this,"htCenter")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{key:`${Ho}:right`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(ry)},ariaChecked(){return Wi(this,"htRight")},name(){let t=this.getTranslatedPhrase(ry);return Wi(this,"htRight")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="horizontal",i="htRight";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{key:`${Ho}:justify`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(ay)},ariaChecked(){return Wi(this,"htJustify")},name(){let t=this.getTranslatedPhrase(ay);return Wi(this,"htJustify")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{name:Ze},{key:`${Ho}:top`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(ly)},ariaChecked(){return Wi(this,"htTop")},name(){let t=this.getTranslatedPhrase(ly);return Wi(this,"htTop")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="vertical",i="htTop";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{key:`${Ho}:middle`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(cy)},ariaChecked(){return Wi(this,"htMiddle")},name(){let t=this.getTranslatedPhrase(cy);return Wi(this,"htMiddle")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1},{key:`${Ho}:bottom`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(uy)},ariaChecked(){return Wi(this,"htBottom")},name(){let t=this.getTranslatedPhrase(uy);return Wi(this,"htBottom")&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=wc(t,(o,s)=>this.getCellMeta(o,s).className),n="vertical",i="htBottom";this.runHooks("beforeCellAlignment",e,t,n,i),al(t,n,i,(o,s)=>this.getCellMeta(o,s),(o,s,r,a)=>this.setCellMeta(o,s,r,a)),this.render()},disabled:!1}]}}}const GC="clear_column";function _ue(){return{key:GC,name(){return this.getTranslatedPhrase(FT)},callback(t,e){const n=e[0].start.col,i=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),i,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}const Mp="col_left";function Rue(){return{key:Mp,name(){return this.getTranslatedPhrase(HT)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Pp="col_right";function xue(){return{key:Pp,name(){return this.getTranslatedPhrase(kT)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Op="make_read_only";function Eue(){return{key:Op,checkable:!0,ariaChecked(){return kg(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)},ariaLabel(){return this.getTranslatedPhrase(iy)},name(){let t=this.getTranslatedPhrase(iy);return kg(this.getSelectedRange(),(n,i)=>this.getCellMeta(n,i).readOnly)&&(t=fa(t)),t},callback(){const t=this.getSelectedRange(),e=kg(t,(n,i)=>this.getCellMeta(n,i).readOnly);F(t,n=>{n.forAll((i,o)=>{i>=0&&o>=0&&this.setCellMeta(i,o,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const KC="redo";function Tue(){return{key:KC,name(){return this.getTranslatedPhrase($T)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const qC=0,XC=1,nB=2,PM=3,Mue=[PM,nB],Pue=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],N0=Symbol("root"),vH=Symbol("child");function _d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N0;if(e!==N0&&e!==vH)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),i=e===N0;let o=qC;if(n){const s=t[0];t.length===0?o=XC:i&&s instanceof _p?o=PM:i&&Array.isArray(s)?o=_d(s,vH):t.length>=2&&t.length<=4&&!t.some((a,l)=>!Pue[l].includes(typeof a))&&(o=nB)}return o}function Hm(t){let{createCellCoords:e,createCellRange:n,keepDirection:i=!1,propToCol:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Mue.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(s){const r=t===PM;let a=r?s.from.row:s[0],l=r?s.from.col:s[1],c=r?s.to.row:s[2],u=r?s.to.col:s[3];if(typeof o=="function"&&(typeof l=="string"&&(l=o(l)),typeof u=="string"&&(u=o(u))),Gt(c)&&(c=a),Gt(u)&&(u=l),!i){const f=a,g=l,m=c,w=u;a=Math.min(f,m),l=Math.min(g,w),c=Math.max(f,m),u=Math.max(g,w)}const h=e(a,l),d=e(c,u);return n(h,h,d)}}function Oue(t){const e=_d(t.getSelected());if(e===qC||e===XC)return[];const n=Hm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),i=new Set;F(t.getSelected(),r=>{const{from:a,to:l}=n(r),c=Math.max(a.col,0),u=l.col-c+1;F(Array.from(new Array(u),(h,d)=>c+d),h=>{i.has(h)||i.add(h)})});const o=Array.from(i).sort((r,a)=>r-a);return Li(o,(r,a,l,c)=>(l!==0&&a===c[l-1]+1?r[r.length-1][1]+=1:r.push([a,1]),r),[])}function Iue(t){const e=_d(t.getSelected());if(e===qC||e===XC)return[];const n=Hm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),i=new Set;F(t.getSelected(),r=>{const{from:a,to:l}=n(r),c=Math.max(a.row,0),u=l.row-c+1;F(Array.from(new Array(u),(h,d)=>c+d),h=>{i.has(h)||i.add(h)})});const o=Array.from(i).sort((r,a)=>r-a);return Li(o,(r,a,l,c)=>(l!==0&&a===c[l-1]+1?r[r.length-1][1]+=1:r.push([a,1]),r),[])}const Ip="remove_col";function Aue(){return{key:Ip,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,i]=t[0];n-i!==0&&(e=1)}return this.getTranslatedPhrase(DT,e)},callback(){this.alter("remove_col",Oue(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const ZC="remove_row";function Hue(){return{key:ZC,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,i]=t[0];n-i!==0&&(e=1)}return this.getTranslatedPhrase(NT,e)},callback(){this.alter("remove_row",Iue(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const JC="row_above";function kue(){return{key:JC,name(){return this.getTranslatedPhrase(IT)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const QC="row_below";function Nue(){return{key:QC,name(){return this.getTranslatedPhrase(AT)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const km="no_items";function Due(){return{key:km,name(){return this.getTranslatedPhrase(OT)},disabled:!0,isCommand:!1}}const eS="undo";function Lue(){return{key:eS,name(){return this.getTranslatedPhrase(LT)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const $ue=[JC,QC,Mp,Pp,GC,ZC,Ip,eS,KC,Op,Ho,Ze,km],Fue={[Ze]:Cue,[km]:Due,[JC]:kue,[QC]:Nue,[Mp]:Rue,[Pp]:xue,[GC]:_ue,[ZC]:Hue,[Ip]:Aue,[eS]:Lue,[KC]:Tue,[Op]:Eue,[Ho]:Sue};function iB(){const t={};return Qe(Fue,(e,n)=>{t[n]=e()}),t}function Vue(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(XT):this.getTranslatedPhrase(qT)},callback(){const e=this.getSelectedRangeLast();t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function Wue(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(ZT)},callback(){this.getSelectedRangeLast().forAll((n,i)=>{n>=0&&i>=0&&t.removeCommentAtCell(n,i,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function Bue(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(JT);return kg(this.getSelectedRange(),(i,o)=>t.getCommentMeta(i,o,fv))?fa(e):e},callback(){this.getSelectedRangeLast().forAll((n,i)=>{if(n>=0&&i>=0){const o=!!t.getCommentMeta(n,i,fv);t.updateCommentMeta(n,i,{[fv]:!o})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function jue(t,e){oB(t,e),e.add(t)}function rh(t,e,n){oB(t,e),e.set(t,n)}function oB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uue(t,e,n){return(e=zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(t,e,n){return t.set(gs(t,e),n),n}function ot(t,e){return t.get(gs(t,e))}function gs(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ng="comments",Gue=60,ga="comment",cg="value",sB="style",fv="readOnly",Hw=Ng,dx=`plugin:${Ng}`;var Lt=new WeakMap,hr=new WeakMap,tS=new WeakMap,gv=new WeakMap,fx=new WeakMap,vy=new WeakMap,Ks=new WeakSet;class Kue extends _t{constructor(){super(...arguments),jue(this,Ks),Uue(this,"range",{}),rh(this,Lt,null),rh(this,hr,null),rh(this,tS,!1),rh(this,gv,!1),rh(this,fx,null),rh(this,vy,"")}static get PLUGIN_KEY(){return Ng}static get PLUGIN_PRIORITY(){return Gue}isEnabled(){return!!this.hot.getSettings()[Ng]}enablePlugin(){var e=this;this.enabled||(ot(Lt,this)||(Tl(Lt,this,new eu(this.hot.rootDocument,this.hot.isRtl())),ot(Lt,this).addLocalHook("resize",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return gs(Ks,e,the).call(e,...i)})),ot(hr,this)||Tl(hr,this,new tB(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",n=>this.addToContextMenu(n)),this.addHook("afterRenderer",(n,i,o,s,r,a)=>gs(Ks,this,Jue).call(this,n,a)),this.addHook("afterScroll",()=>gs(Ks,this,ihe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",n=>gs(Ks,this,nhe).call(this,n)),ot(hr,this).addLocalHook("hide",()=>this.hide()),ot(hr,this).addLocalHook("show",(n,i)=>this.showAtCell(n,i)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){ot(hr,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),i=e.addContext(dx);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const o=this.hot.getSelectedRangeLast();Tl(gv,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(o),this.show(),this.focusEditor(),e.setActiveContextName(dx),this.hot._registerTimeout(()=>{Tl(gv,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var o;return((o=this.hot.getSelectedRangeLast())===null||o===void 0?void 0:o.highlight.isCell())&&!ot(Lt,this).isVisible()},group:Hw}),i.addShortcut({keys:[["Escape"]],callback:()=>{ot(Lt,this).setValue(ot(vy,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>ot(Lt,this).isVisible()&&ot(Lt,this).isFocused(),group:Hw}),i.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>ot(Lt,this).isVisible()&&ot(Lt,this).isFocused(),group:Hw})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Hw)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",i=>gs(Ks,this,Xue).call(this,i)),this.eventManager.addEventListener(e,"mousedown",i=>gs(Ks,this,que).call(this,i)),this.eventManager.addEventListener(e,"mouseup",()=>gs(Ks,this,Zue).call(this)),this.eventManager.addEventListener(n,"focus",()=>gs(Ks,this,ehe).call(this)),this.eventManager.addEventListener(n,"blur",()=>gs(Ks,this,Que).call(this))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=pu(e.target,"TD","TBODY");return!!(n&&Fe(n,"htCommentCell")&&pu(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=ot(Lt,this).getValue();let i="";e!=null?i=e:n!=null&&(i=n);const o=this.range.from.row,s=this.range.from.col;this.updateCommentMeta(o,s,{[cg]:i}),this.hot.render()}setCommentAtCell(e,n,i){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(i)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,ga),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(i)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,cg)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,cg)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:i}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||i<0||i>this.hot.countSourceCols()-1)return!1;const o=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return ot(hr,this).cancelHiding(),ot(Lt,this).setValue((e=o[ga]?o[ga][cg]:null)!==null&&e!==void 0?e:""),ot(Lt,this).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){ot(Lt,this).hide()}refreshEditor(){var e,n;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!ot(Lt,this).isVisible()))return;const{rowIndexMapper:o,columnIndexMapper:s}=this.hot,{row:r,col:a}=this.range.from;let l=o.getRenderableFromVisualIndex(r),c=s.getRenderableFromVisualIndex(a);const u=l===null;ot(Lt,this).setPosition(0,0),l===null&&(l=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(r,-1))),c===null&&(c=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(a,-1)));const h=l===null,d=c===null;l=(e=l)!==null&&e!==void 0?e:0,c=(n=c)!==null&&n!==void 0?n:0;const{rootWindow:f,view:{_wt:g}}=this.hot,{wtTable:m}=g,w=g.getCell({row:l,col:c},!0),b=this.getCommentMeta(r,a,sB);b?ot(Lt,this).setSize(b.width,b.height):ot(Lt,this).resetSize();const C=d?0:m.getStretchedColumnWidth(c),y=u&&!h?Pn(w):0,{left:E,top:T,width:N,height:D}=w.getBoundingClientRect(),{width:B,height:K}=ot(Lt,this).getSize(),{innerWidth:q,innerHeight:J}=this.hot.rootWindow,ee=this.hot.rootDocument.documentElement;let re=E+f.scrollX+C,me=T+f.scrollY+y;this.hot.isRtl()&&(re-=B+C),this.hot.isLtr()&&E+N+B>q?re=E+f.scrollX-B-1:this.hot.isRtl()&&re<-(ee.scrollWidth-ee.clientWidth)&&(re=E+f.scrollX+C+1),T+K>J&&(me-=K-D+1),ot(Lt,this).setPosition(re,me),ot(Lt,this).setReadOnlyState(this.getCommentMeta(r,a,fv)),ot(Lt,this).observeSize()}focusEditor(){ot(Lt,this).focus()}updateCommentMeta(e,n,i){const o=this.hot.getCellMeta(e,n)[ga];let s;o?(s=Ni(o),AC(s,i)):s=i,this.hot.setCellMeta(e,n,ga,s)}getCommentMeta(e,n,i){const o=this.hot.getCellMeta(e,n);if(o[ga])return o[ga][i]}addToContextMenu(e){e.items.push({name:Ze},Vue(this),Wue(this),Bue(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[Ng];if(Je(e))return e.displayDelay}getEditorInputElement(){return ot(Lt,this).getInputElement()}destroy(){var e,n;(e=ot(Lt,this))===null||e===void 0||e.destroy(),(n=ot(hr,this))===null||n===void 0||n.destroy(),super.destroy()}}function que(t){if(!(!this.hot.view||!this.hot.view._wt)&&!ot(tS,this)&&!this.targetIsCommentTextArea(t)){const e=pu(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function Xue(t){const{rootDocument:e}=this.hot;if(!(ot(tS,this)||ot(Lt,this).isFocused()||Fe(t.target,"wtBorder")||ot(fx,this)===t.target||!ot(Lt,this)))if(Tl(fx,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));ot(hr,this).show(n)}else uu(t.target,e)&&!this.targetIsCommentTextArea(t)&&ot(hr,this).hide()}function Zue(){Tl(tS,this,!1)}function Jue(t,e){e[ga]&&e[ga][cg]&&ue(t,e.commentedCellClassName)}function Que(){Tl(vy,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function ehe(){Tl(vy,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(dx)}function the(t,e){this.updateCommentMeta(this.range.from.row,this.range.from.col,{[sB]:{width:t,height:e}})}function nhe(t){ot(Lt,this).isVisible()&&$s(t)}function ihe(){ot(gv,this)||this.hide()}var yH=wC,ohe=TypeError,she=function(t,e){if(!delete t[e])throw new ohe("Cannot delete property "+yH(e)+" of "+yH(t))},rhe=li,ahe=lp,lhe=hp,che=eF,uhe=she,hhe=tF,dhe=[].unshift(0)!==1,fhe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},ghe=dhe||!fhe();rhe({target:"Array",proto:!0,arity:1,forced:ghe},{unshift:function(e){var n=ahe(this),i=lhe(n),o=arguments.length;if(o){hhe(i+o);for(var s=i;s--;){var r=s+o;s in n?n[r]=n[s]:uhe(n,r)}for(var a=0;a<o;a++)n[a]=arguments[a]}return che(n,i+o)}});function D0(t,e,n){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rB{constructor(e){D0(this,"hot",void 0),D0(this,"commands",{}),D0(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=e.split(":"),r=s[0],a=s.length===2?s[1]:null;let l=this.commands[r];if(!l)throw new Error(`Menu command '${r}' not exists.`);if(a&&l.submenu&&(l=whe(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||pn(l,"submenu"))return;const c=[];typeof l.callback=="function"&&c.push(l.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),i.unshift(s.join(":")),F(c,u=>u.apply(this.hot,i))}}function whe(t,e){let n;return F(e,i=>{const o=i.key?i.key.split(":"):null;if(Array.isArray(o)&&o[1]===t)return n=i,!1}),n}function L0(t,e,n){return(e=bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aB{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;L0(this,"hot",void 0),L0(this,"predefinedItems",iB()),L0(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,Qe(e,(i,o)=>{let s="";i.name===Ze?(n[Ze]=i,s=Ze):isNaN(parseInt(o,10))?(i.key=i.key===void 0?o:i.key,n[o]=i,s=i.key):(n[i.key]=i,s=i.key),this.defaultOrderPattern.push(s)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return yhe(e,this.defaultOrderPattern,this.predefinedItems)}}function yhe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=[];let o=t;return o&&o.items?o=o.items:Array.isArray(o)||(o=e),Je(o)?Qe(o,(s,r)=>{let a=n[typeof s=="string"?s:r];a||(a=s),Je(s)?Hn(a,s):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=r),i.push(a)}):F(o,(s,r)=>{let a=n[s];!a&&$ue.indexOf(s)>=0||(a||(a={name:s,key:`${r}`}),Je(s)&&Hn(a,s),a.key===void 0&&(a.key=r),i.push(a))}),i}function Ka(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=She(t,"string");return typeof e=="symbol"?e:e+""}function She(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _he{constructor(e,n){Ka(this,"top",void 0),Ka(this,"topRelative",void 0),Ka(this,"left",void 0),Ka(this,"leftRelative",void 0),Ka(this,"scrollTop",void 0),Ka(this,"scrollLeft",void 0),Ka(this,"cellHeight",void 0),Ka(this,"cellWidth",void 0);const i=n.scrollY,o=n.scrollX;let s,r,a,l,c,u;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(s=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,u=e.width||0,r=s,l=a,s+=i,a+=o):this.type==="event"&&(s=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,u=e.target.clientWidth,r=s-i,l=a-o),this.top=s,this.topRelative=r,this.left=a,this.leftRelative=l,this.scrollTop=i,this.scrollLeft=o,this.cellHeight=c,this.cellWidth=u}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function vf(t,e,n){Rhe(t,e),e.set(t,n)}function Rhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lt(t,e){return t.get(lB(t,e))}function kw(t,e,n){return t.set(lB(t,e),n),n}function lB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xi=new WeakMap,qa=new WeakMap,Bi=new WeakMap,$0=new WeakMap,ah=new WeakMap;class xhe{constructor(e){vf(this,xi,void 0),vf(this,qa,void 0),vf(this,Bi,void 0),vf(this,$0,!1),vf(this,ah,{above:0,below:0,left:0,right:0}),kw($0,this,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(ah,this)[e]=n,this}setElement(e){return kw(xi,this,e),this}setParentElement(e){return kw(qa,this,e),this}updatePosition(e){kw(Bi,this,new _he(e,lt(xi,this).ownerDocument.defaultView)),lt($0,this)?(lt(Bi,this).fitsBelow(lt(xi,this))?this.setPositionBelowCursor():lt(Bi,this).fitsAbove(lt(xi,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){lt(xi,this).dir==="rtl"?lt(Bi,this).fitsOnLeft(lt(xi,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():lt(Bi,this).fitsOnRight(lt(xi,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=lt(ah,this).above+lt(Bi,this).top-lt(xi,this).offsetHeight;lt(qa,this)&&(e=lt(Bi,this).top+lt(Bi,this).cellHeight-lt(xi,this).offsetHeight+3),lt(xi,this).style.top=`${e}px`}setPositionBelowCursor(){let e=lt(ah,this).below+lt(Bi,this).top+1;lt(qa,this)&&(e=lt(Bi,this).top-1),lt(xi,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=lt(Bi,this).left;if(lt(qa,this)){const n=Number.parseInt(getComputedStyle(lt(qa,this).querySelector(".htCore")).borderRightWidth,10);e+=lt(Bi,this).cellWidth+n}else e+=lt(ah,this).right;lt(xi,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=lt(ah,this).left+lt(Bi,this).left-lt(xi,this).offsetWidth;if(lt(qa,this)){const n=Number.parseInt(getComputedStyle(lt(qa,this).querySelector(".htCore")).borderLeftWidth,10);e-=n}lt(xi,this).style.left=`${e}px`}}function cB(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:i=()=>{},onClear:o=()=>{}}=t;const s=new Set;let r=Ot(e,-1,g()-1);function a(w,b){const C=g()-1;return w<0&&(w=C),w>C&&(w=0),s.has(w)?-1:(s.add(w),i(w,!1)===!1&&(w=a(b===1?++w:--w,b)),w)}function l(w){w>-1&&w<g()&&i(w,!0)!==!1&&(r=w)}function c(){return r}function u(){g()>0&&(s.clear(),r=a(0,1))}function h(){g()>0&&(s.clear(),r=a(g()-1,-1))}function d(){g()>0&&(s.clear(),r=a(++r,1))}function f(){g()>0&&(s.clear(),r=a(--r,-1))}function g(){return Math.max(n(),0)}function m(){s.clear(),r=e,o()}return{setCurrentPage:l,getCurrentPage:c,toFirstItem:u,toLastItem:h,toNextItem:d,toPreviousItem:f,getSize:g,clear:m}}function Ehe(t){return at(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function gx(t){return pn(t,"submenu")}function mx(t){return new RegExp(Ze,"i").test(t.name)}function mv(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function CH(t){return pn(t,"disableSelection")}function The(t){return Fe(t,"htSeparator")}function Mhe(t){return Fe(t,"htSubmenu")}function Phe(t){return Fe(t,"htDisabled")}function Ohe(t){return Fe(t,"htSelectionDisabled")}function Ihe(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function uB(t,e){const n=t.slice(0);for(let i=0;i<n.length&&n[i].name===e;)n.shift();return n}function Ahe(t,e){let n=t.slice(0);return n.reverse(),n=uB(n,e),n.reverse(),n}function Hhe(t){const e=[];return F(t,(n,i)=>{i>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function khe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze,n=t.slice(0);return n=uB(n,e),n=Ahe(n,e),n=Hhe(n),n}function Nhe(t){return t.checkable===!0}function Dhe(t){return cB({size:()=>t.countRows(),onItemSelect(e,n){const i=t.getCell(e,0);if(!i||The(i)||Phe(i)||Ohe(i))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function Lhe(t){const{hot:e,hotMenu:n}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(i,o)=>{const s=e.getSettings(),r=typeof s.tabMoves=="function"?s.tabMoves(i):s.tabMoves;o.includes("shift")?e.selection.transformStart(-r.row,-r.col):e.selection.transformStart(r.row,r.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const i=n.getSelectedLast();if(i){const o=t.openSubMenu(i[0]);o&&o.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{n.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:i=>{const o=n.getSelectedLast();o&&(n.getSourceDataAtRow(o[0]).submenu?t.openSubMenu(o[0]).getNavigator().toFirstItem():(t.executeCommand(i),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(-n.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(n.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const hB="menu",SH=hB;function $he(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];i(Lhe(t)),e.forEach(c=>{let{shortcuts:u,contextName:h}=c;o(u,h)});function i(c,u){a(u).addShortcuts(c,{group:hB})}function o(c,u){const h=a(u);c.forEach(d=>{let{keys:f}=d;f.forEach(g=>h.removeShortcutsByKeys(g))}),n.push({shortcuts:c,contextName:u}),i(c,u)}function s(){return[...n]}function r(c){return c?`${SH}:${c}`:SH}function a(c){var u;const h=t.hotMenu.getShortcutManager(),d=r(c);return(u=h.getContext(d))!==null&&u!==void 0?u:h.addContext(d)}function l(c){t.hotMenu.getShortcutManager().setActiveContextName(r(c))}return{addCustomShortcuts:o,getCustomShortcuts:s,getContext:a,listen:l}}function Fhe(t){return(e,n,i,o,s,r)=>{const a=e.getSourceDataAtRow(i),l=t.rootDocument.createElement("div"),c=typeof r=="function"?r.call(t):r,u=typeof a.ariaLabel=="function"?a.ariaLabel.call(t):a.ariaLabel,h=typeof a.ariaChecked=="function"?a.ariaChecked.call(t):a.ariaChecked;if(kr(n),ue(l,"htItemWrapper"),t.getSettings().ariaTags){const d=!mv(a,t)&&!CH(a)&&!mx(a);$e(n,[...Nhe(a)?[See(),Qv(u),wV(h)]:[Cee(),Qv(c)],...d?[Hd(-1)]:[],...mv(a,t)?[Pee()]:[],...gx(a)?[zo(!1)]:[]])}n.className="",n.appendChild(l),mx(a)?ue(n,"htSeparator"):typeof a.renderer=="function"?(ue(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,i,o,s,c))):Nd(l,c),mv(a,t)?ue(n,"htDisabled"):CH(a)?ue(n,"htSelectionDisabled"):gx(a)&&ue(n,"htSubmenu")}}function F0(t,e,n){Vhe(t,e),e.set(t,n)}function Vhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qs(t,e,n){return(e=Whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Whe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V0(t,e,n){return t.set(dB(t,e),n),n}function bc(t,e){return t.get(dB(t,e))}function dB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const _H=215;var yf=new WeakMap,Nw=new WeakMap,Dw=new WeakMap;class Fd{get tableBorderWidth(){return bc(Dw,this)===void 0&&this.hotMenu&&V0(Dw,this,parseInt(Na(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),bc(Dw,this)}constructor(e,n){var i=this;qs(this,"hot",void 0),qs(this,"options",void 0),qs(this,"eventManager",new ks(this)),qs(this,"container",void 0),qs(this,"positioner",void 0),qs(this,"hotMenu",null),qs(this,"hotSubMenus",{}),qs(this,"parentMenu",void 0),qs(this,"menuItems",null),qs(this,"origOutsideClickDeselects",null),F0(this,yf,void 0),F0(this,Nw,void 0),F0(this,Dw,void 0),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:_H,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new xhe(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.parentMenu.runLocalHooks("afterSelectionChange",...s)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"touchstart",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=wd(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return bc(yf,this)}getKeyboardShortcutsCtrl(){return bc(Nw,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=ET(a=>this.openSubMenu(a),300),n=this.options.minWidth||_H;let i=!1,o=Vl(this.menuItems,a=>(a.key===km&&(i=!0),Ihe(a,this.hot)));if(o.length<1&&!i)o.push(iB()[km]);else if(o.length===0)return;o=khe(o,Ze);let s=!1;const r={data:o,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Te(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:Fhe(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{bc(yf,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},rowHeights:a=>o[a].name===Ze?1:void 0,afterOnCellContextMenu:a=>{a.preventDefault(),cA()&&s&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,c,u,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(s=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!cA()||!bu(a))&&s&&this.hasSelectedItem()&&(xl()||HV()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,r),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),V0(yf,this,Dhe(this.hotMenu)),V0(Nw,this,$he(this)),bc(Nw,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(bc(yf,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const i=this.parentMenu.hotMenu.getCell(n[0],0);$e(i,[zo(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!Mhe(n))return!1;const i=this.hotMenu.getSourceDataAtRow(e),o=new Fd(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(n.getBoundingClientRect()),this.hotSubMenus[i.key]=o,this.hot.getSettings().ariaTags&&$e(n,[zo(!0)]),o}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),i=this.hotSubMenus[n.key];if(i){i.destroy(),delete this.hotSubMenus[n.key];const o=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&$e(o,[zo(!1)])}}closeAllSubMenus(){F(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const i=this.hot.getSelectedRange(),o=i?Ehe(i):[];this.runLocalHooks("executeCommand",n.key,o,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,o,e)}isCommandPassive(e){return e.isCommand===!1||mx(e)||mv(e,this.hot)||gx(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const{wtTable:e}=this.hotMenu.view._wt,n=this.hotMenu.getSettings().data,i=e.hider.style,o=e.holder.style,s=parseInt(i.width,10),r=Li(n,(a,l,c)=>{const h=this.hotMenu.getCell(c,0)?Pn(this.hotMenu.getCell(c,0)):0;return a+(l.name===Ze?1:h)},0);o.width=`${s+3}px`,o.height=`${r+3}px`,i.height=o.height}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let i=e,o;return i&&(Yt(i)&&(i=i.call(this.hot),i===null||Gt(i)?i="":i=i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i=`${this.options.className}Sub_${i}`,o=n.querySelector(`.${this.options.className}.${i}`)),o||(o=n.createElement("div"),ue(o,`htMenu ${this.options.className}`),i&&ue(o,i),this.options.container.appendChild(o)),o}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&$e(this.hotMenu.rootElement,[yee(),Hd(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!uu(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!uu(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&Fe(e.target,"htCore")&&uu(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}kt(Fd,ci);function jhe(t,e){Uhe(t,e),e.add(t)}function Uhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W0(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lw(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ug="contextMenu",Ghe=70,RH=ug;Ee.getSingleton().register("afterContextMenuDefaultOptions");Ee.getSingleton().register("beforeContextMenuShow");Ee.getSingleton().register("afterContextMenuShow");Ee.getSingleton().register("afterContextMenuHide");Ee.getSingleton().register("afterContextMenuExecute");var Cf=new WeakSet;class nS extends _t{constructor(){super(...arguments),jhe(this,Cf),W0(this,"commandExecutor",new rB(this.hot)),W0(this,"itemsFactory",null),W0(this,"menu",null)}static get PLUGIN_KEY(){return ug}static get PLUGIN_PRIORITY(){return Ghe}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[JC,QC,Ze,Mp,Pp,Ze,ZC,Ip,Ze,eS,KC,Ze,Op,Ze,Ho]}isEnabled(){return!!this.hot.getSettings()[ug]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[ug];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new Fd(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>Lw(Cf,this,qhe).call(this)),this.menu.addLocalHook("afterOpen",()=>Lw(Cf,this,Xhe).call(this)),this.menu.addLocalHook("afterClose",()=>Lw(Cf,this,Zhe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e.executeCommand.call(e,...o)}),this.addHook("afterOnCellContextMenu",i=>Lw(Cf,this,Khe).call(this,i)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),i=YC(this.menu.container,this.hot.rootDocument);this.open({left:n.left+i.left,top:n.top+i.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:RH})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(RH)}open(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};if((n=this.menu)!==null&&n!==void 0&&n.isOpened())return;this.prepareMenuItems(),this.menu.open(),this.menu.tableBorderWidth>0||(i.below+=1,i.right+=1,i.above-=1,i.left-=1),Qe(i,(s,r)=>{this.menu.setOffset(r,s)}),this.menu.setPosition(e)}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.commandExecutor.execute(e,...i)}prepareMenuItems(){this.itemsFactory=new aB(this.hot,nS.DEFAULT_ITEMS);const e=this.hot.getSettings()[ug],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const i=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",i),this.menu.setMenuItems(i),F(i,o=>this.commandExecutor.registerCommand(o.key,o))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function Khe(t){const e=this.hot.getSettings(),n=e.rowHeaders,i=e.colHeaders;function o(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const s=t.target;if(this.close(),Fe(s,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||i)&&!o(s)&&!(Fe(s,"current")&&Fe(s,"wtBorder"))))return;const r=YC(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+r.top,left:t.clientX+r.left})}function qhe(){this.hot.runHooks("beforeContextMenuShow",this)}function Xhe(){this.hot.runHooks("afterContextMenuShow",this)}function Zhe(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}nS.SEPARATOR={name:Ze};const xH=/^(\r\n|\n\r|\r|\n)/,Jhe=/^[^\t\r\n]+/,EH=/^\t/;function Qhe(t){const e=[[""]];if(t.length===0)return e;let n=0,i=0,o;for(;t.length>0&&o!==t.length;)if(o=t.length,t.match(EH))t=t.replace(EH,""),n+=1,e[i][n]="";else if(t.match(xH))t=t.replace(xH,""),n=0,i+=1,e[i]=[""];else{let s="";if(t.startsWith('"')){let r=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(r+=1),s+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&r%2===0)&&(a=!1)}s=s.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const r=t.match(Jhe);s=r?r[0]:"",t=t.slice(s.length)}e[i][n]=s}return e}function Dg(t){let e,n,i,o,s="",r;for(e=0,n=t.length;e<n;e+=1){for(o=t[e].length,i=0;i<o;i+=1)i>0&&(s+="	"),r=t[e][i],typeof r=="string"?r.indexOf(`
`)>-1?s+=`"${r.replace(/"/g,'""')}"`:s+=r:r==null?s+="":s+=r;e!==n-1&&(s+=`
`)}return s}function ede(t){return{key:"copy",name(){return this.getTranslatedPhrase(VT)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function tde(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?Ot(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(jT,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function nde(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?Ot(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(BT,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function ide(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?Ot(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(WT,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function ode(t){return{key:"cut",name(){return this.getTranslatedPhrase(UT)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class sde{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class rde{constructor(){this.clipboardData=new sde}preventDefault(){}}function ade(t,e){fB(t,e),e.add(t)}function lh(t,e,n){fB(t,e),e.set(t,n)}function fB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pi(t,e){return t.get(Yh(t,e))}function ch(t,e,n){return t.set(Yh(t,e),n),n}function Yh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Xa=new WeakMap,B0=new WeakMap,Sf=new WeakMap,px=new WeakMap,wx=new WeakMap,_f=new WeakMap,Rf=new WeakSet;class lde{constructor(e){let{countRows:n,countColumns:i,rowsLimit:o,columnsLimit:s,countColumnHeaders:r}=e;ade(this,Rf),lh(this,Xa,void 0),lh(this,B0,void 0),lh(this,Sf,void 0),lh(this,px,void 0),lh(this,wx,void 0),lh(this,_f,void 0),ch(B0,this,n),ch(Sf,this,i),ch(px,this,o),ch(wx,this,s),ch(_f,this,r)}setSelectedRange(e){ch(Xa,this,e)}getCellsRange(){if(Pi(B0,this).call(this)===0||Pi(Sf,this).call(this)===0)return null;const{row:e,col:n}=Pi(Xa,this).getTopStartCorner(),{row:i,col:o}=Pi(Xa,this).getBottomEndCorner(),s=Yh(Rf,this,cde).call(this,e,i),r=Yh(Rf,this,j0).call(this,n,o);return{isRangeTrimmed:i!==s||o!==r,startRow:e,startCol:n,endRow:s,endCol:r}}getMostBottomColumnHeadersRange(){if(Pi(Sf,this).call(this)===0||Pi(_f,this).call(this)===0)return null;const{col:e}=Pi(Xa,this).getTopStartCorner(),{col:n}=Pi(Xa,this).getBottomEndCorner(),i=Yh(Rf,this,j0).call(this,e,n);return{isRangeTrimmed:n!==i,startRow:-1,startCol:e,endRow:-1,endCol:i}}getAllColumnHeadersRange(){if(Pi(Sf,this).call(this)===0||Pi(_f,this).call(this)===0)return null;const{col:e}=Pi(Xa,this).getTopStartCorner(),{col:n}=Pi(Xa,this).getBottomEndCorner(),i=Yh(Rf,this,j0).call(this,e,n);return{isRangeTrimmed:n!==i,startRow:-Pi(_f,this).call(this),startCol:e,endRow:-1,endCol:i}}}function j0(t,e){return Math.min(e,Math.max(t+Pi(wx,this).call(this)-1,t))}function cde(t,e){return Math.min(e,Math.max(t+Pi(px,this).call(this)-1,t))}function gB(t){const e=[],n=[];return F(t,i=>{const o=Math.min(i.startRow,i.endRow),s=Math.max(i.startRow,i.endRow);Oe(o,s,l=>{e.indexOf(l)===-1&&e.push(l)});const r=Math.min(i.startCol,i.endCol),a=Math.max(i.startCol,i.endCol);Oe(r,a,l=>{n.indexOf(l)===-1&&n.push(l)})}),{rows:e,columns:n}}var ude=Nr,hde=Mu,dde=Gl,fde=dde("match"),gde=function(t){var e;return ude(t)&&((e=t[fde])!==void 0?!!e:hde(t)==="RegExp")},mde=Fa,pde=function(){var t=mde(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},wde=Ds,bde=Dr,vde=mC,yde=pde,TH=RegExp.prototype,Cde=function(t){var e=t.flags;return e===void 0&&!("flags"in TH)&&!bde(t,"flags")&&vde(TH,t)?wde(yde,t):e},OM=kn,Sde=lp,_de=Math.floor,U0=OM("".charAt),Rde=OM("".replace),z0=OM("".slice),xde=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ede=/\$([$&'`]|\d{1,2})/g,Tde=function(t,e,n,i,o,s){var r=n+t.length,a=i.length,l=Ede;return o!==void 0&&(o=Sde(o),l=xde),Rde(s,l,function(c,u){var h;switch(U0(u,0)){case"$":return"$";case"&":return t;case"`":return z0(e,0,n);case"'":return z0(e,r);case"<":h=o[z0(u,1,-1)];break;default:var d=+u;if(d===0)return c;if(d>a){var f=_de(d/10);return f===0?c:f<=a?i[f-1]===void 0?U0(u,1):i[f-1]+U0(u,1):c}h=i[d-1]}return h===void 0?"":h})},Mde=li,Pde=Ds,IM=kn,MH=rp,Ode=ai,Ide=fC,Ade=gde,xf=yC,Hde=bC,kde=Cde,Nde=Tde,Dde=Gl,Lde=Dde("replace"),$de=TypeError,Y0=IM("".indexOf);IM("".replace);var PH=IM("".slice),Fde=Math.max;Mde({target:"String",proto:!0},{replaceAll:function(e,n){var i=MH(this),o,s,r,a,l,c,u,h,d,f,g=0,m="";if(!Ide(e)){if(o=Ade(e),o&&(s=xf(MH(kde(e))),!~Y0(s,"g")))throw new $de("`.replaceAll` does not allow non-global regexes");if(r=Hde(e,Lde),r)return Pde(r,e,i,n)}for(a=xf(i),l=xf(e),c=Ode(n),c||(n=xf(n)),u=l.length,h=Fde(1,u),d=Y0(a,l);d!==-1;)f=c?xf(n(l,d,a)):Nde(l,a,d,[],void 0,n),m+=PH(a,g,d)+f,g=d+u,d=d+h>a.length?-1:Y0(a,l,d+h);return g<a.length&&(m+=PH(a,g)),m}});const mB={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},Vde=new RegExp(Object.keys(mB).map(t=>`(${t})`).join("|"),"gi");function Wde(t){return(t&&t.nodeName||"")==="TABLE"}function OH(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),i=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],o=t.getData(...i),s=o.length,r=s>0?o[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],u=n?1:0,h=e?1:0;for(let d=0;d<s;d+=1){const f=e&&d===0,g=[];for(let w=0;w<r;w+=1){const b=!f&&n&&w===0;let C="";if(f)C=`<th>${t.getColHeader(w-u)}</th>`;else if(b)C=`<th>${t.getRowHeader(d-h)}</th>`;else{const y=o[d][w],{hidden:E,rowspan:T,colspan:N}=t.getCellMeta(d-h,w-u);if(!E){const D=[];if(T&&D.push(`rowspan="${T}"`),N&&D.push(`colspan="${N}"`),_n(y))C=`<td ${D.join(" ")}></td>`;else{const B=y.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");C=`<td ${D.join(" ")}>${B}</td>`}}}g.push(C)}const m=["<tr>",...g,"</tr>"].join("");f?l.splice(1,0,m):c.splice(-1,0,m)}return a.splice(1,0,l.join(""),c.join("")),a.join("")}function IH(t){const e=t.length,n=["<table>"];for(let i=0;i<e;i+=1){const o=t[i],s=o.length,r=[];i===0&&n.push("<tbody>");for(let a=0;a<s;a+=1){const l=o[a],c=_n(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,u=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(u.length-1)} </span>`).replace(/\t/gi,"&#9;");r.push(`<td>${c}</td>`)}n.push("<tr>",...r,"</tr>"),i+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function Bde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},i=e.createDocumentFragment(),o=e.createElement("div");i.appendChild(o);let s=t;if(typeof s=="string"){const y=s.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,E=>{const T=E.match(/<td\b[^>]*?>/g)[0],N=/<p.*?>/g,D=E.substring(T.length,E.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(N,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${T}${D}</td>`});o.insertAdjacentHTML("afterbegin",`${y}`),s=o.querySelector("table")}if(!s||!Wde(s))return;const r=o.querySelector('meta[name$="enerator"]'),a=s.querySelector("tbody th")!==null,l=s.querySelector("tr"),c=l?Array.from(l.cells).reduce((y,E)=>y+E.colSpan,0)-(a?1:0):0,u=s.tFoot&&Array.from(s.tFoot.rows)||[],h=[];let d=!1,f=0,g=0;if(s.tHead){const y=Array.from(s.tHead.rows).filter(E=>{const T=E.querySelector("td")!==null;return T&&h.push(E),!T});f=y.length,d=f>0,f>1?n.nestedHeaders=Array.from(y).reduce((E,T)=>{const N=Array.from(T.cells).reduce((D,B,K)=>{if(a&&K===0)return D;const{colSpan:q,innerHTML:J}=B,ee=q>1?{label:J,colspan:q}:J;return D.push(ee),D},[]);return E.push(N),E},[]):d&&(n.colHeaders=Array.from(y[0].children).reduce((E,T,N)=>(a&&N===0||E.push(T.innerHTML),E),[]))}h.length&&(n.fixedRowsTop=h.length),u.length&&(n.fixedRowsBottom=u.length);const m=[...h,...Array.from(s.tBodies).reduce((y,E)=>(y.push(...Array.from(E.rows)),y),[]),...u];g=m.length;const w=new Array(g);for(let y=0;y<g;y++)w[y]=new Array(c);const b=[],C=[];for(let y=0;y<g;y++){const E=m[y],T=Array.from(E.cells),N=T.length;for(let D=0;D<N;D++){const B=T[D],{nodeName:K,innerHTML:q,rowSpan:J,colSpan:ee}=B,re=w[y].findIndex(me=>me===void 0);if(K==="TD"){if(J>1||ee>1){for(let de=y;de<y+J;de++)if(de<g)for(let ae=re;ae<re+ee;ae++)w[de][ae]=null;const pe=B.getAttribute("style");pe&&pe.includes("mso-ignore:colspan")||b.push({col:re,row:y,rowspan:J,colspan:ee})}let me="";r&&/excel/gi.test(r.content)?me=q.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):me=q.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),w[y][re]=me.replace(Vde,pe=>mB[pe])}else C.push(q)}}return b.length&&(n.mergeCells=b),C.length&&(n.rowHeaders=C),w.length&&(n.data=w),n}function jde(t,e){pB(t,e),e.add(t)}function Za(t,e,n){pB(t,e),e.set(t,n)}function pB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ef(t,e,n){return(e=Ude(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=zde(t,"string");return typeof e=="symbol"?e:e+""}function zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xi(t,e){return t.get(Zi(t,e))}function fs(t,e,n){return t.set(Zi(t,e),n),n}function Zi(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("afterCopyLimit");Ee.getSingleton().register("modifyCopyableRange");Ee.getSingleton().register("beforeCut");Ee.getSingleton().register("afterCut");Ee.getSingleton().register("beforePaste");Ee.getSingleton().register("afterPaste");Ee.getSingleton().register("beforeCopy");Ee.getSingleton().register("afterCopy");const $w="copyPaste",Yde=80,Gde=["fragmentSelection"],AH=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var bx=new WeakMap,vx=new WeakMap,yx=new WeakMap,uh=new WeakMap,Fw=new WeakMap,Vw=new WeakMap,hh=new WeakMap,yy=new WeakMap,co=new WeakSet;class Kde extends _t{constructor(){super(...arguments),jde(this,co),Ef(this,"columnsLimit",1/0),Ef(this,"rowsLimit",1/0),Ef(this,"pasteMode","overwrite"),Ef(this,"uiContainer",this.hot.rootDocument.body),Za(this,bx,!1),Za(this,vx,!1),Za(this,yx,!1),Za(this,uh,"cells-only"),Za(this,Fw,!1),Za(this,Vw,!1),Za(this,hh,new lde({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),Za(this,yy,!1),Ef(this,"copyableRanges",[])}static get PLUGIN_KEY(){return $w}static get SETTING_KEYS(){return[$w,...Gde]}static get PLUGIN_PRIORITY(){return Yde}isEnabled(){return!!this.hot.getSettings()[$w]}enablePlugin(){var e=this;if(this.enabled)return;const{[$w]:n}=this.hot.getSettings();if(typeof n=="object"){var i,o;this.pasteMode=(i=n.pasteMode)!==null&&i!==void 0?i:this.pasteMode,this.rowsLimit=isNaN(n.rowsLimit)?this.rowsLimit:n.rowsLimit,this.columnsLimit=isNaN(n.columnsLimit)?this.columnsLimit:n.columnsLimit,fs(bx,this,!!n.copyColumnHeaders),fs(vx,this,!!n.copyColumnGroupHeaders),fs(yx,this,!!n.copyColumnHeadersOnly),this.uiContainer=(o=n.uiContainer)!==null&&o!==void 0?o:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",s=>Zi(co,this,Zde).call(this,s)),this.addHook("afterSelection",function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return Zi(co,e,Jde).call(e,...r)}),this.addHook("afterSelectionEnd",()=>Zi(co,this,Qde).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),IV()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return Zi(co,e,efe).call(e,...r)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return Zi(co,e,tfe).call(e,...r)}),this.addHook("afterSelection",()=>Zi(co,this,nfe).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";fs(uh,this,e),fs(Fw,this,!0),Zi(co,this,HH).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){fs(Vw,this,!0),Zi(co,this,HH).call(this,"cut")}getRangedCopyableData(e){return Dg(this.getRangedData(e))}getRangedData(e){const n=[],{rows:i,columns:o}=gB(e);return F(i,s=>{const r=[];F(o,a=>{s<0?r.push(this.hot.getColHeader(a,s)):r.push(this.hot.getCopyableData(s,a))}),n.push(r)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const i=new rde;e&&i.clipboardData.setData("text/plain",e),n&&i.clipboardData.setData("text/html",n),this.onPaste(i)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}Xi(hh,this).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);Xi(uh,this)==="column-headers-only"?n.set("headers",Xi(hh,this).getMostBottomColumnHeadersRange()):(Xi(uh,this)==="with-column-headers"?n.set("headers",Xi(hh,this).getMostBottomColumnHeadersRange()):Xi(uh,this)==="with-column-group-headers"&&n.set("headers",Xi(hh,this).getAllColumnHeadersRange()),n.set("cells",Xi(hh,this).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(o=>o!==null).map(o=>{let{startRow:s,startCol:r,endRow:a,endCol:l}=o;return{startRow:s,startCol:r,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const i=n.get("cells");if(i!==null&&i.isRangeTrimmed){const{startRow:o,startCol:s,endRow:r,endCol:a}=i;this.hot.runHooks("afterCopyLimit",r-o+1,a-s+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const i=e.length,o=e[0].length,s=[],{row:r,col:a}=n.getTopStartCorner(),{row:l,col:c}=n.getBottomEndCorner();let u=r,h=a,d=r,f=a;for(;s.length<i||u<=l;){const{skipRowOnPaste:g,visualRow:m}=this.hot.getCellMeta(u,a);if(u=m+1,g===!0)continue;d=m,h=a;const w=[],b=s.length%i;for(;w.length<o||h<=c;){const{skipColumnOnPaste:C,visualCol:y}=this.hot.getCellMeta(r,h);if(h=y+1,C===!0)continue;f=y;const E=w.length%o;w.push(e[b][E])}s.push(w)}return fs(yy,this,!0),this.hot.populateFromArray(r,a,s,void 0,void 0,"CopyPaste.paste",this.pasteMode),[r,a,d,f]}onCopy(e){var n;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!Xi(Fw,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),fs(Fw,this,!1);const s=this.getRangedData(this.copyableRanges),r=Zi(co,this,qde).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",s,this.copyableRanges,r)){const l=Dg(s);if(e&&e.clipboardData){const c=IH(s,this.hot.rootDocument);e.clipboardData.setData("text/plain",l),e.clipboardData.setData("text/html",[AH,c].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",l);this.hot.runHooks("afterCopy",s,this.copyableRanges,r)}fs(uh,this,"cells-only")}onCut(e){var n;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!Xi(Vw,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),fs(Vw,this,!1);const s=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",s,this.copyableRanges)){const a=Dg(s);if(e&&e.clipboardData){const l=IH(s,this.hot.rootDocument);e.clipboardData.setData("text/plain",a),e.clipboardData.setData("text/html",[AH,l].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",a);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",s,this.copyableRanges)}}onPaste(e){var n;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body))return;e.preventDefault();let s;if(e&&typeof e.clipboardData<"u"){const u=fT(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});u&&/(<table)|(<TABLE)/g.test(u)?s=Bde(u,this.hot.rootDocument).data:s=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(s=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof s=="string"&&(s=Qhe(s)),s===void 0||s&&s.length===0||this.hot.runHooks("beforePaste",s,this.copyableRanges)===!1)return;const[r,a,l,c]=this.populateValues(s);this.hot.selectCell(r,a,Math.min(this.hot.countRows()-1,l),Math.min(this.hot.countCols()-1,c)),this.hot.runHooks("afterPaste",s,this.copyableRanges)}destroy(){super.destroy()}}function HH(t){if(IV()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:i}=e.highlight,o=this.hot.getCell(n,i,!0);o&&Zee(o,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function qde(t){const{rows:e}=gB(t);let n=0;for(let i=0;i<e.length&&!(e[i]>=0);i++)n+=1;return{columnHeadersCount:n}}function Xde(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,i=this.hot.getCell(e,n,!0);i&&TV(i)}}}function wB(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,i=this.hot.getCell(e,n,!0);i!=null&&i.hasAttribute("contenteditable")&&MV(i)}}}function Zde(t){t.items.push({name:"---------"},ede(this)),Xi(bx,this)&&t.items.push(ide(this)),Xi(vx,this)&&t.items.push(nde(this)),Xi(yx,this)&&t.items.push(tde(this)),t.items.push(ode(this))}function Jde(t,e,n,i,o){Xi(yy,this)&&(o.value=!0),fs(yy,this,!1)}function Qde(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function efe(){Zi(co,this,wB).call(this)}function tfe(){Zi(co,this,Xde).call(this)}function nfe(){Zi(co,this,wB).call(this)}function bB(t,e){return`border_row${t}col${e}`}function hg(){return{width:1,color:"#000"}}function xa(){return{hide:!0}}function ife(){return{width:1,color:"#000",cornerVisible:!1}}function G0(t){if(Te(t.start)||Te(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(Te(t.end)||Te(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function Tf(t){return Te(t.start)&&(t.left=t.start),Te(t.end)&&(t.right=t.end),t}function K0(t,e){return{id:bB(t,e),border:ife(),row:t,col:e,top:xa(),bottom:xa(),start:xa(),end:xa()}}function ofe(t,e){return pn(e,"border")&&e.border&&(t.border=e.border),pn(e,"top")&&Te(e.top)&&(e.top?(Je(e.top)||(e.top=hg()),t.top=e.top):(e.top=xa(),t.top=e.top)),pn(e,"bottom")&&Te(e.bottom)&&(e.bottom?(Je(e.bottom)||(e.bottom=hg()),t.bottom=e.bottom):(e.bottom=xa(),t.bottom=e.bottom)),pn(e,"start")&&Te(e.start)&&(e.start?(Je(e.start)||(e.start=hg()),t.start=e.start):(e.start=xa(),t.start=e.start)),pn(e,"end")&&Te(e.end)&&(e.end?(Je(e.end)||(e.end=hg()),t.end=e.end):(e.end=xa(),t.end=e.end)),t}function Da(t,e){let n=!1;return F(t.getSelectedRange(),i=>{i.forAll((o,s)=>{if(o<0||s<0)return;const r=t.getCellMeta(o,s).borders;if(r)if(e){if(!pn(r[e],"hide")||r[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function iS(t){return`<span class="selected">✓</span>${t}`}function sfe(t){return t.some(e=>Te(e.left)||Te(e.right))}function rfe(t){return t.some(e=>Te(e.start)||Te(e.end))}const afe=new Map([["left","start"],["right","end"]]);function lfe(t){var e;return(e=afe.get(t))!==null&&e!==void 0?e:t}function cfe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(i1);return Da(this,"bottom")&&(e=iS(e)),e},callback(e,n){const i=Da(this,"bottom");t.prepareBorder(n,"bottom",i)}}}function ufe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(o1);return Da(this,e)&&(n=iS(n)),n},callback(n,i){const o=Da(this,e);t.prepareBorder(i,e,o)}}}function hfe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(s1)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!Da(this)}}}function dfe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(n1);return Da(this,e)&&(n=iS(n)),n},callback(n,i){const o=Da(this,e);t.prepareBorder(i,e,o)}}}function ffe(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(t1);return Da(this,"top")&&(e=iS(e)),e},callback(e,n){const i=Da(this,"top");t.prepareBorder(n,"top",i)}}}function gfe(t,e,n){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ua extends EW{constructor(e,n){super(e,null),gfe(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:i}=e,o=this.getNearestNotHiddenCoords(n,1),s=this.getNearestNotHiddenCoords(i,-1);return o===null||s===null?null:((o.row>s.row||o.col>s.col)&&(o=n,s=i),this.settings.createCellRange(o,o,s))}getNearestNotHiddenCoords(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const o=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(o===null)return null;const s=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,i);return s===null?null:this.settings.createCellCoords(o,s)}getNearestNotHiddenIndex(e,n,i){return n<0?n:e.getNearestNotHiddenIndex(n,i)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),i=e.getVerticalDirection()==="N-S"?1:-1,o=e.getHorizontalDirection()==="W-E"?1:-1,s=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let r=null;if((s===null||s.col===null||s.row===null)&&(r=this.getNearestNotHiddenCoords(n,i,o)),r!==null&&e.overlaps(r)){const a=e.highlight.clone();if(a.row>=0&&(a.row=r.row),a.col>=0&&(a.col=r.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&s!==null&&r===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const i=this.settings.visualToRenderableCoords(e),o=this.settings.visualToRenderableCoords(n);return i.row===null||i.col===null||o.row===null||o.col===null?null:this.settings.createCellRange(i,i,o)}}function q0(t){let{activeHeaderClassName:e,...n}=t;return new Ua({className:e,...n,selectionType:TW})}function wfe(t){let{areaCornerVisible:e,...n}=t;return new Ua({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:uM})}function bfe(t){let{...e}=t;return new Ua({className:"highlight",...e,selectionType:uM})}function vfe(t){let{columnClassName:e,...n}=t;return new Ua({className:e,...n,selectionType:hae})}function yfe(t){let{cellCornerVisible:e,...n}=t;return new Ua({className:"current",headerAttributes:[mT()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:hM})}function Cfe(t){let{border:e,visualCellRange:n,...i}=t;return new Ua({...e,...i,selectionType:dae},n)}function Sfe(t){let{...e}=t;return new Ua({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:cae})}function kH(t){let{headerClassName:e,...n}=t;return new Ua({className:e,...n,selectionType:cM})}function _fe(t){let{rowClassName:e,...n}=t;return new Ua({className:e,...n,selectionType:uae})}function Rfe(t,e){xfe(t,e),e.add(t)}function xfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ji(t,e,n){return(e=Efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Xs=new WeakSet;class Mfe{constructor(e){Rfe(this,Xs),ji(this,"options",void 0),ji(this,"layerLevel",0),ji(this,"focus",void 0),ji(this,"fill",void 0),ji(this,"layeredAreas",new Map),ji(this,"areas",new Map),ji(this,"rowHeaders",new Map),ji(this,"columnHeaders",new Map),ji(this,"activeRowHeaders",new Map),ji(this,"activeColumnHeaders",new Map),ji(this,"activeCornerHeaders",new Map),ji(this,"rowHighlights",new Map),ji(this,"columnHighlights",new Map),ji(this,"customSelections",[]),this.options=e,this.focus=yfe(e),this.fill=Sfe(e)}isEnabledFor(e,n){let i=e;e===hM&&(i="current");let o=this.options.disabledCellSelection(n.row,n.col);return typeof o=="string"&&(o=[o]),o===!1||Array.isArray(o)&&!o.includes(i)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return Qr(Xs,this,ea).call(this,this.layeredAreas,wfe)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return Qr(Xs,this,ea).call(this,this.areas,bfe)}getAreas(){return[...this.areas.values()]}createRowHeader(){return Qr(Xs,this,ea).call(this,this.rowHeaders,kH)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return Qr(Xs,this,ea).call(this,this.columnHeaders,kH)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return Qr(Xs,this,ea).call(this,this.activeRowHeaders,q0)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return Qr(Xs,this,ea).call(this,this.activeColumnHeaders,q0)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return Qr(Xs,this,ea).call(this,this.activeCornerHeaders,q0)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return Qr(Xs,this,ea).call(this,this.rowHighlights,_fe)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return Qr(Xs,this,ea).call(this,this.columnHighlights,vfe)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(Cfe({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),F(this.areas.values(),e=>void e.clear()),F(this.layeredAreas.values(),e=>void e.clear()),F(this.rowHeaders.values(),e=>void e.clear()),F(this.columnHeaders.values(),e=>void e.clear()),F(this.activeRowHeaders.values(),e=>void e.clear()),F(this.activeColumnHeaders.values(),e=>void e.clear()),F(this.activeCornerHeaders.values(),e=>void e.clear()),F(this.rowHighlights.values(),e=>void e.clear()),F(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function ea(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const i=e({layerLevel:n,...this.options});return t.set(n,i),i}function NH(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ife{constructor(e){NH(this,"ranges",[]),NH(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}function Afe(t,e){vB(t,e),e.add(t)}function X0(t,e,n){vB(t,e),e.set(t,n)}function vB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dt(t,e){return t.get(An(t,e))}function Ww(t,e,n){return t.set(An(t,e),n),n}function An(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Bw=new WeakMap,jt=new WeakMap,Ts=new WeakMap,Fn=new WeakSet;class Cx{constructor(e,n){Afe(this,Fn),X0(this,Bw,void 0),X0(this,jt,void 0),X0(this,Ts,{x:0,y:0}),Ww(Bw,this,e),Ww(jt,this,n)}transformStart(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=dt(jt,this).createCellCoords(e,n);let s=dt(Bw,this).current().highlight;const r=dt(jt,this).visualToRenderableCoords(s);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",o),r.row!==null&&r.col!==null){const{width:c,height:u}=An(Fn,this,yB).call(this),{row:h,col:d}=An(Fn,this,LH).call(this,s),f=dt(jt,this).fixedRowsBottom(),g=dt(jt,this).minSpareRows(),m=dt(jt,this).minSpareCols(),w=dt(jt,this).autoWrapRow(),b=dt(jt,this).autoWrapCol(),C=dt(jt,this).createCellCoords(h+o.row,d+o.col);if(C.row>=u){const T=Rs(i&&g>0&&f===0),N=C.col+1,D=dt(jt,this).createCellCoords(C.row-u,N>=c?N-c:N);this.runLocalHooks("beforeColumnWrap",T,An(Fn,this,dh).call(this,D),N>=c),T.value?this.runLocalHooks("insertRowRequire",dt(jt,this).countRenderableRows()):b&&C.assign(D)}else if(C.row<0){const T=Rs(b),N=C.col-1,D=dt(jt,this).createCellCoords(u+C.row,N<0?c+N:N);this.runLocalHooks("beforeColumnWrap",T,An(Fn,this,dh).call(this,D),N<0),b&&C.assign(D)}if(C.col>=c){const T=Rs(i&&m>0),N=C.row+1,D=dt(jt,this).createCellCoords(N>=u?N-u:N,C.col-c);this.runLocalHooks("beforeRowWrap",T,An(Fn,this,dh).call(this,D),N>=u),T.value?this.runLocalHooks("insertColRequire",dt(jt,this).countRenderableColumns()):w&&C.assign(D)}else if(C.col<0){const T=Rs(w),N=C.row-1,D=dt(jt,this).createCellCoords(N<0?u+N:N,c+C.col);this.runLocalHooks("beforeRowWrap",T,An(Fn,this,dh).call(this,D),N<0),w&&C.assign(D)}const{rowDir:y,colDir:E}=An(Fn,this,DH).call(this,C);a=y,l=E,s=An(Fn,this,dh).call(this,C)}return this.runLocalHooks("afterTransformStart",s,a,l),s}transformEnd(e,n){const i=dt(jt,this).createCellCoords(e,n),o=dt(Bw,this).current(),s=dt(jt,this).visualToRenderableCoords(o.highlight),r=An(Fn,this,Z0).call(this,o.to.row,o.from.row),a=An(Fn,this,J0).call(this,o.to.col,o.from.col),l=o.to.clone();let c=0,u=0;if(this.runLocalHooks("beforeTransformEnd",i),s.row!==null&&s.col!==null&&r!==null&&a!==null){const{row:h,col:d}=An(Fn,this,LH).call(this,o.highlight),f=dt(jt,this).createCellCoords(r+i.row,a+i.col),g=o.getTopStartCorner(),m=o.getTopEndCorner(),w=o.getBottomEndCorner();if(i.col<0&&a>=d&&f.col<d){const E=f.col-d;f.col=An(Fn,this,J0).call(this,g.col,m.col)+E}else if(i.col>0&&a<=d&&f.col>d){const E=An(Fn,this,J0).call(this,m.col,g.col),T=Math.max(f.col-E,1);f.col=E+T}if(i.row<0&&r>=h&&f.row<h){const E=f.row-h;f.row=An(Fn,this,Z0).call(this,g.row,w.row)+E}else if(i.row>0&&r<=h&&f.row>h){const E=An(Fn,this,Z0).call(this,w.row,g.row),T=Math.max(f.row-E,1);f.row=E+T}const{rowDir:b,colDir:C}=An(Fn,this,DH).call(this,f);c=b,u=C;const y=An(Fn,this,dh).call(this,f);i.row===0&&i.col!==0?l.col=y.col:i.row!==0&&i.col===0?l.row=y.row:(l.row=y.row,l.col=y.col)}return this.runLocalHooks("afterTransformEnd",l,c,u),l}setOffsetSize(e){let{x:n,y:i}=e;Ww(Ts,this,{x:n,y:i})}resetOffsetSize(){Ww(Ts,this,{x:0,y:0})}}function DH(t){const{width:e,height:n}=An(Fn,this,yB).call(this);let i=0,o=0;return t.row<0?(i=-1,t.row=0):t.row>0&&t.row>=n&&(i=1,t.row=n-1),t.col<0?(o=-1,t.col=0):t.col>0&&t.col>=e&&(o=1,t.col=e-1),{rowDir:i,colDir:o}}function yB(){return{width:dt(Ts,this).x+dt(jt,this).countRenderableColumns(),height:dt(Ts,this).y+dt(jt,this).countRenderableRows()}}function Z0(t,e){const n=dt(jt,this).findFirstNonHiddenRenderableRow(t,e);return n===null?null:dt(Ts,this).y+n}function J0(t,e){const n=dt(jt,this).findFirstNonHiddenRenderableColumn(t,e);return n===null?null:dt(Ts,this).x+n}function LH(t){const{row:e,col:n}=dt(jt,this).visualToRenderableCoords(t);if(e===null||n===null)throw new Error("Renderable coords are not visible.");return dt(jt,this).createCellCoords(dt(Ts,this).y+e,dt(Ts,this).x+n)}function dh(t){const e=t.clone();return e.col=t.col-dt(Ts,this).x,e.row=t.row-dt(Ts,this).y,dt(jt,this).renderableToVisualCoords(e)}kt(Cx,ci);function fh(t,e,n){Hfe(t,e),e.set(t,n)}function Hfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vc(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zt(t,e){return t.get(CB(t,e))}function Zs(t,e,n){return t.set(CB(t,e),n),n}function CB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var fi=new WeakMap,yc=new WeakMap,jw=new WeakMap,Mf=new WeakMap,Uw=new WeakMap,Pf=new WeakMap;class SB{constructor(e,n){var i=this;vc(this,"settings",void 0),vc(this,"tableProps",void 0),vc(this,"inProgress",!1),vc(this,"selectedRange",new Ife((o,s,r)=>this.tableProps.createCellRange(o,s,r))),vc(this,"highlight",void 0),fh(this,fi,void 0),fh(this,yc,void 0),vc(this,"selectedByRowHeader",new Set),vc(this,"selectedByColumnHeader",new Set),fh(this,jw,!1),fh(this,Mf,!1),fh(this,Uw,"unknown"),fh(this,Pf,-1),this.settings=e,this.tableProps=n,this.highlight=new Mfe({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[mT()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(o,s)=>this.tableProps.isDisabledCellSelection(o,s),cellCornerVisible:function(){return i.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return i.isAreaCornerVisible(...arguments)},visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),createCellCoords:(o,s)=>this.tableProps.createCellCoords(o,s),createCellRange:(o,s,r)=>this.tableProps.createCellRange(o,s,r)}),Zs(fi,this,new Cx(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(o,s)=>this.tableProps.createCellCoords(o,s),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),Zs(yc,this,new Cx(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const o=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,o.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const o=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,o.getOuterBottomEndCorner().col)},visualToRenderableCoords:o=>this.tableProps.visualToRenderableCoords(o),renderableToVisualCoords:o=>this.tableProps.renderableToVisualCoords(o),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(o,s)=>this.tableProps.createCellCoords(o,s),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Zt(fi,this).addLocalHook("beforeTransformStart",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("beforeModifyTransformStart",...s)}),Zt(fi,this).addLocalHook("afterTransformStart",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("afterModifyTransformStart",...s)}),Zt(fi,this).addLocalHook("beforeTransformEnd",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("beforeModifyTransformEnd",...s)}),Zt(fi,this).addLocalHook("afterTransformEnd",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("afterModifyTransformEnd",...s)}),Zt(fi,this).addLocalHook("insertRowRequire",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("insertRowRequire",...s)}),Zt(fi,this).addLocalHook("insertColRequire",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("insertColRequire",...s)}),Zt(fi,this).addLocalHook("beforeRowWrap",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("beforeRowWrap",...s)}),Zt(fi,this).addLocalHook("beforeColumnWrap",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("beforeColumnWrap",...s)}),Zt(yc,this).addLocalHook("beforeTransformStart",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("beforeModifyTransformFocus",...s)}),Zt(yc,this).addLocalHook("afterTransformStart",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i.runLocalHooks("afterModifyTransformFocus",...s)})}getSelectedRange(){return this.selectedRange}markSource(e){Zs(Uw,this,e)}markEndSource(){Zs(Uw,this,"unknown")}getSelectionSource(){return Zt(Uw,this)}setExpectedLayers(e){Zs(Pf,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,Zs(Pf,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const s=this.settings.selectionMode==="multiple",r=Gt(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();Zs(jw,this,!1),this.runLocalHooks(`beforeSetRangeStart${i?"Only":""}`,a),(!s||s&&!r&&Gt(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(o.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),i||this.setRangeEnd(e)}setRangeStartOnly(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,i)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),i=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((i>0||o>0)&&(i===0&&n.col<0&&!s||o===0&&n.row<0&&!s))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const r=this.selectedRange.current();if(this.settings.navigableHeaders||r.highlight.normalize(),this.settings.selectionMode==="single")r.setFrom(r.highlight),r.setTo(r.highlight);else{const l=r.getHorizontalDirection(),c=r.getVerticalDirection(),u=this.isMultiple();r.setTo(n),u&&(l!==r.getHorizontalDirection()||r.getWidth()===1&&!r.includes(r.highlight))&&r.from.assign({col:r.highlight.col}),u&&(c!==r.getVerticalDirection()||r.getHeight()===1&&!r.includes(r.highlight))&&r.from.assign({row:r.highlight.row})}i>0&&o>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!r.isSingleHeader())&&r.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();const a=Zt(Pf,this)===-1||this.selectedRange.size()===Zt(Pf,this);this.runLocalHooks("afterSetRangeEnd",e,a)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();const i=this.tableProps.countRows(),o=this.tableProps.countCols();n<this.highlight.layerLevel&&(F(this.highlight.getAreas(),g=>void g.clear()),F(this.highlight.getLayeredAreas(),g=>void g.clear()),F(this.highlight.getRowHeaders(),g=>void g.clear()),F(this.highlight.getColumnHeaders(),g=>void g.clear()),F(this.highlight.getActiveRowHeaders(),g=>void g.clear()),F(this.highlight.getActiveColumnHeaders(),g=>void g.clear()),F(this.highlight.getActiveCornerHeaders(),g=>void g.clear()),F(this.highlight.getRowHighlights(),g=>void g.clear()),F(this.highlight.getColumnHighlights(),g=>void g.clear())),this.highlight.useLayerLevel(n);const s=this.highlight.createArea(),r=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();if(s.clear(),r.clear(),a.clear(),l.clear(),c.clear(),u.clear(),h.clear(),d.clear(),f.clear(),this.highlight.isEnabledFor(uM,e.highlight)&&(this.isMultiple()||n>=1)&&(s.add(e.from).add(e.to).commit(),r.add(e.from).add(e.to).commit(),n===1)){const g=this.selectedRange.previous();this.highlight.useLayerLevel(n-1),this.highlight.createArea().add(g.from).commit().syncWith(g),this.highlight.createLayeredArea().add(g.from).commit().syncWith(g),this.highlight.useLayerLevel(n)}if(this.highlight.isEnabledFor(cM,e.highlight)){if(!e.isSingleHeader()){const w=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),b=this.tableProps.createCellCoords(e.to.row,-1),C=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),y=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(w).commit(),l.add(C).commit(),d.add(w).commit(),f.add(C).commit()):(a.add(w).add(b).commit(),l.add(C).add(y).commit(),d.add(w).add(b).commit(),f.add(C).add(y).commit())}const g=!Zt(Mf,this)&&this.isEntireRowSelected()&&(o>0&&o===e.getWidth()||o===0&&this.isSelectedByRowHeader()),m=!Zt(Mf,this)&&this.isEntireColumnSelected()&&(i>0&&i===e.getHeight()||i===0&&this.isSelectedByColumnHeader());g&&c.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),m&&u.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),g&&m&&h.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;const n=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const i=this.highlight.getFocus();i.clear(),n.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(hM,n.highlight)&&i.add(n.highlight).commit().syncWith(n),this.inProgress||(Zs(jw,this,!0),this.runLocalHooks("afterSetFocus",n.highlight))}transformStart(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders?Zt(fi,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Zt(fi,this).resetOffsetSize(),this.setRangeStart(Zt(fi,this).transformStart(e,n,i))}transformEnd(e,n){this.settings.navigableHeaders?Zt(fi,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Zt(fi,this).resetOffsetSize(),this.setRangeEnd(Zt(fi,this).transformEnd(e,n))}transformFocus(e,n){const i=this.selectedRange.current(),{row:o,col:s}=i.getOuterTopStartCorner(),r=this.tableProps.countRenderableColumnsInRange(0,s-1),a=this.tableProps.countRenderableRowsInRange(0,o-1);i.highlight.isHeader()?Zt(yc,this).setOffsetSize({x:s<0?Math.abs(s):-r,y:o<0?Math.abs(o):-a}):Zt(yc,this).setOffsetSize({x:s<0?0:-r,y:o<0?0:-a});const l=Zt(yc,this).transformStart(e,n);this.setRangeFocus(l.normalize())}shiftRows(e,n){if(!this.isSelected())return;const i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||i.getOuterTopStartCorner().row>=e){const{from:o,to:s,highlight:r}=i,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),u=c?-1:0,h=c?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(Ot(o.row+h,u,a-1),o.col),f=this.tableProps.createCellCoords(Ot(s.row+n,u,a-1),s.col);this.markSource("shift"),r.row>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(Ot(r.row+n,0,a-1),r.col)):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}shiftColumns(e,n){if(!this.isSelected())return;const i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||i.getOuterTopStartCorner().col>=e){const{from:o,to:s,highlight:r}=i,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),u=l?-1:0,h=l?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(o.row,Ot(o.col+h,u,a-1)),f=this.tableProps.createCellCoords(s.row,Ot(s.col+n,u,a-1));this.markSource("shift"),r.col>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(r.row,Ot(r.col+n,0,a-1))):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const e=Rs(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&Zt(jw,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{col:s}=o.getOuterTopStartCorner(),r=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(r>0&&s<0||r===0)&&o.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const i=this.selectedRange.peekByIndex(e);return i?n(i):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=o=>{const{row:s}=o.getOuterTopStartCorner(),r=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(r>0&&s<0||r===0)&&o.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(o=>n(o));const i=this.selectedRange.peekByIndex(e);return i?n(i):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const s=this.tableProps.countRows(),r=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),c=i?-l:0,u=n?-a:0;if(c===0&&u===0&&(s===0||r===0))return;let h=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:d,disableHeadersHighlight:f}=o;Zs(Mf,this,f),d&&Number.isInteger(d==null?void 0:d.row)&&Number.isInteger(d==null?void 0:d.col)&&(h=this.tableProps.createCellCoords(Ot(d.row,c,s-1),Ot(d.col,u,r-1)));const g=this.tableProps.createCellCoords(c,u),m=this.tableProps.createCellCoords(s-1,r-1);this.clear(),this.setRangeStartOnly(g,void 0,h),u<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(m),this.finish(),Zs(Mf,this,!1)}selectCells(e){var n=this;const i=_d(e);if(i===XC)return!1;if(i===qC)throw new Error(Tt`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const o=Hm(i,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),s=this.settings.navigableHeaders,r={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:s?this.tableProps.countRowHeaders():0,countColHeaders:s?this.tableProps.countColHeaders():0},a=!e.some(l=>{const c=o(l),u=c.isValid(r);return!(u&&!c.containsHeaders()||u&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),F(e,l=>{const{from:c,to:u}=o(l);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(u.clone())}),this.finish()),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=typeof e=="string"?this.tableProps.propToCol(e):e,s=typeof n=="string"?this.tableProps.propToCol(n):n,r=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),c=l===0?0:-l,u=this.tableProps.createCellCoords(c,o),h=this.tableProps.createCellCoords(r-1,s),d=this.tableProps.createCellRange(u,u,h).isValid({countRows:r,countCols:a,countRowHeaders:0,countColHeaders:l});if(d){let f=0,g=0;Number.isInteger(i==null?void 0:i.row)&&Number.isInteger(i==null?void 0:i.col)?(f=Ot(i.row,c,r-1),g=Ot(i.col,Math.min(o,s),Math.max(o,s))):(f=Ot(i,c,r-1),g=o);const m=this.tableProps.createCellCoords(f,g),w=l===0?0:Ot(m.row,c,-1),b=r-1,C=this.tableProps.createCellCoords(w,o),y=this.tableProps.createCellCoords(b,s);this.runLocalHooks("beforeSelectColumns",C,y,m),C.row=w,y.row=b,this.setRangeStartOnly(C,void 0,m),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(y),this.runLocalHooks("afterSelectColumns",C,y,m),this.finish()}return d}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=this.tableProps.countRows(),s=this.tableProps.countCols(),r=this.tableProps.countRowHeaders(),a=r===0?0:-r,l=this.tableProps.createCellCoords(e,a),c=this.tableProps.createCellCoords(n,s-1),u=this.tableProps.createCellRange(l,l,c).isValid({countRows:o,countCols:s,countRowHeaders:r,countColHeaders:0});if(u){let h=0,d=0;Number.isInteger(i==null?void 0:i.row)&&Number.isInteger(i==null?void 0:i.col)?(h=Ot(i.row,Math.min(e,n),Math.max(e,n)),d=Ot(i.col,a,s-1)):(h=e,d=Ot(i,a,s-1));const f=this.tableProps.createCellCoords(h,d),g=r===0?0:Ot(f.col,a,-1),m=s-1,w=this.tableProps.createCellCoords(e,g),b=this.tableProps.createCellCoords(n,m);this.runLocalHooks("beforeSelectRows",w,b,f),w.col=g,b.col=m,this.setRangeStartOnly(w,void 0,f),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(b),this.runLocalHooks("afterSelectRows",w,b,f),this.finish()}return u}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),n=this.tableProps.countCols();if(e===0||n===0){this.deselect();return}const i=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:o,to:s,highlight:r}=i;this.clear(),r.assign({row:Ot(r.row,-1/0,e-1),col:Ot(r.col,-1/0,n-1)}),o.assign({row:Ot(o.row,-1/0,e-1),col:Ot(o.col,-1/0,n-1)}),s.assign({row:Ot(s.row,0,e-1),col:Ot(s.col,0,n-1)}),this.selectedRange.ranges.push(i),this.highlight.getFocus().add(r).commit().syncWith(i),this.applyAndCommit(i)}commit(){if(this.highlight.getCustomSelections().forEach(o=>{o.commit()}),!this.isSelected())return;const n=this.highlight.getFocus(),i=this.getLayerLevel();n.commit().syncWith(this.selectedRange.current());for(let o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);const s=this.highlight.createArea(),r=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();s.commit(),r.commit(),a.commit(),l.commit(),c.commit(),u.commit(),h.commit(),d.commit(),f.commit()}this.highlight.useLayerLevel(i)}}kt(SB,ci);function $H(t){let{isShiftKey:e,isLeftClick:n,isRightClick:i,coords:o,selection:s,controller:r,cellCoordsFactory:a}=t;const l=s.isSelected()?s.getSelectedRange().current():null,c=s.isSelectedByCorner(),u=s.isSelectedByRowHeader();if(s.markSource("mouse"),e&&l)o.row>=0&&o.col>=0&&!r.cell?s.setRangeEnd(o):(c||u)&&o.row>=0&&o.col>=0&&!r.cell?s.setRangeEnd(a(o.row,o.col)):c&&o.row<0&&!r.column?s.setRangeEnd(a(l.to.row,o.col)):u&&o.col<0&&!r.row?s.setRangeEnd(a(o.row,l.to.col)):(!c&&!u&&o.col<0||c&&o.col<0)&&!r.row?s.selectRows(Math.max(l.from.row,0),o.row,o.col):(!c&&!u&&o.row<0||u&&o.row<0)&&!r.column&&s.selectColumns(Math.max(l.from.col,0),o.col,o.row);else{const h=!s.inInSelection(o),d=n||i&&h;o.row<0&&o.col>=0&&!r.column?d&&s.selectColumns(o.col,o.col,o.row):o.col<0&&o.row>=0&&!r.row?d&&s.selectRows(o.row,o.row,o.col):o.col>=0&&o.row>=0&&!r.cell?d&&s.setRangeStart(o):o.col<0&&o.row<0&&s.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}s.markEndSource()}function Dfe(t){let{isLeftClick:e,coords:n,selection:i,controller:o,cellCoordsFactory:s}=t;if(!e)return;const r=i.isSelectedByRowHeader(),a=i.isSelectedByColumnHeader(),l=i.tableProps.countCols(),c=i.tableProps.countRows();i.markSource("mouse"),a&&!o.column?i.setRangeEnd(s(c-1,n.col)):r&&!o.row?i.setRangeEnd(s(n.row,l-1)):o.cell||i.setRangeEnd(n),i.markEndSource()}const Lfe=new Map([["mousedown",$H],["mouseover",Dfe],["touchstart",$H]]);function FH(t,e){let{coords:n,selection:i,controller:o,cellCoordsFactory:s}=e;Lfe.get(t.type)({coords:n,selection:i,controller:o,cellCoordsFactory:s,isShiftKey:t.shiftKey,isLeftClick:vT(t)||t.type==="touchstart",isRightClick:bu(t)})}function $fe(t,e){Ffe(t,e),e.add(t)}function Ffe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VH(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const pv="customBorders",jfe=90;var Q0=new WeakSet;class Ufe extends _t{constructor(){super(...arguments),$fe(this,Q0),Vfe(this,"savedBorders",[])}static get PLUGIN_KEY(){return pv}static get PLUGIN_PRIORITY(){return jfe}isEnabled(){return!!this.hot.getSettings()[pv]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>VH(Q0,this,zfe).call(this,e)),this.addHook("init",()=>VH(Q0,this,Yfe).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let i=["top","bottom","start","end"],o=null;n&&(this.checkSettingsCohesion([n]),i=Object.keys(n),o=G0(n));const s=_d(e),r=Hm(s,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});F(e,a=>{r(a).forAll((l,c)=>{F(i,u=>{this.prepareBorderFromCustomAdded(l,c,o,lfe(u))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=_d(e),i=Hm(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),o=[];return F(e,s=>{i(s).forAll((r,a)=>{F(this.savedBorders,l=>{l.row===r&&l.col===a&&o.push(Tf(l))})})}),o}clearBorders(e){e?this.setBorders(e):(F(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const o=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,o,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:o})}prepareBorderFromCustomAdded(e,n,i,o){const s=this.hot.countRows(),r=this.hot.countCols();if(e>=s||n>=r)return;let a=K0(e,n);i&&(a=ofe(a,i),F(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,i),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",Tf(a)),this.insertBorderIntoSettings(a,o)}prepareBorderFromCustomAddedRange(e,n){const i=Math.min(e.to.row,this.hot.countRows()-1),o=Math.min(e.to.col,this.hot.countCols()-1);Oe(e.from.row,i,s=>{Oe(e.from.col,o,r=>{const a=K0(s,r);let l=0;s===e.from.row&&pn(n,"top")&&(l+=1,a.top=n.top),s===e.to.row&&pn(n,"bottom")&&(l+=1,a.bottom=n.bottom),r===e.from.col&&pn(n,"start")&&(l+=1,a.start=n.start),r===e.to.col&&pn(n,"end")&&(l+=1,a.end=n.end),l>0&&(this.hot.setCellMeta(s,r,"borders",Tf(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const i=bB(e,n);this.spliceBorder(i),this.clearBordersFromSelectionSettings(i),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,i,o){let s=this.hot.getCellMeta(e,n).borders;!s||s.border===void 0?s=K0(e,n):s=G0(s),o?(s[i]=xa(),this.countHide(s)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(s,i,o)||this.insertBorderIntoSettings(s),this.hot.setCellMeta(e,n,"borders",Tf(s)))):(s[i]=hg(),this.checkCustomSelectionsFromContextMenu(s,i,o)||this.insertBorderIntoSettings(s),this.hot.setCellMeta(e,n,"borders",Tf(s)))}prepareBorder(e,n,i){F(e,o=>{let{start:s,end:r}=o;if(s.row===r.row&&s.col===r.col)n==="noBorders"?this.removeAllBorders(s.row,s.col):this.setBorder(s.row,s.col,n,i);else switch(n){case"noBorders":Oe(s.col,r.col,a=>{Oe(s.row,r.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Oe(s.col,r.col,a=>{this.setBorder(s.row,a,n,i)});break;case"bottom":Oe(s.col,r.col,a=>{this.setBorder(r.row,a,n,i)});break;case"start":Oe(s.row,r.row,a=>{this.setBorder(a,s.col,n,i)});break;case"end":Oe(s.row,r.row,a=>{this.setBorder(a,r.col,n,i)});break}})}createCustomBorders(e){F(e,n=>{const i=G0(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,i):this.prepareBorderFromCustomAdded(n.row,n.col,i)})}countHide(e){const{top:n,bottom:i,start:o,end:s}=e;return Li([n,i,o,s],(a,l)=>{let c=a;return l&&l.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(e){const n=at(this.hot.selection.highlight.customSelections,i=>i.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){F(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){F(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=at(this.savedBorders,i=>i.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):F(this.savedBorders,(o,s)=>{if(e.id===o.id)return this.savedBorders[s]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,i){let o=!1;return F(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){const r=this.hot.view._wt.selectionManager.getBorderInstances(s);return F(r,a=>{a.toggleHiddenClass(n,i)}),o=!0,!1}}),o}checkCustomSelections(e,n,i){const o=this.countHide(e);let s=!1;return o===4?(this.removeAllBorders(e.row,e.col),s=!0):F(this.hot.selection.highlight.customSelections,r=>{if(e.id===r.settings.id){if(r.visualCellRange=n,r.commit(),i){const a=this.hot.view._wt.selectionManager.getBorderInstances(r);F(a,l=>{l.changeBorderStyle(i,e)})}return s=!0,!1}}),s}changeBorderSettings(){const e=this.hot.getSettings()[pv];if(Array.isArray(e)){const n=Ni(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=sfe(e),i=rfe(e);if(n&&i)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function zfe(t){this.hot.getSettings()[pv]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(e1)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[ffe(this),dfe(this),cfe(this),ufe(this),hfe(this)]}})}function Yfe(){this.changeBorderSettings()}function Gfe(t,e){Kfe(t,e),e.add(t)}function Kfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e_(t,e,n){return(e=qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WH(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const BH="dragToScroll",Zfe=100;var t_=new WeakSet;class Jfe extends _t{constructor(){super(...arguments),Gfe(this,t_),e_(this,"boundaries",null),e_(this,"callback",null),e_(this,"listening",!1)}static get PLUGIN_KEY(){return BH}static get PLUGIN_PRIORITY(){return Zfe}isEnabled(){return!!this.hot.getSettings()[BH]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>WH(t_,this,jH).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>WH(t_,this,jH).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let i=0,o=0;n<this.boundaries.top?o=n-this.boundaries.top:n>this.boundaries.bottom&&(o=n-this.boundaries.bottom),e<this.boundaries.left?i=e-this.boundaries.left:e>this.boundaries.right&&(i=e-this.boundaries.right),this.callback(i,o)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",i=>this.onMouseMove(i)),n=wd(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function jH(t){if(bu(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,i)=>{var o,s;const r=(o=e.scrollLeft)!==null&&o!==void 0?o:e.scrollX,a=(s=e.scrollTop)!==null&&s!==void 0?s:e.scrollY;e.scroll(r+Math.sign(n)*50,a+Math.sign(i)*20)}),this.listen()}function Qfe(t,e){_B(t,e),e.add(t)}function ege(t,e,n){_B(t,e),e.set(t,n)}function _B(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n_(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ige(t,e){return t.get(ko(t,e))}function RB(t,e,n){return t.set(ko(t,e),n),n}function ko(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("afterDropdownMenuDefaultOptions");Ee.getSingleton().register("beforeDropdownMenuShow");Ee.getSingleton().register("afterDropdownMenuShow");Ee.getSingleton().register("afterDropdownMenuHide");Ee.getSingleton().register("afterDropdownMenuExecute");const wv="dropdownMenu",oge=230,Nm="changeType",i_=wv;var oS=new WeakMap,ms=new WeakSet;class sS extends _t{static get PLUGIN_KEY(){return wv}static get PLUGIN_PRIORITY(){return oge}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Mp,Pp,Ze,Ip,Ze,GC,Ze,Op,Ze,Ho]}constructor(e){super(e),Qfe(this,ms),n_(this,"commandExecutor",new rB(this.hot)),n_(this,"itemsFactory",null),n_(this,"menu",null),ege(this,oS,!1),this.hot.addHook("afterGetColHeader",(n,i)=>ko(ms,this,rge).call(this,n,i))}isEnabled(){return this.hot.getSettings()[wv]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new aB(this.hot,sS.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return ko(ms,e,dge).call(e,...s)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return ko(ms,e,hge).call(e,...s)});const n=this.hot.getSettings()[wv],i={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",i),this.itemsFactory.setPredefinedItems(i.items);const o=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new Fd(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",o),this.menu.setMenuItems(o),this.menu.addLocalHook("beforeOpen",()=>ko(ms,this,age).call(this)),this.menu.addLocalHook("afterOpen",()=>ko(ms,this,lge).call(this)),this.menu.addLocalHook("afterSubmenuOpen",s=>ko(ms,this,cge).call(this,s)),this.menu.addLocalHook("afterClose",()=>ko(ms,this,uge).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return e.executeCommand.call(e,...r)}),F(o,s=>this.commandExecutor.registerCommand(s.key,s))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:i}=this.hot.getSelectedRangeLast();if((i.isHeader()&&i.row===-1||i.isCell())&&i.col>=0){this.hot.selectColumns(i.col,i.col,-1);const{from:o}=this.hot.getSelectedRangeLast(),s=YC(this.menu.container,this.hot.rootDocument),r=this.hot.getCell(-1,o.col,!0).querySelector(`.${Nm}`),a=r.getBoundingClientRect();this.open({left:a.left+s.left,top:a.top+r.offsetHeight+s.top},{left:a.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var i;const o=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:i_},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var i;const o=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return o&&this.hot.selection.isCellVisible(o)&&o.isCell()&&!this.menu.isOpened()},group:i_}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(i_)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>ko(ms,this,sge).call(this,e))}open(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),Qe(i,(o,s)=>{this.menu.setOffset(s,o)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.commandExecutor.execute(e,...i)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function xB(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function sge(t){if(Fe(t.target,Nm)){const e=YC(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();t.stopPropagation(),RB(oS,this,!1),this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+e.top},{left:n.width,right:0,above:0,below:3})}}function rge(t,e){const n=e.parentNode;if(!n)return;const i=n.parentNode.childNodes,o=Array.prototype.indexOf.call(i,n);if(t<0||o!==i.length-1)return;const s=e.querySelector(`.${Nm}`);if(this.enabled&&s)return;if(!this.enabled){s&&s.parentNode.removeChild(s);return}const r=this.hot.rootDocument.createElement("button");r.className=Nm,r.type="button",r.tabIndex=-1,this.hot.getSettings().ariaTags&&($e(r,[Nu(),Qv(" ")]),$e(e,[gV("menu")])),r.onclick=function(){return!1},e.firstChild.insertBefore(r,e.firstChild.firstChild)}function age(){this.hot.runHooks("beforeDropdownMenuShow",this)}function lge(){this.hot.runHooks("afterDropdownMenuShow",this),ko(ms,this,xB).call(this,this.menu)}function cge(t){ko(ms,this,xB).call(this,t)}function uge(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function hge(t){return ige(oS,this)?null:t}function dge(t){Fe(t.target,Nm)&&RB(oS,this,!0)}sS.SEPARATOR={name:Ze};function UH(t,e,n){return(e=fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mge{constructor(e){UH(this,"hot",void 0),UH(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:i,endCol:o}=this._getDataRange(),s=this.options,r=[];return Oe(e,i,a=>{const l=[];!s.exportHiddenRows&&this._isHiddenRow(a)||(Oe(n,o,c=>{!s.exportHiddenColumns&&this._isHiddenColumn(c)||l.push(this.hot.getDataAtCell(a,c))}),r.push(l))}),r}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:i}=this._getDataRange(),o=this.hot.getRowHeader();Oe(n,i,s=>{!this.options.exportHiddenRows&&this._isHiddenRow(s)||e.push(o[s])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:i}=this._getDataRange(),o=this.hot.getColHeader();Oe(n,i,s=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(s)||e.push(o[s])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[i=0,o=0,s=n,r=e]=this.options.range;return i=Math.max(i,0),o=Math.max(o,0),s=Math.min(s,n),r=Math.min(r,e),{startRow:i,startCol:o,endRow:s,endCol:r}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function zH(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=wge(t,"string");return typeof e=="symbol"?e:e+""}function wge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AM{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){zH(this,"dataProvider",void 0),zH(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=Hr(this.constructor.DEFAULT_OPTIONS);const i=new Date;return n=Hn(Hr(AM.DEFAULT_OPTIONS),n),n=Hn(n,e),n.filename=hV(n.filename,{YYYY:i.getFullYear(),MM:`${i.getMonth()+1}`.padStart(2,"0"),DD:`${i.getDate()}`.padStart(2,"0")}),n}}const bge="\r",vge='"',yge=`
`;class Cge extends AM{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){const e=this.options,n=this.dataProvider.getData();let i=this.dataProvider.getColumnHeaders();const o=i.length>0,s=this.dataProvider.getRowHeaders(),r=s.length>0;let a=e.bom?"\uFEFF":"";return o&&(i=at(i,l=>this._escapeCell(l,!0)),r&&(a+=e.columnDelimiter),a+=i.join(e.columnDelimiter),a+=e.rowDelimiter),F(n,(l,c)=>{c>0&&(a+=e.rowDelimiter),r&&(a+=this._escapeCell(s[c])+e.columnDelimiter),a+=l.map(u=>this._escapeCell(u)).join(e.columnDelimiter)}),a}_escapeCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=Tn(e);return i!==""&&(n||i.indexOf(bge)>=0||i.indexOf(vge)>=0||i.indexOf(yge)>=0||i.indexOf(this.options.columnDelimiter)>=0)&&(i=i.replace(new RegExp('"',"g"),'""'),i=`"${i}"`),i}}const Sge="csv",Sx={[Sge]:Cge};function _ge(t,e,n){return typeof Sx[t]=="function"?new Sx[t](e,n):null}const Rge="exportFile",xge=240;class Ege extends _t{static get PLUGIN_KEY(){return Rge}static get PLUGIN_PRIORITY(){return xge}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:i,rootWindow:o}=this.hot,s=this._createTypeFormatter(e,n),r=this._createBlob(s),a=o.URL||o.webkitURL,l=i.createElement("a"),c=`${s.options.filename}.${s.options.fileExtension}`;if(l.download!==void 0){const u=a.createObjectURL(r);l.style.display="none",l.setAttribute("href",u),l.setAttribute("download",c),i.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),i.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(u)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(r,c)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Sx[e])throw new Error(`Export format type "${e}" is not supported.`);return _ge(e,new mge(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function gh(t,e,n){return(e=Tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Mge(t,"string");return typeof e=="symbol"?e:e+""}function Mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ap{constructor(e,n){let{id:i,stateless:o=!0}=n;gh(this,"hot",void 0),gh(this,"id",void 0),gh(this,"elements",[]),gh(this,"hidden",!1),gh(this,"stateId",""),gh(this,"state",void 0),this.hot=e,this.id=i,this.stateId=`Filters.component.${this.id}`,this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new zC)}getElements(){return this.elements}reset(){F(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),F(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}kt(Ap,ci);const Dm={};function Wl(t,e){if(!Dm[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:i}=Dm[t];let o=e;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(s){return n.apply(s.meta.instance,[].concat([s],[o]))}}function tu(t){if(!Dm[t])throw Error(`Filter condition "${t}" does not exist.`);return Dm[t].descriptor}function In(t,e,n){n.key=t,Dm[t]={condition:e,descriptor:n}}const Gn="none";function Pge(){return!0}In(Gn,Pge,{name:DC,inputsCount:0,showOperators:!1});const Lg="empty";function Oge(t){return _n(t.value)}In(Lg,Oge,{name:d1,inputsCount:0,showOperators:!0});const bv="not_empty";function Ige(t,e){return!Wl(Lg,e)(t)}In(bv,Ige,{name:f1,inputsCount:0,showOperators:!0});const $g="eq";function Age(t,e){let[n]=e;return Tn(t.value).toLocaleLowerCase(t.meta.locale)===Tn(n)}In($g,Age,{name:g1,inputsCount:1,showOperators:!0});const vv="neq";function Hge(t,e){return!Wl($g,e)(t)}In(vv,Hge,{name:m1,inputsCount:1,showOperators:!0});const EB="gt";function kge(t,e){let[n]=e,i=n;return t.meta.type==="numeric"&&(i=parseFloat(i,10)),t.value>i}In(EB,kge,{name:y1,inputsCount:1,showOperators:!0});const TB="gte";function Nge(t,e){let[n]=e,i=n;return t.meta.type==="numeric"&&(i=parseFloat(i,10)),t.value>=i}In(TB,Nge,{name:C1,inputsCount:1,showOperators:!0});const MB="lt";function Dge(t,e){let[n]=e,i=n;return t.meta.type==="numeric"&&(i=parseFloat(i,10)),t.value<i}In(MB,Dge,{name:S1,inputsCount:1,showOperators:!0});const PB="lte";function Lge(t,e){let[n]=e,i=n;return t.meta.type==="numeric"&&(i=parseFloat(i,10)),t.value<=i}In(PB,Lge,{name:_1,inputsCount:1,showOperators:!0});const HM="date_after";function $ge(t,e){let[n]=e;const i=ce(t.value,t.meta.dateFormat),o=ce(n,t.meta.dateFormat);return!i.isValid()||!o.isValid()?!1:i.diff(o)>=0}In(HM,$ge,{name:E1,inputsCount:1,showOperators:!0});const kM="date_before";function Fge(t,e){let[n]=e;const i=ce(t.value,t.meta.dateFormat),o=ce(n,t.meta.dateFormat);return!i.isValid()||!o.isValid()?!1:i.diff(o)<=0}In(kM,Fge,{name:T1,inputsCount:1,showOperators:!0});const Cy="between";function Vge(t,e){let[n,i]=e,o=n,s=i;if(t.meta.type==="numeric"){const r=parseFloat(o,10),a=parseFloat(s,10);o=Math.min(r,a),s=Math.max(r,a)}else if(t.meta.type==="date"){const r=Wl(kM,[s]),a=Wl(HM,[o]);return r(t)&&a(t)}return t.value>=o&&t.value<=s}In(Cy,Vge,{name:R1,inputsCount:2,showOperators:!0});const OB="not_between";function Wge(t,e){return!Wl(Cy,e)(t)}In(OB,Wge,{name:x1,inputsCount:2,showOperators:!0});const IB="begins_with";function Bge(t,e){let[n]=e;return Tn(t.value).toLocaleLowerCase(t.meta.locale).startsWith(Tn(n))}In(IB,Bge,{name:p1,inputsCount:1,showOperators:!0});const AB="ends_with";function jge(t,e){let[n]=e;return Tn(t.value).toLocaleLowerCase(t.meta.locale).endsWith(Tn(n))}In(AB,jge,{name:w1,inputsCount:1,showOperators:!0});const NM="contains";function Uge(t,e){let[n]=e;return Tn(t.value).toLocaleLowerCase(t.meta.locale).indexOf(Tn(n))>=0}In(NM,Uge,{name:b1,inputsCount:1,showOperators:!0});const HB="not_contains";function zge(t,e){return!Wl(NM,e)(t)}In(HB,zge,{name:v1,inputsCount:1,showOperators:!0});const kB="date_tomorrow";function Yge(t){const e=ce(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ce().subtract(-1,"days").startOf("day"),"d"):!1}In(kB,Yge,{name:P1,inputsCount:0});const NB="date_today";function Gge(t){const e=ce(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ce().startOf("day"),"d"):!1}In(NB,Gge,{name:M1,inputsCount:0});const DB="date_yesterday";function Kge(t){const e=ce(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(ce().subtract(1,"days").startOf("day"),"d"):!1}In(DB,Kge,{name:O1,inputsCount:0});lte();function qge(t,e){let n=t;return n===""&&(n=`(${e})`),n}const _x=new Set([1]).has(1),Xge=_x&&typeof Array.from=="function";function Hp(t){let e=t;return _x&&(e=new Set(e)),function(n){let i;return _x?i=e.has(n):i=!!~e.indexOf(n),i}}function LB(t){return t??""}function Rx(t){let e=t;return Xge?e=Array.from(new Set(e)):e=tV(e),e=e.sort((n,i)=>typeof n=="number"&&typeof i=="number"?n-i:n===i?0:n>i?1:-1),e}function YH(t,e,n,i){const o=[],s=t===e;let r;return s||(r=Hp(e)),F(t,a=>{let l=!1;(s||r(a))&&(l=!0);const c={checked:l,value:a,visualValue:qge(a,n)};i&&i(c),o.push(c)}),o}const nu="by_value";function Zge(t,e){let[n]=e;return n(t.value)}In(nu,Zge,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[Hp(e)]},showOperators:!1});const Lm={};function Jge(t){if(!Lm[t])throw Error(`Operation with id "${t}" does not exist.`);const e=Lm[t].func;return function(n,i){return e(n,i)}}function Qge(t){return Lm[t].name}function DM(t,e,n){Lm[t]={name:e,func:n}}const Dl="conjunction",eme=H1;function tme(t,e){return t.every(n=>n.func(e))}DM(Dl,eme,tme);const Sy="disjunction",nme=LC;function ime(t,e){return t.some(n=>n.func(e))}DM(Sy,nme,ime);const LM="disjunctionWithExtraCondition",ome=LC;function sme(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}DM(LM,ome,sme);const rme="numeric",$B="text",ame="date",GH={[rme]:[Gn,Ze,Lg,bv,Ze,$g,vv,Ze,EB,TB,MB,PB,Cy,OB],[$B]:[Gn,Ze,Lg,bv,Ze,$g,vv,Ze,IB,AB,Ze,NM,HB],[ame]:[Gn,Ze,Lg,bv,Ze,$g,vv,Ze,kM,HM,Cy,Ze,kB,NB,DB]};function lme(t){const e=[];let n=t;return GH[n]||(n=$B),F(GH[n],i=>{let o;i===Ze?o={name:Ze}:o=Hr(tu(i)),e.push(o)}),e}function Of(t,e,n){return(e=cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=ume(t,"string");return typeof e=="symbol"?e:e+""}function ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const o_="built",s_="building",KH=["click","input","keydown","keypress","keyup","focus","blur","change"];let Ms=class FB{static get DEFAULTS(){return Hr({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){Of(this,"hot",void 0),Of(this,"eventManager",new ks(this)),Of(this,"options",void 0),Of(this,"_element",void 0),Of(this,"buildState",void 0),this.hot=e,this.options=Hn(FB.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===s_?this._element:this.buildState===o_?(this.update(),this._element):(this.buildState=s_,this.build(),this.buildState=o_,this._element)}isBuilt(){return this.buildState===o_}translateIfPossible(e){return typeof e=="string"&&e.startsWith($i)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,i)=>{this.eventManager.addEventListener(n,i,o=>this.runLocalHooks(i,o,this))};if(this.buildState||(this.buildState=s_),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&ue(this._element,this.options.className),this.options.children.length)F(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),Qe(this.options,(i,o)=>{n[o]!==void 0&&o!=="className"&&o!=="tagName"&&o!=="children"&&(n[o]=this.translateIfPossible(i))}),this._element.appendChild(n),F(KH,i=>e(n,i))}else F(KH,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};kt(Ms,ci);function hme(t,e){VB(t,e),e.add(t)}function dme(t,e,n){VB(t,e),e.set(t,n)}function VB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zw(t,e){return t.get($M(t,e))}function fme(t,e,n){return t.set($M(t,e),n),n}function $M(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var mh=new WeakMap,qH=new WeakSet;class Ll extends Ms{static get DEFAULTS(){return Hr({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,Hn(Ll.DEFAULTS,n)),hme(this,qH),dme(this,mh,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>$M(qH,this,gme).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");fme(mh,this,this._element.firstChild),ue(this._element,"htUIInput"),ue(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(zw(mh,this).type=this.options.type,zw(mh,this).placeholder=this.translateIfPossible(this.options.placeholder),zw(mh,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&zw(mh,this).focus()}}function gme(t){this.options.value=t.target.value}function mme(t,e){WB(t,e),e.add(t)}function If(t,e,n){WB(t,e),e.set(t,n)}function WB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ph(t,e,n){return t.set(Fg(t,e),n),n}function un(t,e){return t.get(Fg(t,e))}function Fg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var $n=new WeakMap,Yw=new WeakMap,Gw=new WeakMap,r_=new WeakMap,Kw=new WeakMap,qw=new WeakSet;class $m extends Ms{static get DEFAULTS(){return Hr({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,Hn($m.DEFAULTS,n)),mme(this,qw),If(this,$n,null),If(this,Yw,[]),If(this,Gw,void 0),If(this,r_,void 0),If(this,Kw,void 0),this.registerHooks()}getMenu(){return un($n,this)}registerHooks(){this.addLocalHook("click",()=>Fg(qw,this,bme).call(this))}setItems(e){ph(Yw,this,this.translateNames(e)),un($n,this)&&un($n,this).setMenuItems(un(Yw,this))}translateNames(e){return F(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),ph($n,this,new Fd(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),un($n,this).setMenuItems(un(Yw,this));const e=new Ms(this.hot,{className:"htUISelectCaption"}),n=new Ms(this.hot,{className:"htUISelectDropdown"});ph(Gw,this,e),ph(r_,this,e.element),ph(Kw,this,n),this.hot.getSettings().ariaTags&&($e(n.element,[Nu()]),$e(this._element,[fV()])),F([e,n],i=>this._element.appendChild(i.element)),un($n,this).addLocalHook("select",i=>Fg(qw,this,pme).call(this,i)),un($n,this).addLocalHook("afterClose",()=>Fg(qw,this,wme).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=un($n,this).hot.getTranslatedPhrase(DC),un(r_,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();un($n,this)&&(un($n,this).open(),un($n,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),un($n,this).getNavigator().toFirstItem(),un($n,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){un($n,this)&&un($n,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){un($n,this)&&(un($n,this).destroy(),ph($n,this,null)),un(Gw,this)&&un(Gw,this).destroy(),un(Kw,this)&&un(Kw,this).destroy(),super.destroy()}}function pme(t){t.name!==Ze&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function wme(){this.runLocalHooks("afterClose")}function bme(){this.openOptions()}function vme(t,e){yme(t,e),e.add(t)}function yme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XH(t,e,n){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=Sme(t,"string");return typeof e=="symbol"?e:e+""}function Sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZH(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var a_=new WeakSet;class xx extends Ap{constructor(e,n){super(e,{id:n.id,stateless:!1}),vme(this,a_),XH(this,"name",""),XH(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new $m(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Ll(this.hot,{placeholder:F1})),this.elements.push(new Ll(this.hot,{placeholder:V1})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>ZH(a_,this,_me).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),F(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>ZH(a_,this,Rme).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=Hr(e.command);n.name.startsWith(wn)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),F(e.args,(i,o)=>{if(o>n.inputsCount-1)return!1;const s=this.getInputElement(o);s.setValue(i),s[n.inputsCount>o?"show":"hide"](),o||this.hot._registerTimeout(()=>s.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||tu(Gn),n=[];return F(this.getInputElements(),(i,o)=>{e.inputsCount>o&&n.push(i.getValue())}),{command:e,args:n}}updateState(e,n){const i=tu(e?e.name:Gn);this.state.setValueAtIndex(n,{command:i,args:e?e.args:[]}),e||F(this.getInputElements(),o=>o.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof $m)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Ll)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,i,o,s,r)=>{ue(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ue(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return ue(a,"htFiltersMenuLabel"),a.textContent=r,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[tu(Gn)];if(e!==null){const{visualIndex:i}=e;n=lme(this.hot.getDataType(0,i,this.hot.countRows(),i))}F(this.getInputElements(),i=>i.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function _me(t){F(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function Rme(t){Cp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),$s(t))}function JH(t,e,n){xme(t,e),e.set(t,n)}function xme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Af(t,e){return t.get(BB(t,e))}function QH(t,e,n){return t.set(BB(t,e),n),n}function BB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wh=new WeakMap,l_=new WeakMap;class _y extends Ms{static get DEFAULTS(){return Hr({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,Hn(_y.DEFAULTS,n)),JH(this,wh,void 0),JH(this,l_,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),QH(l_,this,e),QH(wh,this,this._element.firstChild),Af(wh,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(Af(l_,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?Af(wh,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(Af(wh,this).checked=e)}focus(){this.isBuilt()&&Af(wh,this).focus()}}function Eme(t,e){Tme(t,e),e.add(t)}function Tme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mme(t,e,n){return(e=Pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ime(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ek=0;var tk=new WeakSet;class Ame extends Ap{constructor(e,n){super(e,{id:n.id,stateless:!1}),Eme(this,tk),Mme(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ue(n.parentNode,"htFiltersMenuOperators"),F(this.elements,i=>n.appendChild(i.element)),n)}}buildOperatorsElement(){const e=[Dl,Sy];F(e,n=>{const i=new _y(this.hot,{name:"operator",label:{htmlFor:n,textContent:Qge(n)},value:n,checked:n===e[ek],id:n});i.addLocalHook("change",o=>Ime(tk,this,Hme).call(this,o)),this.elements.push(i)})}setChecked(e){if(this.elements.length<e)throw Error(Tt`Radio button with index ${e} doesn't exist.`);F(this.elements,(n,i)=>{n.setChecked(i===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof _y&&n.isChecked());return e?e.getValue():Dl}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&F(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dl,n=arguments.length>1?arguments[1]:void 0,i=e;i===LM&&(i=Sy),this.state.setValueAtIndex(n,i)}reset(){this.setChecked(ek)}}function Hme(t){this.setState(t.target.value)}const kme="ABCDEFGHIJKLMNOPQRSTUVWXYZ",nk=kme.length;function Nme(t){let e=t+1,n="",i;for(;e>0;)i=(e-1)%nk,n=String.fromCharCode(65+i)+n,e=parseInt((e-i)/nk,10);return n}function jB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const i=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((o,s)=>{Array.isArray(o)?o.forEach((r,a)=>{i.push([s+e,a,r])}):Object.keys(o).forEach(r=>{i.push([s+e,r,o[r]])})}),i}function UB(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&Je(t[0])&&(e=dT(t[0]))),e}function Dme(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function Lme(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function $me(t,e,n){Fme(t,e),e.set(t,n)}function Fme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c_(t,e){return t.get(zB(t,e))}function Vme(t,e,n){return t.set(zB(t,e),n),n}function zB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Hf=new WeakMap;class Fm extends Ms{static get DEFAULTS(){return Hr({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,Hn(Fm.DEFAULTS,n)),$me(this,Hf,void 0)}build(){super.build(),Vme(Hf,this,this._element.firstChild)}update(){this.isBuilt()&&(c_(Hf,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&c_(Hf,this).focus()}activate(){c_(Hf,this).click()}}function Wme(t,e){YB(t,e),e.add(t)}function bh(t,e,n){YB(t,e),e.set(t,n)}function YB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(t,e){return t.get(Gh(t,e))}function as(t,e,n){return t.set(Gh(t,e),n),n}function Gh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ik="multipleSelect.itemBox";var ps=new WeakMap,xn=new WeakMap,u_=new WeakMap,ta=new WeakMap,Ja=new WeakMap,Qa=new WeakMap,kf=new WeakSet;class Vm extends Ms{static get DEFAULTS(){return Hr({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,Hn(Vm.DEFAULTS,n)),Wme(this,kf),bh(this,ps,[]),bh(this,xn,void 0),bh(this,u_,void 0),bh(this,ta,void 0),bh(this,Ja,void 0),bh(this,Qa,void 0),as(ta,this,new Ll(this.hot,{placeholder:$1,className:"htUIMultipleSelectSearch"})),as(Ja,this,new Fm(this.hot,{textContent:k1,className:"htUISelectAll"})),as(Qa,this,new Fm(this.hot,{textContent:N1,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Ge(xn,this)}registerHooks(){Ge(ta,this).addLocalHook("keydown",e=>Gh(kf,this,jme).call(this,e)),Ge(ta,this).addLocalHook("input",e=>Gh(kf,this,Bme).call(this,e)),Ge(Ja,this).addLocalHook("click",e=>Gh(kf,this,Ume).call(this,e)),Ge(Qa,this).addLocalHook("click",e=>Gh(kf,this,zme).call(this,e))}setItems(e){var n;as(ps,this,e),(n=Ge(xn,this))===null||n===void 0||n.loadData(Ge(ps,this))}setLocale(e){as(u_,this,e)}getLocale(){return Ge(u_,this)}getItems(){return[...Ge(ps,this)]}getValue(){return Gme(Ge(ps,this))}getSearchInputElement(){return Ge(ta,this)}getSelectAllElement(){return Ge(Ja,this)}getClearAllElement(){return Ge(Qa,this)}isSelectedAllValues(){return Ge(ps,this).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),i=new Ms(this.hot,{className:"htUISelectionControls",children:[Ge(Ja,this),Ge(Qa,this)]});this._element.appendChild(Ge(ta,this).element),this._element.appendChild(i.element),this._element.appendChild(n);const o=s=>{var r;if(!this._element)return;(r=Ge(xn,this))===null||r===void 0||r.destroy(),ue(s,"htUIMultipleSelectHot"),as(xn,this,new this.hot.constructor(s,{data:Ge(ps,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(c,u,h,d,f,g)=>{c.title=g.instance.getDataAtRowProp(u,g.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Ge(xn,this).listen()},colWidths:()=>Ge(xn,this).container.scrollWidth-Zn(e),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Ge(xn,this).init();const l=Ge(xn,this).getShortcutManager().getContext("grid");l.removeShortcutsByKeys(["Tab"]),l.removeShortcutsByKeys(["Shift","Tab"]),l.addShortcut({keys:[["Escape"]],callback:c=>{this.runLocalHooks("keydown",c,this)},group:ik}),l.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:c=>{Ge(xn,this).deselectCell(),this.runLocalHooks("keydown",c,this),this.runLocalHooks("listTabKeydown",c,this)},group:ik})};o(n),this.hot._registerTimeout(()=>o(n),100)}focus(){this.isBuilt()&&Ge(xn,this).listen()}reset(){Ge(ta,this).reset(),Ge(Ja,this).reset(),Ge(Qa,this).reset()}update(){this.isBuilt()&&(Ge(xn,this).loadData(Yme(Ge(ps,this),this.options.value)),super.update())}destroy(){var e;(e=Ge(xn,this))===null||e===void 0||e.destroy(),Ge(ta,this).destroy(),Ge(Qa,this).destroy(),Ge(Ja,this).destroy(),as(ta,this,null),as(Qa,this,null),as(Ja,this,null),as(xn,this,null),as(ps,this,null),super.destroy()}}function Bme(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...Ge(ps,this)]:n=Ge(ps,this).filter(i=>`${i.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Ge(xn,this).loadData(n)}function jme(t){this.runLocalHooks("keydown",t,this),zV(Cp,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),$s(t),Ge(xn,this).listen(),Ge(xn,this).selectCell(0,0))}function Ume(t){const e=[];t.preventDefault(),Ge(xn,this).getSourceData().forEach((n,i)=>{n.checked=!0,e.push(jB(n,i)[0])}),Ge(xn,this).setSourceDataAtCell(e)}function zme(t){const e=[];t.preventDefault(),Ge(xn,this).getSourceData().forEach((n,i)=>{n.checked=!1,e.push(jB(n,i)[0])}),Ge(xn,this).setSourceDataAtCell(e)}function Yme(t,e){const n=Hp(e);return t.map(i=>(i.checked=n(i.value),i))}function Gme(t){const e=[];return t.forEach(n=>{n.checked&&e.push(n.value)}),e}function Kme(t,e){qme(t,e),e.add(t)}function qme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xme(t,e,n){return(e=Zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=Jme(t,"string");return typeof e=="symbol"?e:e+""}function Jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xw(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Nf=new WeakSet;class Qme extends Ap{constructor(e,n){super(e,{id:n.id,stateless:!1}),Kme(this,Nf),Xme(this,"name",""),this.name=n.name,this.elements.push(new Vm(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>Xw(Nf,this,epe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,n)=>Xw(Nf,this,tpe).call(this,e,n))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===nu){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?Gn:nu},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(i,o,s,r,a)=>{const[l]=Vl(o,h=>h.name===nu),c={},u=this.hot.getTranslatedPhrase(hy);if(l){const h=r(i,a),d=at(h,C=>C.value),f=new Map(h.map(C=>[C.value,this.hot.getCellMeta(C.meta.visualRow,C.meta.visualCol)])),g=Rx(d);s&&(l.args[0]=s);const m=[],w=YH(g,l.args[0],u,C=>{C.checked&&m.push(C.value),Xw(Nf,this,ok).call(this,C,f)}),b=e.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,b).locale,c.args=[m],c.command=tu(nu),c.itemsSnapshot=w}else c.args=[],c.command=tu(Gn);this.state.setValueAtIndex(i,c)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof Vm)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,i,o,s,r)=>{ue(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return ue(a,"htFiltersMenuLabel"),a.textContent=r,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||F(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(hy),n=this._getColumnVisibleValues(),i=n.map(l=>l.value),o=new Map(n.map(l=>[l.value,l.meta])),s=Rx(i),r=YH(s,s,e,l=>{Xw(Nf,this,ok).call(this,l,o)});this.getMultipleSelectElement().setItems(r),super.reset(),this.getMultipleSelectElement().setValue(s);const a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:at(this.hot.getDataAtCol(e.visualIndex),(n,i)=>({value:LB(n),meta:this.hot.getCellMeta(i,e.visualIndex)}))}}function epe(t){Cp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),$s(t))}function ok(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function tpe(t,e){switch(e.type){case"numeric":return nW(t,e);default:return t}}var GB;function npe(t,e){ipe(t,e),e.add(t)}function ipe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ope(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ape(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var sk=new WeakSet;class Wm extends Ap{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),npe(this,sk),ope(this,"name",""),this.name=n.name,this.elements.push(new Ll(this.hot,{type:"button",value:D1,className:"htUIButton htUIButtonOK",identifier:Wm.BUTTON_OK})),this.elements.push(new Ll(this.hot,{type:"button",value:L1,className:"htUIButton htUIButtonCancel",identifier:Wm.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){F(this.elements,e=>{e.addLocalHook("click",(n,i)=>ape(sk,this,lpe).call(this,n,i))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ue(n.parentNode,"htFiltersMenuActionBar"),F(this.elements,i=>n.appendChild(i.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}GB=Wm;function lpe(t,e){e.options.identifier===GB.BUTTON_OK?this.accept():this.cancel()}function Zw(t,e,n){return(e=cpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=upe(t,"string");return typeof e=="symbol"?e:e+""}function upe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const rk="ConditionCollection.filteringStates";class FM{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Zw(this,"hot",void 0),Zw(this,"isMapRegistrable",void 0),Zw(this,"filteringStates",new zC),Zw(this,"previousConditionStack",null),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(rk,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var i;const o=this.filteringStates.getValueAtIndex(n),s=(i=o==null?void 0:o.conditions)!==null&&i!==void 0?i:[],r=o==null?void 0:o.operation;return this.isMatchInConditions(s,e,r)}isMatchInConditions(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dl;return e.length?Jge(i)(e,n):!0}addCondition(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dl,o=arguments.length>3?arguments[3]:void 0;const s=this.hot.getCellMeta(0,e).locale,r=at(n.args,u=>typeof u=="string"?u.toLocaleLowerCase(s):u),a=n.name||n.command.key;this.previousConditionStack===null&&this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==i)throw Error(Tt`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(Gt(Lm[i]))throw new Error(Tt`Unexpected operation named \`${i}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const c=this.getConditions(e);c.length===0?this.filteringStates.setValueAtIndex(e,{operation:i,conditions:[{name:a,args:r,func:Wl(a,r)}]},o):c.push({name:a,args:r,func:Wl(a,r)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,i;return(n=(i=this.filteringStates.getValueAtIndex(e))===null||i===void 0?void 0:i.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return Li(this.filteringStates.getEntries(),(e,n)=>{let[i,{operation:o,conditions:s}]=n;return e.push({column:i,operation:o,conditions:at(s,r=>{let{name:a,args:l}=r;return{name:a,args:l}})}),e},[])}importAllConditions(e){this.clean(),F(e,n=>{F(n.conditions,i=>this.addCondition(n.column,i))})}removeConditions(e){this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const i=this.getConditions(e);return n?i.some(o=>o.name===n):i.length>0}setPreviousConditionStack(e){this.previousConditionStack=e}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(rk),this.filteringStates=null,this.clearLocalHooks()}}kt(FM,ci);function ak(t,e,n){return(e=hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:e+""}function dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KB{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];ak(this,"conditionCollection",void 0),ak(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return F(this.conditionCollection.getFilteredColumns(),(n,i)=>{let o=this.columnDataFactory(n);i&&(o=this._getIntersectData(o,e)),e=this.filterByColumn(n,o)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=[];return F(n,o=>{o!==void 0&&this.conditionCollection.isMatch(o,e)&&i.push(o)}),i}_getIntersectData(e,n){const i=[];return F(n,o=>{const s=o.meta.visualRow;e[s]!==void 0&&(i[s]=e[s])}),i}}function fpe(t,e){gpe(t,e),e.add(t)}function gpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cc(t,e,n){return(e=mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Jw=new WeakSet;class qB{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];fpe(this,Jw),Cc(this,"hot",void 0),Cc(this,"conditionCollection",void 0),Cc(this,"columnDataFactory",void 0),Cc(this,"changes",[]),Cc(this,"grouping",!1),Cc(this,"latestEditedColumnPosition",-1),Cc(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=i,this.conditionCollection.addLocalHook("beforeRemove",o=>h_(Jw,this,wpe).call(this,o)),this.conditionCollection.addLocalHook("afterRemove",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("afterAdd",o=>this.updateStatesAtColumn(o)),this.conditionCollection.addLocalHook("beforeClean",()=>h_(Jw,this,bpe).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>h_(Jw,this,vpe).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,F(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var i=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const o=this.conditionCollection.exportAllConditions();let s=this.conditionCollection.getColumnStackPosition(e);s===-1&&(s=this.latestEditedColumnPosition);const r=o.slice(0,s),a=o.slice(s);a.length&&a[0].column===e&&a.shift();const l=lie(function(u,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const f=new FM(i.hot,!1),g=[].concat(u,d);f.importAllConditions(g);const m=i.columnDataFactory(h);let w;f.isEmpty()?w=m:w=new KB(f,C=>i.columnDataFactory(C)).filter(),w=at(w,C=>C.meta.visualRow);const b=Hp(w);return f.destroy(),Vl(m,C=>b(C.meta.visualRow))})(r),c=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:c},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),Qe(this,(e,n)=>{this[n]=null})}}function wpe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function bpe(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function vpe(){F(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}kt(qB,ci);function ype(t){return cB({initialPage:0,size:()=>t.length,onItemSelect:(n,i)=>{const o=t[n];if(o instanceof Vm)return i;if(o.element&&!bd(o.element))return!1;o.focus()}})}const Df="filters";function Cpe(t,e){let n=-1;const i=ype(e),o=l=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(Df),i.setCurrentPage(e.indexOf(l))};e.forEach(l=>{l instanceof Ms&&(l.addLocalHook("click",o(l)),l.addLocalHook("focus",o(l)),l.addLocalHook("afterClose",o(l)))}),t.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||i.clear()});function s(l){const c=t.getKeyboardShortcutsCtrl(),u=l.getKeyboardShortcutsCtrl();i.clear(),u.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:c.getContext(Df),callback:()=>{l.isSubMenu()&&l.close(),c.listen(Df)}}]),!l.isSubMenu()&&c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:h=>{const d=t.getNavigator();d.getCurrentPage()>-1&&(n=d.getCurrentPage()),d.clear(),h.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:h=>{const d=e[i.getCurrentPage()];d instanceof $m&&(d.openOptions(),h.preventDefault()),d instanceof Fm&&(d.activate(),h.preventDefault()),d instanceof Ms||h.preventDefault()}}],Df)}t.addLocalHook("afterSubmenuOpen",s),t.addLocalHook("afterOpen",s);function r(){t.focus(),t.getKeyboardShortcutsCtrl().listen(Df)}function a(){return n}return{...i,listen:r,getLastMenuPage:a}}function Spe(t,e){XB(t,e),e.add(t)}function _pe(t,e,n){XB(t,e),e.set(t,n)}function XB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lf(t,e,n){return(e=Rpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rpe(t){var e=xpe(t,"string");return typeof e=="symbol"?e:e+""}function xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Epe(t,e,n){return t.set(lo(t,e),n),n}function $f(t,e){return t.get(lo(t,e))}function lo(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ex="filters",Tpe=250,lk=Ex;var Sc=new WeakMap,To=new WeakSet;class Mpe extends _t{static get PLUGIN_KEY(){return Ex}static get PLUGIN_PRIORITY(){return Tpe}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),Spe(this,To),Lf(this,"dropdownMenuPlugin",null),Lf(this,"conditionCollection",null),Lf(this,"conditionUpdateObserver",null),Lf(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),Lf(this,"filtersRowsMap",null),_pe(this,Sc,void 0),this.hot.addHook("afterGetColHeader",(n,i)=>lo(To,this,kpe).call(this,n,i))}isEnabled(){return!!this.hot.getSettings()[Ex]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Ep),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,n=e&&e.uiContainer||this.hot.rootDocument.body,i=r=>(r.addLocalHook("accept",()=>lo(To,this,ck).call(this,"accept")),r.addLocalHook("cancel",()=>lo(To,this,ck).call(this,"cancel")),r.addLocalHook("change",a=>lo(To,this,Hpe).call(this,r,a)),r),o=()=>`${this.hot.getTranslatedPhrase(I1)}:`,s=()=>`${this.hot.getTranslatedPhrase(A1)}:`;if(!this.components.get("filter_by_condition")){const r=new xx(this.hot,{id:"filter_by_condition",name:o,addSeparator:!1,menuContainer:n});r.addLocalHook("afterClose",()=>lo(To,this,uk).call(this)),this.components.set("filter_by_condition",i(r))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new Ame(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const r=new xx(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});r.addLocalHook("afterClose",()=>lo(To,this,uk).call(this)),this.components.set("filter_by_condition2",i(r))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",i(new Qme(this.hot,{id:"filter_by_value",name:s}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",i(new Wm(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new FM(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new qB(this.hot,this.conditionCollection,r=>this.getDataMapAtColumn(r)),this.conditionUpdateObserver.addLocalHook("update",r=>lo(To,this,Npe).call(this,r))),this.components.forEach(r=>r.show()),this.addHook("afterDropdownMenuDefaultOptions",r=>lo(To,this,Ape).call(this,r)),this.addHook("afterDropdownMenuShow",()=>lo(To,this,Ope).call(this)),this.addHook("afterDropdownMenuHide",()=>lo(To,this,Ipe).call(this)),this.addHook("afterChange",r=>lo(To,this,Ppe).call(this,r)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!$f(Sc,this)&&this.dropdownMenuPlugin.enabled){const r=this.dropdownMenuPlugin.menu,a=[{focus:()=>{const c=r.getNavigator(),u=$f(Sc,this).getLastMenuPage();r.focus(),u>0?c.setCurrentPage(u):c.toFirstItem()}},...Array.from(this.components).map(c=>{let[,u]=c;return u.getElements()}).flat()];Epe(Sc,this,Cpe(r,a));const l=c=>{$f(Sc,this).listen(),c.preventDefault(),Cp(c.keyCode,"TAB")&&(c.shiftKey?$f(Sc,this).toPreviousItem():$f(Sc,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,i)=>{n.destroy(),this.components.set(i,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:lk})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(lk)}addCondition(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dl;const s=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(s,{command:{key:n},args:i},o)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),i=!this.conditionCollection.isEmpty();let o=[];const s=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",s,this.conditionCollection.previousConditionStack)!==!1)if(i){const a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),o=at(n.filter(),c=>c.meta.visualRow);const l=Hp(o);Oe(this.hot.countSourceRows()-1,c=>{l(c)||a.push(c)}),F(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!e&&!o.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",s),this.conditionCollection.setPreviousConditionStack(null),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),i=[];return F(this.hot.getSourceDataAtCol(n),(o,s)=>{var r;const{row:a,col:l,visualCol:c,visualRow:u,type:h,instance:d,dateFormat:f,locale:g}=this.hot.getCellMeta(s,n),m=(r=this.hot.getDataAtCell(this.hot.toVisualRow(s),n))!==null&&r!==void 0?r:o;i.push({meta:{row:a,col:l,visualCol:c,visualRow:u,type:h,instance:d,dateFormat:f,locale:g},value:LB(m)})}),i}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),i=Rx(n);this.conditionUpdateObserver.updateStatesAtColumn(e,i)}restoreComponents(e){var n;const i=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(o=>{o.isHidden()||o.restoreState(i)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,i,o){let s=e;return s===Sy&&n.command.key!==Gn&&i.command.key!==Gn&&o.command.key!==Gn?s=LM:o.command.key!==Gn&&(n.command.key===Gn||i.command.key===Gn)&&(s=Dl),s}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),i=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...i):this.hideComponents(...i)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new KB(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return F(o,r=>{F(n.menuItems,(a,l)=>{a.key===r.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const i=this.dropdownMenuPlugin.menu.hotMenu,o=i.getPlugin("hiddenRows");for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];const l=this.getIndexesOfComponents(...r);e?o.showRows(l):o.hideRows(l),i.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function Ppe(t){t&&F(t,e=>{const[,n]=e,i=this.hot.propToCol(n);this.conditionCollection.hasConditions(i)&&this.updateValueComponentCondition(i)})}function Ope(){const t=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),t.updateMenuDimensions()}function Ipe(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function Ape(t){t.items.push({name:Ze}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function ck(t){var e;if(t==="accept"){const i=this.getSelectedColumn();if(i===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:o}=i,s=this.components.get("filter_by_condition").getState(),r=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),s,r,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(o);c===-1&&(c=void 0),this.conditionCollection.removeConditions(o),s.command.key!==Gn&&(this.conditionCollection.addCondition(o,s,l,c),r.command.key!==Gn&&this.conditionCollection.addCondition(o,r,l,c)),a.command.key!==Gn&&this.conditionCollection.addCondition(o,a,l,c),this.conditionUpdateObserver.flush(),this.components.forEach(u=>u.saveState(o)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function Hpe(t,e){this.updateDependentComponentsVisibility(),t.constructor===xx&&!e.inputsCount&&this.setListeningDropdownMenu()}function uk(){this.setListeningDropdownMenu()}function kpe(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?ue(e,"htFiltersActive"):je(e,"htFiltersActive")}function Npe(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:i}}=t,o=n.filter(r=>r.name===nu),s=n.filter(r=>r.name!==nu);if(o.length>=2||s.length>=3)Et(Tt`The filter conditions have been applied properly, but couldn’t be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const r=this.conditionCollection.getOperation(i);this.components.get("filter_by_condition").updateState(s[0],i),this.components.get("filter_by_condition2").updateState(s[1],i),this.components.get("filter_operators").updateState(r,i),this.components.get("filter_by_value").updateState(t)}}const ZB="internal-use-in-handsontable",Tx={licenseKey:ZB,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function JB(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[yi])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function QB(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function Dpe(t){var e;const n=t[yi],i=QB(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=JB(t);return{...Tx,...i,...o}}function Lpe(t){var e;const n=t[yi],i=QB(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),o=JB(t);return{...i,...o}}function $pe(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function rS(){const t="engine_relationship",e=Fs(yi);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function VM(){const t="shared_engine_usage",e=Fs(yi);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function Fpe(t){const e=t.getSettings(),n=e[yi],i=n==null?void 0:n.engine;if(n===!0||Gt(i))return null;if(typeof i.hyperformula=="function"||typeof i=="function"){var o;return Vpe((o=i.hyperformula)!==null&&o!==void 0?o:i,e,t)}else if(typeof i=="object"&&Gt(i.hyperformula)){const s=rS(),r=VM().get(i);return s.has(i)||s.set(i,[]),s.get(i).push(t),r&&r.push(t.guid),i.getConfig().licenseKey||i.updateConfig({licenseKey:ZB}),(i.getConfig().leapYear1900!==Tx.leapYear1900||hT(i.getConfig().nullDate,Tx.nullDate)===!1)&&Et(Tt`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),i}return null}function Vpe(t,e,n){const i=e[yi],o=Dpe(e),s=rS(),r=VM();Wpe(t,i.functions),Bpe(t,i.language);const a=t.buildEmpty(o);return s.set(a,[n]),r.set(a,[n.guid]),jpe(a,i.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function hk(t){var e;const n=rS(),i=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(i.map(o=>[o.getPlugin("formulas").sheetId,o]))}function dk(t,e){if(t){const n=rS(),i=n.get(t),o=VM(),s=o.get(t);i&&i.includes(e)&&(i.splice(i.indexOf(e),1),i.length===0&&n.delete(t)),s&&s.includes(e.guid)&&(s.splice(s.indexOf(e.guid),1),s.length===0&&(o.delete(t),t.destroy()))}}function Wpe(t,e){e&&e.forEach(n=>{const{name:i,plugin:o,translations:s}=n;try{t.registerFunction(i,o,s)}catch(r){Et(r.message)}})}function Bpe(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(i){Et(i.message)}}}function jpe(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:i,expression:o,scope:s,options:r}=n;try{t.addNamedExpression(i,o,s,r)}catch(a){Et(a.message)}}),t.resumeEvaluation())}function Upe(t,e){return(Gt(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const ej="DD/MM/YYYY";function tj(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function zpe(t){return tj(t)?t.substr(1):t}function Ype(t){return typeof t=="string"&&t.startsWith("=")}function WM(t,e){return typeof t=="string"&&e==="date"}function nj(t,e){return ce(t,e,!0).isValid()}function ij(t,e){return ce(t,e,!0).format(ej)}function Gpe(t,e){return ce(t,ej,!0).format(e)}function oj(t,e){const i=new Date(Date.UTC(0,0,t+-1));return ce(i).format(e)}function Kpe(t,e,n){const i=Array.from(Array(n).keys()).filter(s=>t.includes(s)===!1);if(e===0){var o;return(o=i[e])!==null&&o!==void 0?o:0}return i[e-1]+1}function qpe(t,e){const n=[];return t.forEach(i=>{const o={from:i,to:e};n.forEach(s=>{const r=s.from>s.to,a=s.to<=o.from;s.from>o.from&&a&&r&&(o.from+=1)}),o.from>=e&&(e+=1),n.push(o)}),n}function Xpe(t){return t.forEach((e,n)=>{t.slice(n+1).forEach(o=>{const s=o.from<o.to;o.from>e.from&&s&&(o.from-=1)})}),t}function BM(t,e,n){const i=qpe(t,Kpe(t,e,n));return Xpe(i)}function _c(t,e,n){Zpe(t,e),e.set(t,n)}function Zpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jt(t,e){return t.get(sj(t,e))}function el(t,e,n){return t.set(sj(t,e),n),n}function sj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ff=new WeakMap,tl=new WeakMap,io=new WeakMap,Qw=new WeakMap,d_=new WeakMap,f_=new WeakMap,eb=new WeakMap;class fk{constructor(e,n,i){_c(this,Ff,void 0),_c(this,tl,void 0),_c(this,io,void 0),_c(this,Qw,[]),_c(this,d_,[]),_c(this,f_,void 0),_c(this,eb,[]),el(Ff,this,e),el(tl,this,n),el(io,this,i)}setRemovedHfIndexes(e){return el(eb,this,e.map(n=>{const i=Jt(tl,this).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(i)})),Jt(eb,this)}getRemovedHfIndexes(){return Jt(eb,this)}getHfIndexFromVisualIndex(e){const n=Jt(tl,this).getIndexesSequence(),i=Jt(tl,this).getNotTrimmedIndexes();return n.indexOf(i[e])}syncMoves(e){const i=`move${Hs(Jt(Ff,this))}s`;Jt(io,this).getEngine().batch(()=>{e.forEach(o=>{const s=o.from!==o.to,r=o.from+1!==o.to;s&&r&&Jt(io,this).getEngine()[i](Jt(io,this).getSheetId(),o.from,1,o.to)})})}storeMovesInformation(e,n,i){i!==!1&&(el(d_,this,e.map(o=>this.getHfIndexFromVisualIndex(o))),el(f_,this,this.getHfIndexFromVisualIndex(n)))}calculateAndSyncMoves(e,n){if(Jt(io,this).isPerformingUndoRedo()||e===!1||n===!1)return;const i=BM(Jt(d_,this),Jt(f_,this),Jt(tl,this).getNumberOfIndexes());Jt(io,this).getSheetId()===null?Jt(io,this).getPostponeAction(()=>this.syncMoves(i)):this.syncMoves(i)}getIndexesChangeSyncMethod(){const e=`set${Hs(Jt(Ff,this))}Order`;return n=>{if(Jt(io,this).isPerformingUndoRedo())return;const i=Jt(tl,this).getIndexesSequence();if(n==="update"&&i.length>0){const o=Jt(Qw,this).map(l=>i.indexOf(l)),s=Jt(io,this).getEngine().getSheetDimensions(Jt(io,this).getSheetId());let r;Jt(Ff,this)==="row"?r=s.height:r=s.width;const a=o.length;for(let l=a;l<r;l+=1)o.push(l);Jt(io,this).getEngine()[e](Jt(io,this).getSheetId(),o)}el(Qw,this,i)}}init(){el(Qw,this,Jt(tl,this).getIndexesSequence())}}function Rc(t,e,n){Jpe(t,e),e.set(t,n)}function Jpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function na(t,e){return t.get(rj(t,e))}function xc(t,e,n){return t.set(rj(t,e),n),n}function rj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var tb=new WeakMap,nb=new WeakMap,g_=new WeakMap,m_=new WeakMap,p_=new WeakMap,w_=new WeakMap,b_=new WeakMap;class Qpe{constructor(e,n,i){Rc(this,tb,void 0),Rc(this,nb,void 0),Rc(this,g_,void 0),Rc(this,m_,!1),Rc(this,p_,!1),Rc(this,w_,null),Rc(this,b_,null),xc(tb,this,new fk("row",e,this)),xc(nb,this,new fk("column",n,this)),xc(g_,this,i)}getForAxis(e){return e==="row"?na(tb,this):na(nb,this)}setPerformUndo(e){xc(m_,this,e)}setPerformRedo(e){xc(p_,this,e)}isPerformingUndoRedo(){return na(m_,this)||na(p_,this)}getSheetId(){return na(b_,this)}getEngine(){return na(w_,this)}getPostponeAction(){return na(g_,this)}setupSyncEndpoint(e,n){xc(w_,this,e),xc(b_,this,n),na(tb,this).init(),na(nb,this).init()}}function ewe(t,e){aj(t,e),e.add(t)}function vh(t,e,n){return(e=twe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function twe(t){var e=nwe(t,"string");return typeof e=="symbol"?e:e+""}function nwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v_(t,e,n){aj(t,e),e.set(t,n)}function aj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bl(t,e,n){return t.set(Pt(t,e),n),n}function ad(t,e){return t.get(Pt(t,e))}function Pt(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const yi="formulas",iwe=["maxRows","maxColumns","language"],owe=260;Ee.getSingleton().register("afterNamedExpressionAdded");Ee.getSingleton().register("afterNamedExpressionRemoved");Ee.getSingleton().register("afterSheetAdded");Ee.getSingleton().register("afterSheetRemoved");Ee.getSingleton().register("afterSheetRenamed");Ee.getSingleton().register("afterFormulasValuesUpdate");const Vd=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var La=new WeakMap,jM=new WeakMap,Vf=new WeakMap,Dt=new WeakSet;class swe extends _t{constructor(){var e;super(...arguments),e=this,ewe(this,Dt),v_(this,La,!1),v_(this,jM,!1),v_(this,Vf,[["valuesUpdated",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,Cwe).call(e,...i)}],["namedExpressionAdded",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,Swe).call(e,...i)}],["namedExpressionRemoved",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,_we).call(e,...i)}],["sheetAdded",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,Rwe).call(e,...i)}],["sheetRenamed",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,xwe).call(e,...i)}],["sheetRemoved",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Pt(Dt,e,Ewe).call(e,...i)}]]),vh(this,"staticRegister",Fs("formulas")),vh(this,"engine",null),vh(this,"sheetName",null),vh(this,"indexSyncer",null),vh(this,"rowAxisSyncer",null),vh(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return yi}static get PLUGIN_PRIORITY(){return owe}static get SETTING_KEYS(){return[yi,...iwe]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[yi]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=Fpe(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){Et("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const i=this.addSheet(this.sheetName,this.hot.getSourceDataArray());i!==!1&&(this.sheetName=i)}this.addHook("beforeLoadData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,gk).call(n,...o)}),this.addHook("afterLoadData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,mk).call(n,...o)}),this.addHook("beforeUpdateData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,gk).call(n,...o)}),this.addHook("afterUpdateData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,mk).call(n,...o)}),this.addHook("modifyData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,cwe).call(n,...o)}),this.addHook("modifySourceData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,uwe).call(n,...o)}),this.addHook("beforeValidate",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,rwe).call(n,...o)}),this.addHook("afterSetSourceDataAtCell",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,hwe).call(n,...o)}),this.addHook("afterSetDataAtCell",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,pk).call(n,...o)}),this.addHook("afterSetDataAtRowProp",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,pk).call(n,...o)}),this.addHook("beforeCreateRow",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,dwe).call(n,...o)}),this.addHook("beforeCreateCol",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,fwe).call(n,...o)}),this.addHook("afterCreateRow",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,pwe).call(n,...o)}),this.addHook("afterCreateCol",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,wwe).call(n,...o)}),this.addHook("beforeRemoveRow",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,gwe).call(n,...o)}),this.addHook("beforeRemoveCol",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,mwe).call(n,...o)}),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,bwe).call(n,...o)}),this.addHook("afterRemoveCol",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,vwe).call(n,...o)}),this.indexSyncer=new Qpe(this.hot.rowIndexMapper,this.hot.columnIndexMapper,i=>{this.hot.addHookOnce("init",()=>{i()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(i,o,s,r)=>{this.rowAxisSyncer.storeMovesInformation(i,o,r)}),this.hot.addHook("beforeColumnMove",(i,o,s,r)=>{this.columnAxisSyncer.storeMovesInformation(i,o,r)}),this.hot.addHook("afterRowMove",(i,o,s,r,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(r,a)}),this.hot.addHook("afterColumnMove",(i,o,s,r,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(r,a)}),this.hot.addHook("beforeColumnFreeze",(i,o)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart,o)}),this.hot.addHook("afterColumnFreeze",(i,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.hot.addHook("beforeColumnUnfreeze",(i,o)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart-1,o)}),this.hot.addHook("afterColumnUnfreeze",(i,o)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,o)}),this.addHook("afterCellMetaReset",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,lwe).call(n,...o)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,ywe).call(n,...o)}),this.addHook("beforeAutofill",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Pt(Dt,n,awe).call(n,...o)}),ad(Vf,this).forEach(i=>{let[o,s]=i;return this.engine.on(o,s)}),super.enablePlugin()}}disablePlugin(){ad(Vf,this).forEach(e=>{let[n,i]=e;return this.engine.off(n,i)}),dk(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=Lpe(this.hot.getSettings());$pe(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const i=this.hot.getSettings()[yi];if(Te(i)&&Te(i.sheetName)&&i.sheetName!==this.sheetName&&this.switchSheet(i.sheetName),!e.data&&this.sheetName===null){const o=this.hot.getSettings()[yi].sheetName;o&&this.engine.doesSheetExist(o)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(o??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){ad(Vf,this).forEach(e=>{var n;let[i,o]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(i,o)}),Bl(Vf,this,null),dk(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(Te(n)&&!Dme(n))return Et("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return Et("Sheet with the provided name already exists."),!1;try{const i=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(i),n),i}catch(i){return Et(i.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){xT(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Hs(yi)}.switchSheet`)}getCellType(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const o=this.hot.toPhysicalRow(e),s=this.hot.toPhysicalColumn(n);return o!==null&&s!==null?this.engine.getCellType({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=new Set;e.forEach(o=>{var s;const r=o==null||(s=o.address)===null||s===void 0?void 0:s.sheet;r!==void 0&&(i.has(r)||i.add(r))}),hk(this.engine).forEach((o,s)=>{if((n||s!==this.sheetId)&&i.has(s)){var r;o.render(),(r=o.view)===null||r===void 0||r.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=s=>{var r;const{row:a,col:l,sheet:c}=(r=s==null?void 0:s.address)!==null&&r!==void 0?r:{};return Te(c)?`${c}:${a}x${l}`:""},o=new Set(n.map(s=>i(s)));e.forEach(s=>{var r,a;const{row:l,col:c}=(r=s.address)!==null&&r!==void 0?r:{};if(Te(l)===!1||Te(c)===!1||l>=this.hot.countRows()||c>=this.hot.countCols())return;const u=s==null||(a=s.address)===null||a===void 0?void 0:a.sheet,h=i(s);if(u!==void 0&&!o.has(h)){const d=hk(this.engine).get(u);if(!d)return;d.validateCell(d.getDataAtCell(l,c),d.getCellMeta(l,c),()=>{})}})}syncChangeWithEngine(e,n,i){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(o)){Et(`Not possible to set cell data at ${JSON.stringify(o)}`);return}const s=this.hot.getCellMeta(e,n);return WM(i,s.type)&&(nj(i,s.dateFormat)?i=ij(i,s.dateFormat):Ype(i)===!1&&(i=`'${i}`)),this.engine.setCellContents(o,i)}}function rwe(t,e,n){const i=this.hot.propToCol(n);if(this.isFormulaCellType(e,i)){const o={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},s=this.hot.getCellMeta(e,i);let r=this.engine.getCellValue(o);return s.type==="date"&&ki(r)&&(r=oj(r,s.dateFormat)),typeof r=="object"&&r!==null?r.value:r}return t}function awe(t,e,n){const{row:i,col:o}=e.getTopStartCorner(),{row:s,col:r}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:c,col:u}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(d)===!1)return!1;const f=this.engine.getFillRangeData(h,d),{row:g,col:m}=h.start,{row:w,col:b}=h.end,C=w-g+1,y=b-m+1;for(let E=0;E<f.length;E+=1)for(let T=0;T<f[E].length;T+=1){const N=f[E][T],D=g+E%C,B=m+T%y,K=this.hot.getCellMeta(D,B);WM(N,K.type)&&(N.startsWith("'")?f[E][T]=N.slice(1):this.isFormulaCellType(D,B,this.sheetId)===!1&&(f[E][T]=Gpe(N,K.dateFormat)))}return f}function gk(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Hs(yi))||Bl(jM,this,Gt(this.hot.getSettings().data))}function lwe(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach((n,i)=>{n.forEach((o,s)=>{const r=this.hot.getCellMeta(i,s),a=r.dateFormat;WM(o,r.type)&&(e=!0,nj(o,a)?t[i][s]=ij(o,a):this.isFormulaCellType(i,s)===!1&&(t[i][s]=`'${o}`))})}),e===!0&&(Bl(La,this,!0),this.engine.setSheetContent(this.sheetId,t),Bl(La,this,!1))}function mk(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Hs(yi)))if(this.sheetName=Upe(this.engine,this.hot.getSettings()[yi].sheetName),ad(jM,this))this.switchSheet(this.sheetName);else{const i=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,i)){Bl(La,this,!0);const o=this.engine.setSheetContent(this.sheetId,i);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(o),Bl(La,this,!1)}}}function cwe(t,e,n,i){if(i!=="get"||ad(La,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t);if(o===null||e===null)return;if(!this.isFormulaCellType(o,e)&&this.getCellType(o,e)!=="ARRAY"){tj(n.value)&&(n.value=zpe(n.value));return}const r={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let a=this.engine.getCellValue(r),l=this.hot.getCellsMeta().find(u=>u.visualRow===o&&u.visualCol===e);l===void 0&&(l={}),l.type==="date"&&ki(a)&&(a=oj(a,l.dateFormat));const c=typeof a=="object"&&a!==null?a.value:a;n.value=c}function uwe(t,e,n,i){if(i!=="get"||ad(La,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const o=this.hot.toVisualRow(t),s=this.hot.propToCol(e);if(o===null||s===null||!this.isFormulaCellType(o,s)&&this.getCellType(o,s)!=="ARRAY")return;const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId};n.value=this.engine.getCellSerialized(l)}function pk(t,e){if(Vd(e))return;const n=[],i=[],o=this.engine.batch(()=>{t.forEach(s=>{let[r,a,,l]=s;const c=this.hot.propToCol(a),u=this.hot.toPhysicalRow(r),h=this.hot.toPhysicalColumn(c),d={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};u!==null&&h!==null?this.syncChangeWithEngine(r,c,l):n.push([r,c,l]),i.push({address:d})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const s=this.engine.batch(()=>{n.forEach(r=>{let[a,l,c]=r;this.syncChangeWithEngine(a,l,c)})});this.renderDependentSheets(s,!0)}),this.renderDependentSheets(o),this.validateDependentCells(o,i)}function hwe(t,e){if(Vd(e))return;const n=[],i=[];t.forEach(o=>{let[s,r,,a]=o;const l=this.hot.propToCol(r);if(!ki(l))return;const c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){Et(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}i.push({address:c}),n.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,i)}function dwe(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function fwe(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function gwe(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(s=>this.engine.isItPossibleToRemoveRows(this.sheetId,[s,1]))===!1?!1:void 0}function mwe(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(s=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[s,1]))===!1?!1:void 0}function pwe(t,e,n){if(Vd(n))return;const i=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(i)}function wwe(t,e,n){if(Vd(n))return;const i=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(i)}function bwe(t,e,n,i){if(Vd(i))return;const o=this.rowAxisSyncer.getRemovedHfIndexes().sort((r,a)=>a-r),s=this.engine.batch(()=>{o.forEach(r=>{this.engine.removeRows(this.sheetId,[r,1])})});this.renderDependentSheets(s)}function vwe(t,e,n,i){if(Vd(i))return;const o=this.columnAxisSyncer.getRemovedHfIndexes().sort((r,a)=>a-r),s=this.engine.batch(()=>{o.forEach(r=>{this.engine.removeColumns(this.sheetId,[r,1])})});this.renderDependentSheets(s)}function ywe(t,e,n){var i;Bl(La,this,!0);const o=this.hot.getSourceDataArray(n,0,n+(((i=e.__children)===null||i===void 0?void 0:i.length)||0),this.hot.countSourceCols());Bl(La,this,!1),o.forEach((s,r)=>{s.forEach((a,l)=>{this.engine.setCellContents({col:l,row:n+r,sheet:this.sheetId},[[a]])})})}function Cwe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function Swe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function _we(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function Rwe(t){this.hot.runHooks("afterSheetAdded",t)}function xwe(t,e){this.sheetName=e,this.hot.runHooks("afterSheetRenamed",t,e)}function Ewe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function Twe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,i,,o]=e;i-o!==0&&(n=1)}return this.getTranslatedPhrase(l1,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),i=Math.max(Math.min(e.col,n.col),0),o=Math.max(e.col,n.col),s=[];for(let l=i;l<=o;l+=1)s.push(l);t.hideColumns(s);const r=s[s.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(r,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function Mwe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(c1,n)},callback(){var n,i;if(e.length===0)return;let o=e[0],s=e[e.length-1];o=(n=this.columnIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,s=(i=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))!==null&&i!==void 0?i:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(),s-o+1===this.countCols()||this.selectColumns(o,s)},disabled:!1,hidden(){const n=at(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const i=this.getSelectedRangeLast(),o=i.getTopStartCorner().col,s=i.getBottomEndCorner().col,r=this.columnIndexMapper,a=r.getRenderableFromVisualIndex(o),l=r.getRenderableFromVisualIndex(s),c=r.getNotTrimmedIndexes(),u=[];if(o!==s){const h=s-o+1,d=l-a+1;if(h>d){const f=c.slice(o,s+1);u.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<o)u.push(...c.slice(0,o));else if(a===null)u.push(...c.slice(0,this.countCols()));else{const h=this.countCols()-1,d=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(h,-1));l===d&&h>s&&u.push(...c.slice(s+1))}return F(u,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function Pwe(t,e){lj(t,e),e.add(t)}function wk(t,e,n){lj(t,e),e.set(t,n)}function lj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function po(t,e){return t.get(dl(t,e))}function Wf(t,e,n){return t.set(dl(t,e),n),n}function dl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeHideColumns");Ee.getSingleton().register("afterHideColumns");Ee.getSingleton().register("beforeUnhideColumns");Ee.getSingleton().register("afterUnhideColumns");const y_="hiddenColumns",Owe=310;var Er=new WeakMap,Js=new WeakMap,Ec=new WeakSet;class Iwe extends _t{constructor(){super(...arguments),Pwe(this,Ec),wk(this,Er,{}),wk(this,Js,null)}static get PLUGIN_KEY(){return y_}static get PLUGIN_PRIORITY(){return Owe}isEnabled(){return!!this.hot.getSettings()[y_]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[y_];Je(n)&&(Wf(Er,this,n),Gt(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Wf(Js,this,new UC),po(Js,this).addLocalHook("init",()=>dl(Ec,this,Lwe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,po(Js,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dl(Ec,e,Dwe).call(e,...o)}),this.addHook("afterGetCellMeta",(i,o,s)=>dl(Ec,this,Hwe).call(this,i,o,s)),this.addHook("modifyColWidth",(i,o)=>dl(Ec,this,Awe).call(this,i,o),2),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dl(Ec,e,Nwe).call(e,...o)}),this.addHook("modifyCopyableRange",i=>dl(Ec,this,kwe).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Wf(Er,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),i=this.isValidConfig(e);let o=n;const s=po(Js,this).getValues().slice(),r=e.length>0;if(i&&r){const l=e.map(c=>this.hot.toPhysicalColumn(c));F(l,c=>{s[c]=!1}),o=Li(s,(c,u,h)=>(u&&c.push(this.hot.toVisualColumn(h)),c),[])}this.hot.runHooks("beforeUnhideColumns",n,o,i&&r)!==!1&&(i&&r&&po(Js,this).setValues(s),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,o,i&&r,i&&o.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),i=this.isValidConfig(e);let o=n;i&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,o,i)!==!1&&(i&&this.hot.batchExecution(()=>{F(e,r=>{po(Js,this).setValueAtIndex(this.hot.toPhysicalColumn(r),!0)})},!0),this.hot.runHooks("afterHideColumns",n,o,i,i&&o.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.hideColumns(n)}getHiddenColumns(){return at(po(Js,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return po(Js,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(i=>Number.isInteger(i)&&i>=0&&i<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){Wf(Er,this,null),Wf(Js,this,null),super.destroy()}}function Awe(t,e){if(this.isHidden(e))return 0;if(po(Er,this).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function Hwe(t,e,n){if(po(Er,this).copyPasteEnabled===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const i=n.className.split(" ");if(i.length>0){const o=i.indexOf("afterHiddenColumn");o>-1&&i.splice(o,1),n.className=i.join(" ")}}}function kwe(t){if(po(Er,this).copyPasteEnabled)return t;const e=[],n=(i,o,s,r)=>{e.push({startRow:i,endRow:o,startCol:s,endCol:r})};return F(t,i=>{let o=!0,s=0;Oe(i.startCol,i.endCol,r=>{this.isHidden(r)?(o||n(i.startRow,i.endRow,s,r-1),o=!0):(o&&(s=r),r===i.endCol&&n(i.startRow,i.endRow,s,r),o=!1)})}),e}function Nwe(t,e){if(!po(Er,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),ue(e,n)}function Dwe(t){t.items.push({name:Ze},Twe(this),Mwe(this))}function Lwe(){Array.isArray(po(Er,this).columns)&&this.hideColumns(po(Er,this).columns)}function $we(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[i,,o]=e;i-o!==0&&(n=1)}return this.getTranslatedPhrase(u1,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),i=Math.max(Math.min(e.row,n.row),0),o=Math.max(e.row,n.row),s=[];for(let l=i;l<=o;l+=1)s.push(l);t.hideRows(s);const r=s[s.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(r,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function Fwe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(h1,n)},callback(){var n,i;if(e.length===0)return;let o=e[0],s=e[e.length-1];o=(n=this.rowIndexMapper.getNearestNotHiddenIndex(o-1,-1))!==null&&n!==void 0?n:0,s=(i=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))!==null&&i!==void 0?i:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(),s-o+1===this.countRows()||this.selectRows(o,s)},disabled:!1,hidden(){const n=at(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const i=this.getSelectedRangeLast(),o=i.getTopStartCorner().row,s=i.getBottomEndCorner().row,r=this.rowIndexMapper,a=r.getRenderableFromVisualIndex(o),l=r.getRenderableFromVisualIndex(s),c=r.getNotTrimmedIndexes(),u=[];if(o!==s){const h=s-o+1,d=l-a+1;if(h>d){const f=c.slice(o,s+1);u.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<o)u.push(...c.slice(0,o));else if(a===null)u.push(...c.slice(0,this.countRows()));else{const h=this.countRows()-1,d=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(h,-1));l===d&&h>s&&u.push(...c.slice(s+1))}return F(u,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function Vwe(t,e){cj(t,e),e.add(t)}function bk(t,e,n){cj(t,e),e.set(t,n)}function cj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Do(t,e){return t.get(fl(t,e))}function Bf(t,e,n){return t.set(fl(t,e),n),n}function fl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeHideRows");Ee.getSingleton().register("afterHideRows");Ee.getSingleton().register("beforeUnhideRows");Ee.getSingleton().register("afterUnhideRows");const C_="hiddenRows",Wwe=320;var Ea=new WeakMap,Qs=new WeakMap,Tc=new WeakSet;class Bwe extends _t{constructor(){super(...arguments),Vwe(this,Tc),bk(this,Ea,{}),bk(this,Qs,null)}static get PLUGIN_KEY(){return C_}static get PLUGIN_PRIORITY(){return Wwe}isEnabled(){return!!this.hot.getSettings()[C_]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[C_];Je(n)&&(Bf(Ea,this,n),Gt(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Bf(Qs,this,new UC),Do(Qs,this).addLocalHook("init",()=>fl(Tc,this,Kwe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Do(Qs,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return fl(Tc,e,Gwe).call(e,...o)}),this.addHook("afterGetCellMeta",(i,o,s)=>fl(Tc,this,Uwe).call(this,i,o,s)),this.addHook("modifyRowHeight",(i,o)=>fl(Tc,this,jwe).call(this,i,o)),this.addHook("afterGetRowHeader",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return fl(Tc,e,Ywe).call(e,...o)}),this.addHook("modifyCopyableRange",i=>fl(Tc,this,zwe).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),Bf(Ea,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),i=this.isValidConfig(e);let o=n;const s=Do(Qs,this).getValues().slice(),r=e.length>0;if(i&&r){const l=e.map(c=>this.hot.toPhysicalRow(c));F(l,c=>{s[c]=!1}),o=Li(s,(c,u,h)=>(u&&c.push(this.hot.toVisualRow(h)),c),[])}this.hot.runHooks("beforeUnhideRows",n,o,i&&r)!==!1&&(i&&r&&Do(Qs,this).setValues(s),this.hot.runHooks("afterUnhideRows",n,o,i&&r,i&&o.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),i=this.isValidConfig(e);let o=n;i&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,o,i)!==!1&&(i&&this.hot.batchExecution(()=>{F(e,r=>{Do(Qs,this).setValueAtIndex(this.hot.toPhysicalRow(r),!0)})},!0),this.hot.runHooks("afterHideRows",n,o,i,i&&o.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.hideRows(n)}getHiddenRows(){return at(Do(Qs,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return Do(Qs,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(i=>Number.isInteger(i)&&i>=0&&i<n):!1}resetCellsMeta(){F(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){Bf(Ea,this,null),Bf(Qs,this,null),super.destroy()}}function jwe(t,e){return this.isHidden(e)?0:t}function Uwe(t,e,n){if(Do(Ea,this).copyPasteEnabled===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const i=n.className.split(" ");if(i.length>0){const o=i.indexOf("afterHiddenRow");o>-1&&i.splice(o,1),n.className=i.join(" ")}}}function zwe(t){if(Do(Ea,this).copyPasteEnabled)return t;const e=[],n=(i,o,s,r)=>{e.push({startRow:i,endRow:o,startCol:s,endCol:r})};return F(t,i=>{let o=!0,s=0;Oe(i.startRow,i.endRow,r=>{this.isHidden(r)?(o||n(s,r-1,i.startCol,i.endCol),o=!0):(o&&(s=r),r===i.endRow&&n(s,r,i.startCol,i.endCol),o=!1)})}),e}function Ywe(t,e){if(!Do(Ea,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),ue(e,n)}function Gwe(t){t.items.push({name:Ze},$we(this),Fwe(this))}function Kwe(){Array.isArray(Do(Ea,this).rows)&&this.hideRows(Do(Ea,this).rows)}function qwe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(zT)},callback(e,n){const[{start:{col:i}}]=n;t.freezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function Xwe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(YT)},callback(e,n){const[{start:{col:i}}]=n;t.unfreezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function Zwe(t,e){uj(t,e),e.add(t)}function Jwe(t,e,n){uj(t,e),e.set(t,n)}function uj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mx(t,e){return t.get(Ry(t,e))}function S_(t,e,n){return t.set(Ry(t,e),n),n}function Ry(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeColumnFreeze");Ee.getSingleton().register("afterColumnFreeze");Ee.getSingleton().register("beforeColumnUnfreeze");Ee.getSingleton().register("afterColumnUnfreeze");const vk="manualColumnFreeze",Qwe=110;var Yc=new WeakMap,__=new WeakSet;class ebe extends _t{constructor(){super(...arguments),Zwe(this,__),Jwe(this,Yc,!1)}static get PLUGIN_KEY(){return vk}static get PLUGIN_PRIORITY(){return Qwe}isEnabled(){return!!this.hot.getSettings()[vk]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>Ry(__,this,tbe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>Ry(__,this,nbe).call(this,e,n)),super.enablePlugin())}disablePlugin(){S_(Yc,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),i=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;Mx(Yc,this)||S_(Yc,this,!0),this.hot.runHooks("beforeColumnFreeze",e,i)!==!1&&(i&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,i))}unfreezeColumn(e){const n=this.hot.getSettings(),i=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;Mx(Yc,this)||S_(Yc,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,i)!==!1&&(i&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,i))}}function tbe(t){t.items.push({name:"---------"},qwe(this),Xwe(this))}function nbe(t,e){if(Mx(Yc,this)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(i=>i<n))return!1}}function ib(t,e,n){return(e=ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=obe(t,"string");return typeof e=="symbol"?e:e+""}function obe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const R_=0,yk=1,Ck=2,yh="px";let hj=class{constructor(e){ib(this,"hot",void 0),ib(this,"_element",null),ib(this,"state",R_),ib(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=Ck}build(){this.state===R_&&(this._element=this.hot.rootDocument.createElement("div"),this.state=yk)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=R_}isAppended(){return this.state===Ck}isBuilt(){return this.state>=yk}setPosition(e,n){ki(e)&&(this._element.style.top=e+yh),ki(n)&&(this._element.style[this.inlineProperty]=n+yh)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,n){ki(e)&&(this._element.style.width=e+yh),ki(n)&&(this._element.style.height=n+yh)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){ki(e)&&(this._element.style.marginTop=e+yh),ki(n)&&(this._element.style[`margin${Hs(this.inlineProperty)}`]=n+yh)}getOffset(){const e=this._element.style,n=`margin${Hs(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[n]?parseInt(e[n],10):0}}};const sbe="ht__manualColumnMove--backlight";let rbe=class extends hj{build(){super.build(),ue(this._element,sbe)}};const abe="ht__manualColumnMove--guideline";let lbe=class extends hj{build(){super.build(),ue(this._element,abe)}};function cbe(t,e){dj(t,e),e.add(t)}function ls(t,e,n){dj(t,e),e.set(t,n)}function dj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ji(t,e,n){return t.set(gl(t,e),n),n}function Pe(t,e){return t.get(gl(t,e))}function gl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeColumnMove");Ee.getSingleton().register("afterColumnMove");const x_="manualColumnMove",ube=120,Sk="ht__manualColumnMove",xy="show-ui",Px="on-moving--columns",Ox="after-selection--columns";var Ii=new WeakMap,yl=new WeakMap,Ta=new WeakMap,yv=new WeakMap,Ml=new WeakMap,Oi=new WeakMap,ob=new WeakMap,Io=new WeakMap,Dh=new WeakMap,Ey=new WeakMap,Vg=new WeakMap,Mc=new WeakSet;class hbe extends _t{constructor(){super(...arguments),cbe(this,Mc),ls(this,Ii,new rbe(this.hot)),ls(this,yl,new lbe(this.hot)),ls(this,Ta,[]),ls(this,yv,0),ls(this,Ml,!1),ls(this,Oi,{}),ls(this,ob,void 0),ls(this,Io,void 0),ls(this,Dh,void 0),ls(this,Ey,void 0),ls(this,Vg,void 0)}static get PLUGIN_KEY(){return x_}static get PLUGIN_PRIORITY(){return ube}isEnabled(){return!!this.hot.getSettings()[x_]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return gl(Mc,e,dbe).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return gl(Mc,e,gbe).call(e,...i)}),this.addHook("afterScrollVertically",()=>gl(Mc,this,pbe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return gl(Mc,e,wbe).call(e,...i)}),this.buildPluginUI(),this.registerEvents(),ue(this.hot.rootElement,Sk),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){je(this.hot.rootElement,Sk),this.unregisterEvents(),Pe(Ii,this).destroy(),Pe(yl,this).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const i=Pe(ob,this),o=this.isMovePossible(e,n),s=this.hot.runHooks("beforeColumnMove",e,n,i,o);if(Ji(ob,this,void 0),s===!1)return;o&&this.hot.columnIndexMapper.moveIndexes(e,n);const r=o&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,i,o,r),r}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const i=this.countFinalIndex(e,n);return Ji(ob,this,n),this.moveColumns(e,i)}isMovePossible(e,n){const i=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>i,s=n<0,r=e.some(l=>l<0),a=e.some(l=>l>=i);return!(o||s||r||a)}isColumnOrderChanged(e,n){return e.some((i,o)=>i-o!==n)}countFinalIndex(e,n){const i=Li(e,(o,s)=>(s<n&&(o+=1),o),0);return n-i}getColumnsWidth(e,n){const i=this.hot.columnIndexMapper;let o=0;for(let s=e;s<=n;s+=1){const r=i.getRenderableFromVisualIndex(s);s<0?o+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:r!==null&&(o+=this.hot.view._wt.wtTable.getStretchedColumnWidth(r)||0)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[x_];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const i=[];return Oe(e,n,o=>{i.push(o)}),i}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(Pe(Io,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,i=this.hot.view._wt.wtOverlays.scrollableElement,o=typeof i.scrollX=="number"?i.scrollX:i.scrollLeft;let s=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,Pe(Io,this)-1);const r=n.hider.offsetWidth,a=n.TBODY.offsetLeft,l=Pe(Ii,this).getOffset().start,c=Pe(Ii,this).getSize().width;let u=0,h=0;if(this.hot.isRtl()){const g=this.hot.rootWindow,m=Kt(this.hot.rootElement),w=g.innerWidth-Pe(Dh,this)-m;h=g.innerWidth-Pe(Oi,this).eventPageX-w-(i.scrollX===void 0?o:0)}else h=Pe(Oi,this).eventPageX-(Pe(Dh,this)-(i.scrollX===void 0?o:0));if(Pe(Ey,this)&&(u=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(Pe(Io,this))&&(s+=o),s+=u,Pe(Io,this)<0)Pe(Vg,this)>0?Pe(Oi,this).col=0:Pe(Oi,this).col=e>0?e-1:e;else if(Pe(Oi,this).TD.offsetWidth/2+s<=h){const g=Pe(Io,this)>=Pe(yv,this)?Pe(yv,this)-1:Pe(Io,this);Pe(Oi,this).col=g+1,s+=Pe(Oi,this).TD.offsetWidth}else Pe(Oi,this).col=Pe(Io,this);let d=h,f=s;h+c+l>=r?d=r-c-l:h+l<a+u&&(d=a+u+Math.abs(l)),s>=r-1?f=r-1:f===0?f=1:i.scrollX!==void 0&&Pe(Io,this)<Pe(Vg,this)&&(f-=Pe(Dh,this)<=i.scrollX?Pe(Dh,this):0),Pe(Ii,this).setPosition(null,d),Pe(yl,this).setPosition(null,f)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>gl(Mc,this,fbe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>gl(Mc,this,mbe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Pe(Ii,this).build(),Pe(yl,this).build()}destroy(){Pe(Ii,this).destroy(),Pe(yl,this).destroy(),super.destroy()}}function dbe(t,e,n,i){const o=this.hot.view._wt.wtTable,s=this.hot.selection.isSelectedByColumnHeader(),r=this.hot.getSelectedRangeLast(),a=Fe(t.target,"sortAction");if(!r||!s||Pe(Ml,this)||t.button!==0||a){Ji(Ml,this,!1),Pe(Ta,this).length=0,je(this.hot.rootElement,[Px,xy]);return}const l=Pe(yl,this).isBuilt()&&!Pe(yl,this).isAppended(),c=Pe(Ii,this).isBuilt()&&!Pe(Ii,this).isAppended();l&&c&&(Pe(yl,this).appendTo(o.hider),Pe(Ii,this).appendTo(o.hider));const{from:u,to:h}=r,d=Math.min(u.col,h.col),f=Math.max(u.col,h.col);if(e.row<0&&e.col>=d&&e.col<=f){i.column=!0,Ji(Ml,this,!0);const g=n.firstChild?nte(t,n.firstChild).x:t.offsetX;Pe(Oi,this).eventPageX=t.pageX,Ji(Io,this,e.col),Pe(Oi,this).TD=n,Pe(Oi,this).col=e.col,Ji(Ta,this,this.prepareColumnsToMoving(d,f)),Ji(Ey,this,!!this.hot.getSettings().rowHeaders),Ji(yv,this,this.hot.countCols()),Ji(Vg,this,this.hot.getSettings().fixedColumnsStart),Ji(Dh,this,Kn(this.hot.rootElement).left);const m=Pe(Ey,this)?-1:0,w=o.holder.scrollTop+o.getColumnHeaderHeight(0)+1,b=e.col<Pe(Vg,this),C=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),y=Math.abs(g-(this.hot.isRtl()?n.offsetWidth:0)),E=this.getColumnsWidth(d,e.col-1)+y,T=this.getColumnsWidth(m,d-1)+(b?C:0)+E;Pe(Ii,this).setPosition(w,T),Pe(Ii,this).setSize(this.getColumnsWidth(d,f),o.hider.offsetHeight-w),Pe(Ii,this).setOffset(null,-E),ue(this.hot.rootElement,Px)}else je(this.hot.rootElement,Ox),Ji(Ml,this,!1),Pe(Ta,this).length=0}function fbe(t){Pe(Ml,this)&&(Pe(Oi,this).eventPageX=t.pageX,this.refreshPositions())}function gbe(t,e,n,i){!this.hot.getSelectedRangeLast()||!Pe(Ml,this)||(Pe(Ta,this).indexOf(e.col)>-1?je(this.hot.rootElement,xy):ue(this.hot.rootElement,xy),i.row=!0,i.column=!0,i.cell=!0,Ji(Io,this,e.col),Pe(Oi,this).TD=n)}function mbe(){const t=Pe(Oi,this).col,e=Pe(Ta,this).length;if(Ji(Io,this,void 0),Ji(Ml,this,!1),je(this.hot.rootElement,[Px,xy,Ox]),this.hot.selection.isSelectedByColumnHeader()&&ue(this.hot.rootElement,Ox),e<1||t===void 0)return;const n=Pe(Ta,this)[0],i=this.hot.toPhysicalColumn(n),o=this.dragColumns(Pe(Ta,this),t);if(Pe(Ta,this).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const s=this.hot.toVisualColumn(i),r=s+e-1;this.hot.selectColumns(s,r)}}function pbe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,i=e+n;Pe(Ii,this).setPosition(i),Pe(Ii,this).setSize(null,t.hider.offsetHeight-i)}function wbe(){this.moveBySettingsOrLoad()}function bbe(t,e){fj(t,e),e.add(t)}function gi(t,e,n){fj(t,e),e.set(t,n)}function fj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yn(t,e,n){return t.set(ws(t,e),n),n}function Se(t,e){return t.get(ws(t,e))}function ws(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ty="manualColumnResize",vbe=130,_k="manualColumnWidths";var ma=new WeakMap,sb=new WeakMap,fo=new WeakMap,My=new WeakMap,Cr=new WeakMap,ybe=new WeakMap,ld=new WeakMap,rb=new WeakMap,Gi=new WeakMap,la=new WeakMap,_u=new WeakMap,Py=new WeakMap,Wg=new WeakMap,Bg=new WeakMap,mo=new WeakMap,jg=new WeakMap,er=new WeakSet;class Cbe extends _t{static get PLUGIN_KEY(){return Ty}static get PLUGIN_PRIORITY(){return vbe}constructor(e){super(e),bbe(this,er),gi(this,ma,null),gi(this,sb,null),gi(this,fo,[]),gi(this,My,null),gi(this,Cr,null),gi(this,ybe,null),gi(this,ld,null),gi(this,rb,null),gi(this,Gi,this.hot.rootDocument.createElement("DIV")),gi(this,la,this.hot.rootDocument.createElement("DIV")),gi(this,_u,null),gi(this,Py,!1),gi(this,Wg,0),gi(this,Bg,null),gi(this,mo,void 0),gi(this,jg,void 0),ue(Se(Gi,this),"manualColumnResizer"),ue(Se(la,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Ty]}enablePlugin(){this.enabled||(yn(mo,this,new Zl),Se(mo,this).addLocalHook("init",()=>ws(er,this,Sbe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Se(mo,this)),this.addHook("modifyColWidth",(e,n)=>ws(er,this,Mbe).call(this,e,n),1),this.addHook("beforeStretchingColumnWidth",(e,n)=>ws(er,this,Pbe).call(this,e,n)),this.addHook("beforeColumnResize",(e,n,i)=>ws(er,this,Obe).call(this,e,n,i)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){yn(jg,this,Se(mo,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",_k,Se(mo,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",_k,e),e.value}setManualSize(e,n){const i=Math.max(n,20),o=this.hot.toPhysicalColumn(e);return Se(mo,this).setValueAtIndex(o,i),i}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);Se(mo,this).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;yn(ma,this,e);const{_wt:n}=this.hot.view,i=n.wtTable.getCoords(Se(ma,this)),o=i.col;if(o<0)return;const s=Pn(Se(ma,this)),r=Se(ma,this).getBoundingClientRect(),a=o<n.getSetting("fixedColumnsStart");let l;a&&(l=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Se(ma,this),i.row,i.col)),l||(l=n.wtOverlays.topOverlay.getRelativeCellPosition(Se(ma,this),i.row,i.col)),yn(sb,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)),yn(fo,this,[]);const c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){const u=this.hot.getSelectedRange();F(u,h=>{const d=h.getTopStartCorner().col,f=h.getBottomEndCorner().col;Oe(d,f,g=>{Se(fo,this).includes(g)||Se(fo,this).push(g)})})}Se(fo,this).includes(Se(sb,this))||yn(fo,this,[Se(sb,this)]),yn(rb,this,l.start-6),yn(ld,this,parseInt(r.width,10)),Se(Gi,this).style.top=`${l.top}px`,Se(Gi,this).style[this.inlineDir]=`${Se(rb,this)+Se(ld,this)}px`,Se(Gi,this).style.height=`${s}px`,this.hot.rootElement.appendChild(Se(Gi,this))}refreshHandlePosition(){Se(Gi,this).style[this.inlineDir]=`${Se(rb,this)+Se(My,this)}px`}setupGuidePosition(){const e=parseInt(Pn(Se(Gi,this)),10),n=parseInt(Se(Gi,this).style.top,10)+e,i=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ue(Se(Gi,this),"active"),ue(Se(la,this),"active"),Se(la,this).style.top=`${n}px`,this.refreshGuidePosition(),Se(la,this).style.height=`${i-e}px`,this.hot.rootElement.appendChild(Se(la,this))}refreshGuidePosition(){Se(la,this).style[this.inlineDir]=Se(Gi,this).style[this.inlineDir]}hideHandleAndGuide(){je(Se(Gi,this),"active"),je(Se(la,this),"active")}checkIfColumnHeader(e){const n=pu(e,["THEAD"],this.hot.rootElement),{topOverlay:i,topInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.THEAD,o.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(i,o)=>{const s=this.hot.runHooks("beforeColumnResize",Se(Cr,this),i,!0);s!==void 0&&yn(Cr,this,s),this.hot.getSettings().stretchH==="all"?this.clearManualSize(i):this.setManualSize(i,Se(Cr,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Se(Cr,this),i,!0),o&&e()};Se(Wg,this)>=2&&(Se(fo,this).length>1?(F(Se(fo,this),o=>{n(o)}),e()):F(Se(fo,this),o=>{n(o,!0)})),yn(Wg,this,0),yn(Bg,this,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",i=>ws(er,this,_be).call(this,i)),this.eventManager.addEventListener(n,"mousedown",i=>ws(er,this,Rbe).call(this,i)),this.eventManager.addEventListener(e,"mousemove",i=>ws(er,this,xbe).call(this,i)),this.eventManager.addEventListener(e,"mouseup",()=>ws(er,this,Ebe).call(this)),this.eventManager.addEventListener(Se(Gi,this),"contextmenu",()=>ws(er,this,Tbe).call(this))}destroy(){super.destroy()}}function Sbe(){const t=this.hot.getSettings()[Ty],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,i)=>{Se(mo,this).setValueAtIndex(i,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,i)=>{Se(mo,this).setValueAtIndex(i,n)})},!0),yn(jg,this,t)):t===!0&&Array.isArray(Se(jg,this))&&this.hot.batchExecution(()=>{Se(jg,this).forEach((n,i)=>{Se(mo,this).setValueAtIndex(i,n)})},!0)}function _be(t){if(!EV(t.target)&&Se(Py,this)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(Se(_u,this)||this.setupHandlePosition(e))}}function Rbe(t){t.target.parentNode===this.hot.rootElement&&Fe(t.target,"manualColumnResizer")&&(this.setupHandlePosition(Se(ma,this)),this.setupGuidePosition(),yn(_u,this,!0),Se(Bg,this)===null&&(yn(Bg,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Se(Bg,this))),yn(Wg,this,Se(Wg,this)+1),this.startX=t.pageX,yn(Cr,this,Se(ld,this)))}function xbe(t){if(Se(_u,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();yn(My,this,Se(ld,this)+e),F(Se(fo,this),n=>{yn(Cr,this,this.setManualSize(n,Se(My,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function Ebe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,i)=>{this.hot.runHooks("beforeColumnResize",Se(Cr,this),n,!1),i&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Se(Cr,this),n,!1)};Se(_u,this)&&(this.hideHandleAndGuide(),yn(_u,this,!1),Se(Cr,this)!==Se(ld,this)&&(Se(fo,this).length>1?(F(Se(fo,this),i=>{e(i)}),t()):F(Se(fo,this),i=>{e(i,!0)})),this.setupHandlePosition(Se(ma,this)))}function Tbe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Se(Gi,this)),this.hot.rootElement.removeChild(Se(la,this)),yn(_u,this,!1),yn(Py,this,!0),this.hot._registerImmediate(()=>{yn(Py,this,!1)})}function Mbe(t,e){let n=t;if(this.enabled){const i=this.hot.toPhysicalColumn(e),o=Se(mo,this).getValueAtIndex(i);this.hot.getSettings()[Ty]&&o&&(n=o)}return n}function Pbe(t,e){let n=Se(mo,this).getValueAtIndex(e);return n===null&&(n=t),n}function Obe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function E_(t,e,n){return(e=Ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Abe(t,"string");return typeof e=="symbol"?e:e+""}function Abe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const T_=0,Rk=1,xk=2,Ch="px";let gj=class{constructor(e){E_(this,"hot",void 0),E_(this,"_element",null),E_(this,"state",T_),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=xk}build(){this.state===T_&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Rk)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=T_}isAppended(){return this.state===xk}isBuilt(){return this.state>=Rk}setPosition(e,n){e!==void 0&&(this._element.style.top=e+Ch),n!==void 0&&(this._element.style.left=n+Ch)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,n){e&&(this._element.style.width=e+Ch),n&&(this._element.style.height=n+Ch)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){e&&(this._element.style.marginTop=e+Ch),n&&(this._element.style.marginLeft=n+Ch)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const Hbe="ht__manualRowMove--backlight";class kbe extends gj{build(){super.build(),ue(this._element,Hbe)}}const Nbe="ht__manualRowMove--guideline";class Dbe extends gj{build(){super.build(),ue(this._element,Nbe)}}function Lbe(t,e){mj(t,e),e.add(t)}function Sh(t,e,n){mj(t,e),e.set(t,n)}function mj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iu(t,e,n){return t.set(ml(t,e),n),n}function Ue(t,e){return t.get(ml(t,e))}function ml(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeRowMove");Ee.getSingleton().register("afterRowMove");const M_="manualRowMove",$be=140,Ek="ht__manualRowMove",Oy="show-ui",Ix="on-moving--rows",Ax="after-selection--rows";var Ai=new WeakMap,Cl=new WeakMap,Ma=new WeakMap,Pl=new WeakMap,Qi=new WeakMap,ab=new WeakMap,Pc=new WeakSet;class Fbe extends _t{constructor(){super(...arguments),Lbe(this,Pc),Sh(this,Ai,new kbe(this.hot)),Sh(this,Cl,new Dbe(this.hot)),Sh(this,Ma,[]),Sh(this,Pl,void 0),Sh(this,Qi,{}),Sh(this,ab,void 0)}static get PLUGIN_KEY(){return M_}static get PLUGIN_PRIORITY(){return $be}isEnabled(){return!!this.hot.getSettings()[M_]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ml(Pc,e,Vbe).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ml(Pc,e,Bbe).call(e,...i)}),this.addHook("afterScrollHorizontally",()=>ml(Pc,this,Ube).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ml(Pc,e,zbe).call(e,...i)}),this.buildPluginUI(),this.registerEvents(),ue(this.hot.rootElement,Ek),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){je(this.hot.rootElement,Ek),this.unregisterEvents(),Ue(Ai,this).destroy(),Ue(Cl,this).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const i=Ue(ab,this),o=this.isMovePossible(e,n),s=this.hot.runHooks("beforeRowMove",e,n,i,o);if(iu(ab,this,void 0),s===!1)return;o&&this.hot.rowIndexMapper.moveIndexes(e,n);const r=o&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,i,o,r),r}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const i=this.countFinalIndex(e,n);return iu(ab,this,n),this.moveRows(e,i)}isMovePossible(e,n){const i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),o=e.length+n>i,s=n<0,r=e.some(l=>l<0),a=e.some(l=>l>=i);return!(o||s||r||a)}isRowOrderChanged(e,n){return e.some((i,o)=>i-o!==n)}countFinalIndex(e,n){const i=Li(e,(o,s)=>(s<n&&(o+=1),o),0);return n-i}getRowsHeight(e,n){const i=this.hot.rowIndexMapper;let o=0;for(let s=e;s<=n;s++){const r=i.getRenderableFromVisualIndex(s);r!==null&&(o+=this.hot.view._wt.wtTable.getRowHeight(r)||23)}return o}moveBySettingsOrLoad(){const e=this.hot.getSettings()[M_];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:i,to:o}=e,s=Math.min(i.row,o.row),r=Math.max(i.row,o.row);return Oe(s,r,a=>{n.push(a)}),n}refreshPositions(){const e=Ue(Qi,this).coords,n=this.hot.view.getFirstFullyVisibleRow(),i=this.hot.view.getLastFullyVisibleRow(),o=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&i<o&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(i+1,1),void 0,!0);const s=this.hot.view._wt.wtTable,r=Ue(Qi,this).TD,a=this.hot.rootElement,l=Kn(a),c=vd(a),u=s.holder.scrollTop,h=this.hot.rootWindow!==c?c.scrollTop:0,d=l.top-h,f=Ue(Qi,this).eventPageY-d+u,g=s.hider.offsetHeight,m=s.TBODY.offsetTop,w=Ue(Ai,this).getOffset().top,b=Ue(Ai,this).getSize().height,C=r.offsetHeight/2,y=r.offsetHeight;let E=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const T=f>=E+C;this.isFixedRowTop(e.row)&&(E+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Ue(Qi,this).row=n>0?n-1:n:T?(Ue(Qi,this).row=e.row+1,E+=e.row===0?y-1:y):Ue(Qi,this).row=e.row;let N=f,D=E;f+b+w>=g?N=g-b-w:f+w<m&&(N=m+Math.abs(w)),E>=g-1&&(D=g-1),Ue(Ai,this).setPosition(N),Ue(Cl,this).setPosition(D)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>ml(Pc,this,Wbe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>ml(Pc,this,jbe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Ue(Ai,this).build(),Ue(Cl,this).build()}destroy(){Ue(Ai,this).destroy(),Ue(Cl,this).destroy(),super.destroy()}}function Vbe(t,e,n,i){const{wtTable:o,wtViewport:s}=this.hot.view._wt,r=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!r||Ue(Pl,this)||t.button!==0){iu(Pl,this,!1),Ue(Ma,this).length=0,je(this.hot.rootElement,[Ix,Oy]);return}const l=Ue(Cl,this).isBuilt()&&!Ue(Cl,this).isAppended(),c=Ue(Ai,this).isBuilt()&&!Ue(Ai,this).isAppended();l&&c&&(Ue(Cl,this).appendTo(o.hider),Ue(Ai,this).appendTo(o.hider));const{from:u,to:h}=a,d=Math.min(u.row,h.row),f=Math.max(u.row,h.row);if(e.col<0&&e.row>=d&&e.row<=f){i.row=!0,iu(Pl,this,!0),Ue(Qi,this).eventPageY=t.pageY,Ue(Qi,this).coords=e,Ue(Qi,this).TD=n,iu(Ma,this,this.prepareRowsToMoving());const g=o.holder.scrollLeft+s.getRowHeaderWidth(),m=this.getRowsHeight(d,e.row-1)+t.offsetY;Ue(Ai,this).setPosition(null,g),Ue(Ai,this).setSize(o.hider.offsetWidth-g,this.getRowsHeight(d,f)),Ue(Ai,this).setOffset(-m,null),ue(this.hot.rootElement,Ix),this.refreshPositions()}else je(this.hot.rootElement,Ax),iu(Pl,this,!1),Ue(Ma,this).length=0}function Wbe(t){Ue(Pl,this)&&(Ue(Qi,this).eventPageY=t.pageY,this.refreshPositions())}function Bbe(t,e,n,i){!this.hot.getSelectedRangeLast()||!Ue(Pl,this)||(Ue(Ma,this).indexOf(e.row)>-1?je(this.hot.rootElement,Oy):ue(this.hot.rootElement,Oy),i.row=!0,i.column=!0,i.cell=!0,Ue(Qi,this).coords=e,Ue(Qi,this).TD=n)}function jbe(){const t=Ue(Qi,this).row,e=Ue(Ma,this).length;if(iu(Pl,this,!1),je(this.hot.rootElement,[Ix,Oy,Ax]),this.hot.selection.isSelectedByRowHeader()&&ue(this.hot.rootElement,Ax),e<1||t===void 0)return;const n=Ue(Ma,this)[0],i=this.hot.toPhysicalRow(n),o=this.dragRows(Ue(Ma,this),t);if(Ue(Ma,this).length=0,o===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const s=this.hot.toVisualRow(i),r=s+e-1;this.hot.selectRows(s,r)}}function Ube(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,i=e+n;Ue(Ai,this).setPosition(null,i),Ue(Ai,this).setSize(t.hider.offsetWidth-i)}function zbe(){this.moveBySettingsOrLoad()}function Ybe(t,e){pj(t,e),e.add(t)}function mi(t,e,n){pj(t,e),e.set(t,n)}function pj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fn(t,e,n){return t.set(pa(t,e),n),n}function Ce(t,e){return t.get(pa(t,e))}function pa(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Iy="manualRowResize",Gbe=30,Tk="manualRowHeights";var dr=new WeakMap,lb=new WeakMap,go=new WeakMap,Ug=new WeakMap,Sl=new WeakMap,UM=new WeakMap,cd=new WeakMap,cb=new WeakMap,Mi=new WeakMap,lr=new WeakMap,Ru=new WeakMap,Ay=new WeakMap,zg=new WeakMap,Yg=new WeakMap,vs=new WeakMap,Gg=new WeakMap,nl=new WeakSet;class Kbe extends _t{static get PLUGIN_KEY(){return Iy}static get PLUGIN_PRIORITY(){return Gbe}constructor(e){super(e),Ybe(this,nl),mi(this,dr,null),mi(this,lb,null),mi(this,go,[]),mi(this,Ug,null),mi(this,Sl,null),mi(this,UM,null),mi(this,cd,null),mi(this,cb,null),mi(this,Mi,this.hot.rootDocument.createElement("DIV")),mi(this,lr,this.hot.rootDocument.createElement("DIV")),mi(this,Ru,!1),mi(this,Ay,!1),mi(this,zg,0),mi(this,Yg,null),mi(this,vs,void 0),mi(this,Gg,void 0),ue(Ce(Mi,this),"manualRowResizer"),ue(Ce(lr,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Iy]}enablePlugin(){this.enabled||(fn(vs,this,new Zl),Ce(vs,this).addLocalHook("init",()=>pa(nl,this,tve).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Ce(vs,this)),this.addHook("modifyRowHeight",(e,n)=>pa(nl,this,eve).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){fn(Gg,this,Ce(vs,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",Tk,Ce(vs,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",Tk,e),e.value}setManualSize(e,n){const i=this.hot.toPhysicalRow(e),o=Math.max(n,wW);return Ce(vs,this).setValueAtIndex(i,o),o}getLastDesiredRowHeight(){return Ce(Ug,this)}setupHandlePosition(e){fn(dr,this,e);const{view:n}=this.hot,{_wt:i}=n,o=i.wtTable.getCoords(Ce(dr,this)),s=o.row;if(s<0)return;const r=Kt(Ce(dr,this)),a=Ce(dr,this).getBoundingClientRect(),l=s<i.getSetting("fixedRowsTop"),c=s>=n.countNotHiddenRowIndexes(0,1)-i.getSetting("fixedRowsBottom");let u;l?u=i.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Ce(dr,this),o.row,o.col):c&&(u=i.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Ce(dr,this),o.row,o.col)),u||(u=i.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Ce(dr,this),o.row,o.col)),fn(lb,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(s)),fn(go,this,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const d=this.hot.getSelectedRange();F(d,f=>{const g=f.getTopStartCorner().row,m=f.getBottomStartCorner().row;Oe(g,m,w=>{Ce(go,this).includes(w)||Ce(go,this).push(w)})})}Ce(go,this).includes(Ce(lb,this))||fn(go,this,[Ce(lb,this)]),fn(cb,this,u.top-6),fn(cd,this,parseInt(a.height,10)),Ce(Mi,this).style.top=`${Ce(cb,this)+Ce(cd,this)}px`,Ce(Mi,this).style[this.inlineDir]=`${u.start}px`,Ce(Mi,this).style.width=`${r}px`,this.hot.rootElement.appendChild(Ce(Mi,this))}refreshHandlePosition(){Ce(Mi,this).style.top=`${Ce(cb,this)+Ce(Ug,this)}px`}setupGuidePosition(){const e=parseInt(Kt(Ce(Mi,this)),10),n=parseInt(Ce(Mi,this).style[this.inlineDir],10)+e,i=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ue(Ce(Mi,this),"active"),ue(Ce(lr,this),"active"),Ce(lr,this).style.top=Ce(Mi,this).style.top,Ce(lr,this).style[this.inlineDir]=`${n}px`,Ce(lr,this).style.width=`${i-e}px`,this.hot.rootElement.appendChild(Ce(lr,this))}refreshGuidePosition(){Ce(lr,this).style.top=Ce(Mi,this).style.top}hideHandleAndGuide(){je(Ce(Mi,this),"active"),je(Ce(lr,this),"active")}checkIfRowHeader(e){const n=pu(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:i,topInlineStartCornerOverlay:o,bottomInlineStartCornerOverlay:s}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.TBODY,o.clone.wtTable.TBODY,s.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&Ce(Sl,this)<n?n:Ce(Sl,this)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(i,o)=>{const s=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(i),i,!0);s!==void 0&&fn(Sl,this,s),this.setManualSize(i,Ce(Sl,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(i),i,!0),o&&e()};Ce(zg,this)>=2&&(Ce(go,this).length>1?(F(Ce(go,this),o=>{n(o)}),e()):F(Ce(go,this),o=>{n(o,!0)})),fn(zg,this,0),fn(Yg,this,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",i=>pa(nl,this,qbe).call(this,i)),this.eventManager.addEventListener(e,"mousedown",i=>pa(nl,this,Xbe).call(this,i)),this.eventManager.addEventListener(n,"mousemove",i=>pa(nl,this,Zbe).call(this,i)),this.eventManager.addEventListener(n,"mouseup",()=>pa(nl,this,Jbe).call(this)),this.eventManager.addEventListener(Ce(Mi,this),"contextmenu",()=>pa(nl,this,Qbe).call(this))}destroy(){super.destroy()}}function qbe(t){if(!EV(t.target)&&Ce(Ay,this)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(Ce(Ru,this)||this.setupHandlePosition(e))}}function Xbe(t){Fe(t.target,"manualRowResizer")&&(this.setupHandlePosition(Ce(dr,this)),this.setupGuidePosition(),fn(Ru,this,!0),Ce(Yg,this)===null&&(fn(Yg,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Ce(Yg,this))),fn(zg,this,Ce(zg,this)+1),fn(UM,this,t.pageY),fn(Sl,this,Ce(cd,this)))}function Zbe(t){Ce(Ru,this)&&(fn(Ug,this,Ce(cd,this)+(t.pageY-Ce(UM,this))),F(Ce(go,this),e=>{fn(Sl,this,this.setManualSize(e,Ce(Ug,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function Jbe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,i)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),i&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};Ce(Ru,this)&&(this.hideHandleAndGuide(),fn(Ru,this,!1),Ce(Sl,this)!==Ce(cd,this)&&(Ce(go,this).length>1?(F(Ce(go,this),i=>{e(i)}),t()):F(Ce(go,this),i=>{e(i,!0)})),this.setupHandlePosition(Ce(dr,this)))}function Qbe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Ce(Mi,this)),this.hot.rootElement.removeChild(Ce(lr,this)),fn(Ru,this,!1),fn(Ay,this,!0),this.hot._registerImmediate(()=>{fn(Ay,this,!1)})}function eve(t,e){let n=t;if(this.enabled){const i=this.hot.toPhysicalRow(e),o=Ce(vs,this).getValueAtIndex(i);this.hot.getSettings()[Iy]&&o&&(n=o)}return n}function tve(){const t=this.hot.getSettings()[Iy],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,i)=>{Ce(vs,this).setValueAtIndex(i,n)}):Array.isArray(t)?(t.forEach((n,i)=>{Ce(vs,this).setValueAtIndex(i,n)}),fn(Gg,this,t)):t===!0&&Array.isArray(Ce(Gg,this))&&Ce(Gg,this).forEach((n,i)=>{Ce(vs,this).setValueAtIndex(i,n)})},!0)}function nve(t,e,n){ive(t,e),e.set(t,n)}function ive(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oc(t,e,n){return(e=ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=sve(t,"string");return typeof e=="symbol"?e:e+""}function sve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mk(t,e){return t.get(wj(t,e))}function ub(t,e,n){return t.set(wj(t,e),n),n}function wj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ic=new WeakMap;class fr{constructor(e,n,i,o,s,r){Oc(this,"row",void 0),Oc(this,"col",void 0),Oc(this,"rowspan",void 0),Oc(this,"colspan",void 0),Oc(this,"removed",!1),Oc(this,"cellCoordsFactory",void 0),Oc(this,"cellRangeFactory",void 0),nve(this,Ic,null),this.row=e,this.col=n,this.rowspan=i,this.colspan=o,this.cellCoordsFactory=s,this.cellRangeFactory=r}static NEGATIVE_VALUES_WARNING(e){let{row:n,col:i,rowspan:o,colspan:s}=e;return Tt`The merged cell declared with {row: ${n}, col: ${i},\x20
      rowspan: ${o}, colspan: ${s}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:n,col:i}=e;return Tt`The merged cell declared at [${n}, ${i}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:n,col:i}=e;return Tt`The merged cell declared at [${n}, ${i}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:n,col:i}=e;return Tt`The merged cell declared at [${n}, ${i}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:n,col:i,rowspan:o,colspan:s}=e;return n<0||i<0||o<0||s<0}static isSingleCell(e){let{rowspan:n,colspan:i}=e;return i===1&&n===1}static containsZeroSpan(e){let{rowspan:n,colspan:i}=e;return i===0||n===0}static isOutOfBounds(e,n,i){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=i||e.col+e.colspan-1>=i}normalize(e){const n=e.countRows(),i=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col),ub(Ic,this,null)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const i=e[0]||e[1],o=n+Math.abs(e[0]||e[1])-1,s=e[0]?"colspan":"rowspan",r=e[0]?"col":"row",a=Math.min(n,o),l=Math.max(n,o),c=this[r],u=this[r]+this[s]-1;if(c>=n&&(this[r]+=i),i>0)n<=u&&n>c&&(this[s]+=i);else if(i<0){if(a<=c&&l>=u)return this.removed=!0,ub(Ic,this,null),!1;if(c>=a&&c<=l){const h=l-c+1,d=Math.abs(i)-h;this[r]-=d+i,this[s]-=h}else if(c<=a&&u>=l)this[s]+=i;else if(c<=a&&u>=a&&u<l){const h=u-a+1;this[s]-=h}}return ub(Ic,this,null),!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return Mk(Ic,this)||ub(Ic,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),Mk(Ic,this)}}function rve(t,e){ave(t,e),e.add(t)}function ave(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hb(t,e,n){return(e=lve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=cve(t,"string");return typeof e=="symbol"?e:e+""}function cve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ac(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var il=new WeakSet;class Hy{constructor(e){rve(this,il),hb(this,"plugin",void 0),hb(this,"mergedCells",[]),hb(this,"mergedCellsMatrix",new Map),hb(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:n,col:i}=e;return Tt`The merged cell declared at [${n}, ${i}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){var i;return this.mergedCellsMatrix.has(e)&&(i=this.mergedCellsMatrix.get(e).get(n))!==null&&i!==void 0?i:!1}getByRange(e){let n=!1;return F(this.mergedCells,i=>i.row<=e.from.row&&i.row+i.rowspan-1>=e.to.row&&i.col<=e.from.col&&i.col+i.colspan-1>=e.to.col?(n=i,n):!0),n}filterOverlappingMergeCells(e){const n=new Set;return this.mergedCells.forEach(o=>{const{row:s,col:r,colspan:a,rowspan:l}=o;for(let c=s;c<s+l;c++)for(let u=r;u<r+a;u++)n.add(`r${c},c${u}`)}),e.filter(o=>{const{row:s,col:r,colspan:a,rowspan:l}=o,c=new Set;let u=!1;for(let h=s;h<s+l;h++){for(let d=r;d<r+a;d++){const f=`r${h},c${d}`;if(n.has(f)){Et(Hy.IS_OVERLAPPING_WARNING(o)),u=!0;break}c.add(f)}if(u)break}return u||n.add(...c),!u})}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{row:i,col:o}=e.getTopStartCorner(),{row:s,col:r}=e.getBottomEndCorner(),a=[];for(let l=i;l<=s;l++)for(let c=o;c<=r;c++){const u=this.get(l,c);u&&(n||!n&&u.row===l&&u.col===c)&&a.push(u)}return a}add(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=e.row,o=e.col,s=e.rowspan,r=e.colspan,a=new fr(i,o,s,r,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(i,o),c=n?!1:this.isOverlapping(a);return!l&&!c?(this.hot&&a.normalize(this.hot),this.mergedCells.push(a),Ac(il,this,Pk).call(this,a),a):(Et(Hy.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const i=this.get(e,n),o=i?this.mergedCells.indexOf(i):-1;return i&&o!==-1?(this.mergedCells.splice(o,1),Ac(il,this,uve).call(this,i),i):!1}clear(){F(this.mergedCells,e=>{let{row:n,col:i,rowspan:o,colspan:s}=e;Oe(n,n+o,r=>{Oe(i,i+s,a=>{const l=this.hot.getCell(r,a);l&&(l.removeAttribute("rowspan"),l.removeAttribute("colspan"),l.style.display="")})})}),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const n=e.getRange();for(let i=0;i<this.mergedCells.length;i++)if(this.mergedCells[i].getRange().overlaps(n))return!0;return!1}isFirstRenderableMergedCell(e,n){const i=this.get(e,n);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===n}getFirstRenderableCoords(e,n){const i=this.get(e,n);if(!i||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const o=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(o,s)}getStartMostColumnIndex(e,n){const i=Ac(il,this,db).call(this,e,"col",-1);let o=n;for(let s=0;s<i.length;s++)if(i[s]<=n){o=i[s];break}return o}getEndMostColumnIndex(e,n){const i=Ac(il,this,db).call(this,e,"col",1);let o=n;for(let s=0;s<i.length;s++)if(i[s]>=n){o=i[s];break}return o}getTopMostRowIndex(e,n){const i=Ac(il,this,db).call(this,e,"row",-1);let o=n;for(let s=0;s<i.length;s++)if(i[s]<=n){o=i[s];break}return o}getBottomMostRowIndex(e,n){const i=Ac(il,this,db).call(this,e,"row",1);let o=n;for(let s=0;s<i.length;s++)if(i[s]>=n){o=i[s];break}return o}shiftCollections(e,n,i){const o=[0,0];switch(e){case"right":o[0]+=i;break;case"left":o[0]-=i;break;case"down":o[1]+=i;break;case"up":o[1]-=i;break}const s=[];this.mergedCells.forEach(r=>{r.shift(o,n),r.removed&&s.push(r)}),s.forEach(r=>{this.mergedCells.splice(this.mergedCells.indexOf(r),1)}),this.mergedCellsMatrix.clear(),this.mergedCells.forEach(r=>{Ac(il,this,Pk).call(this,r)})}}function db(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=new Map,o=n===1?t.getTopStartCorner():t.getBottomEndCorner(),s=n===1?t.getBottomEndCorner():t.getTopStartCorner();for(let r=o.row;n===1?r<=s.row:r>=s.row;r+=n)for(let a=o.col;n===1?a<=s.col:a>=s.col;a+=n){const l=e==="row"?r:a,c=this.get(r,a);let u=l;c&&(u=n===1?c[e]+c[`${e}span`]-1:c[e]),i.has(l)||i.set(l,new Set),i.get(l).add(u)}return Array.from(new Set(Array.from(i.entries()).filter(r=>{let[,a]=r;return a.size===1}).flatMap(r=>{let[,a]=r;return Array.from(a)})))}function Pk(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.has(e)||this.mergedCellsMatrix.set(e,new Map),this.mergedCellsMatrix.get(e).set(n,t)}function uve(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.get(e).delete(n)}function P_(t,e,n){return(e=hve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hve(t){var e=dve(t,"string");return typeof e=="symbol"?e:e+""}function dve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fve{constructor(e){P_(this,"plugin",void 0),P_(this,"mergedCellsCollection",void 0),P_(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const n=this.mergedCellsCollection.get(e[0],e[1]);n&&(e[2]=e[0]+n.rowspan-1,e[3]=e[1]+n.colspan-1)}}getDirection(e,n){let i=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?i="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?i="up":n[1]===e[1]&&n[2]===e[2]?i="right":i="left",i}snapDragArea(e,n,i,o){const s=n.slice(0),r=this.getAutofillSize(e,n,i),[a,l,c,u]=e,d=["up","down"].indexOf(i)>-1?c-a+1:u-l+1,f=Math.floor(r/d)*d,g=r-f,m=this.getFarthestCollection(e,n,i,o);if(m){if(i==="down"){const w=m.row+m.rowspan-a-g;s[2]+w>=this.plugin.hot.countRows()?s[2]-=g:s[2]+=g?w:0}else if(i==="right"){const w=m.col+m.colspan-l-g;s[3]+w>=this.plugin.hot.countCols()?s[3]-=g:s[3]+=g?w:0}else if(i==="up"){const w=c-g-m.row+1;s[0]+w<0?s[0]+=g:s[0]-=g?w:0}else if(i==="left"){const w=u-g-m.col+1;s[1]+w<0?s[1]+=g:s[1]-=g?w:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:i,foundMergedCells:o,fillSize:r,dragArea:s,cycleLength:d}),s}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),Hn(this.currentFillData,e)}getAutofillSize(e,n,i){const[o,s,r,a]=e,[l,c,u,h]=n;switch(i){case"up":return o-l;case"down":return u-r;case"left":return s-c;case"right":return h-a;default:return null}}getDragArea(e,n,i){const[o,s,r,a]=e,[l,c,u,h]=n;switch(i){case"up":return[l,c,o-1,a];case"down":return[r+1,s,u,a];case"left":return[l,c,r,s-1];case"right":return[o,a+1,u,h];default:return null}}getFarthestCollection(e,n,i,o){const[s,r,a,l]=e,c=["up","down"].indexOf(i)>-1,u=c?a:l,h=c?s:r,d=this.getAutofillSize(e,n,i),f=c?a-s+1:l-r+1,g=Math.floor(d/f)*f,m=d-g;let w=null,b=null,C=null;switch(i){case"up":w="includesVertically",C=u-m+1;break;case"left":w="includesHorizontally",C=u-m+1;break;case"down":w="includesVertically",C=h+m-1;break;case"right":w="includesHorizontally",C=h+m-1;break}return F(o,y=>{y[w](C)&&y.isFarther(b,i)&&(b=y)}),b}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,s=(c,u)=>{switch(o){case"up":return c.row-u>=n.from.row;case"down":return c.row+c.rowspan-1+u<=n.to.row;case"left":return c.col-u>=n.from.column;case"right":return c.col+c.colspan-1+u<=n.to.column;default:return null}};let r=0,a=null,l=1;do for(let c=0;c<i.length;c+=1){if(a=i[c],r=l*this.currentFillData.cycleLength,s(a,r))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:a.row-r,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+r,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-r,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+r,colspan:a.colspan});break}c===i.length-1&&(l+=1)}while(s(a,r));this.currentFillData=null,this.plugin.hot.render(),i.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},i={min:null,max:null};return F(e,o=>{const s=o[0],r=this.plugin.hot.propToCol(o[1]);(n.min===null||s<n.min)&&(n.min=s),(n.max===null||s>n.max)&&(n.max=s),(i.min===null||r<i.min)&&(i.min=r),(i.max===null||r>i.max)&&(i.max=r)}),{from:{row:n.min,column:i.min},to:{row:n.max,column:i.max}}}dragAreaOverlapsCollections(e,n,i){const o=this.getDragArea(e,n,i),[s,r,a,l]=o,c=this.plugin.hot._createCellCoords(s,r),u=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(c,c,u);return this.mergedCellsCollection.getWithinRange(h,!0).length>0}}function O_(t,e,n){return(e=gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gve(t){var e=mve(t,"string");return typeof e=="symbol"?e:e+""}function mve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pve{constructor(e){O_(this,"plugin",void 0),O_(this,"hot",void 0),O_(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,n,i,o){const s=Math.min(i[0],i[2]),r=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]);if(o===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const u=this.plugin.mergedCellsCollection.get(e,n);if(!u)return;const h=u.getLastRow(),d=u.getLastColumn();if(s<=u.row&&r<=u.col&&a>=h&&l>=d)return`${this.fullySelectedMergedCellClassName}-${o}`;if(this.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const i=[];if(!n||!e)return!1;for(let o=0;o<e.rowspan;o+=1)for(let s=0;s<e.colspan;s+=1)i.push(this.hot._createCellCoords(e.row+o,e.col+s));for(let o=0;o<i.length;o+=1){const s=[];for(let r=0;r<n.length;r+=1)s[r]=n[r].includes(i[o]);if(!s.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function wve(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(KT)}return this.getTranslatedPhrase(GT)},callback(){const e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:i}=e;t.toggleMerge(e),this.selectCell(n.row,n.col,i.row,i.col,!1)},disabled(){const e=this.getSelectedLast();return e?fr.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function Kg(t,e,n){return(e=bve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bve(t){var e=vve(t,"string");return typeof e=="symbol"?e:e+""}function vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ok{constructor(e){Kg(this,"data",void 0),Kg(this,"next",null),Kg(this,"prev",null),this.data=e}}class fb{constructor(){Kg(this,"first",null),Kg(this,"last",null)}push(e){const n=new Ok(e);if(this.first===null)this.first=n,this.last=n;else{const i=this.last;this.last=n,n.prev=i,i.next=n}return n}unshift(e){const n=new Ok(e);if(this.first===null)this.first=n,this.last=n;else{const i=this.first;this.first=n,n.next=i,i.prev=n}}inorder(e){let n=this.first;for(;n;){const i=e(n);if(n===this.last||i===!0)break;n=n.next}}remove(e){if(this.first===null)return!1;let n=this.first,i,o;for(;n;){if(n.data===e)return i=n.next,o=n.prev,i&&(i.prev=o),o&&(o.next=i),n===this.first&&(this.first=i),n===this.last&&(this.last=o),!0;n=n.next}return!1}hasCycle(){let e=this.first,n=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,n=n.next,e===n)return!0}}pop(){if(this.last===null)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(i,o){o&&(e(o,o.next),o.next=i)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const n=this.first;this.first=this.last,this.last=n}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,n=this.first,i;for(;e;)i=e.next,e.next=n,n.prev=e,n=e,e=i;this.first.next=null,this.last.prev=null,i=this.first,this.first=n,this.last=i}}function yve(t,e){bj(t,e),e.add(t)}function Hc(t,e,n){bj(t,e),e.set(t,n)}function bj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ct(t,e){return t.get(ky(t,e))}function oo(t,e,n){return t.set(ky(t,e),n),n}function ky(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var tr=new WeakMap,nr=new WeakMap,ir=new WeakMap,or=new WeakMap,Hx=new WeakMap,gb=new WeakMap,mb=new WeakMap,I_=new WeakSet;class Cve{constructor(e){let{mergedCellsGetter:n,rowIndexMapper:i,columnIndexMapper:o}=e;yve(this,I_),Hc(this,tr,new fb),Hc(this,nr,new fb),Hc(this,ir,null),Hc(this,or,null),Hc(this,Hx,null),Hc(this,gb,null),Hc(this,mb,null),oo(Hx,this,n),oo(gb,this,i),oo(mb,this,o)}getCurrentVerticalNode(){return Ct(or,this).data}getFirstVerticalNode(){return Ct(nr,this).first.data}getNextVerticalNode(){return Ct(or,this).next.data}getPrevVerticalNode(){return Ct(or,this).prev.data}getCurrentHorizontalNode(){return Ct(ir,this).data}getFirstHorizontalNode(){return Ct(tr,this).first.data}getNextHorizontalNode(){return Ct(ir,this).next.data}getPrevHorizontalNode(){return Ct(ir,this).prev.data}setPrevNodeAsActive(){oo(or,this,Ct(or,this).prev),oo(ir,this,Ct(ir,this).prev)}setNextNodeAsActive(){oo(or,this,Ct(or,this).next),oo(ir,this,Ct(ir,this).next)}buildFocusOrder(e){const n=e.getTopStartCorner(),i=e.getBottomEndCorner(),o=new WeakSet;oo(tr,this,new fb);for(let r=n.row;r<=i.row;r++)if(!Ct(gb,this).isHidden(r))for(let a=n.col;a<=i.col;a++){if(Ct(mb,this).isHidden(a))continue;const l=ky(I_,this,Ik).call(this,e,Ct(tr,this),o,r,a);l&&oo(ir,this,l)}Ct(tr,this).first&&(Ct(tr,this).first.prev=Ct(tr,this).last,Ct(tr,this).last.next=Ct(tr,this).first);const s=new WeakSet;oo(nr,this,new fb);for(let r=n.col;r<=i.col;r++)if(!Ct(mb,this).isHidden(r))for(let a=n.row;a<=i.row;a++){if(Ct(gb,this).isHidden(a))continue;const l=ky(I_,this,Ik).call(this,e,Ct(nr,this),s,a,r);l&&oo(or,this,l)}Ct(nr,this).first&&(Ct(nr,this).first.prev=Ct(nr,this).last,Ct(nr,this).last.next=Ct(nr,this).first)}setActiveNode(e,n){return Ct(tr,this).inorder(i=>{const{rowStart:o,rowEnd:s,colStart:r,colEnd:a}=i.data;if(e>=o&&e<=s&&n>=r&&n<=a)return oo(ir,this,i),!1}),Ct(nr,this).inorder(i=>{const{rowStart:o,rowEnd:s,colStart:r,colEnd:a}=i.data;if(e>=o&&e<=s&&n>=r&&n<=a)return oo(or,this,i),!1}),this}}function Ik(t,e,n,i,o){const s=t.getTopStartCorner(),r=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),l=Ct(Hx,this).call(this,i,o);if(l&&n.has(l))return null;const c={colStart:o,colEnd:o,rowStart:i,rowEnd:i};if(l){if(n.add(l),l.row<s.row||l.row+l.rowspan-1>r.row||l.col<s.col||l.col+l.colspan-1>r.col)return null;c.colStart=l.col,c.colEnd=l.col+l.colspan-1,c.rowStart=l.row,c.rowEnd=l.row+l.rowspan-1}const u=e.push(c);return i===a.row&&o===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?u:null}function Sve(t){const{hot:e}=t,{rowIndexMapper:n,columnIndexMapper:i}=e;function o(){}function s(r,a,l){const c=t.mergedCellsCollection.get(a,l);if(!Je(c)){r.removeAttribute("rowspan"),r.removeAttribute("colspan"),r.style.display="";return}const{row:u,col:h,colspan:d,rowspan:f}=c,[g,m]=t.translateMergedCellToRenderable(u,f,h,d),w=n.getRenderableFromVisualIndex(a),b=i.getRenderableFromVisualIndex(l),C=g-w+1,y=m-b+1,E=n.getNearestNotHiddenIndex(u,1),T=i.getNearestNotHiddenIndex(h,1),N=Math.min(f,C),D=Math.min(d,y);E===a&&T===l?(r.setAttribute("rowspan",N),r.setAttribute("colspan",D)):(r.removeAttribute("rowspan"),r.removeAttribute("colspan"),r.style.display="none")}return{before:o,after:s}}function _ve(t,e){vj(t,e),e.add(t)}function pb(t,e,n){vj(t,e),e.set(t,n)}function vj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A_(t,e,n){return(e=Rve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rve(t){var e=xve(t,"string");return typeof e=="symbol"?e:e+""}function xve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bm(t,e,n){return t.set(Rt(t,e),n),n}function Vt(t,e){return t.get(Rt(t,e))}function Rt(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeMergeCells");Ee.getSingleton().register("afterMergeCells");Ee.getSingleton().register("beforeUnmergeCells");Ee.getSingleton().register("afterUnmergeCells");const qg="mergeCells",Eve=150,Ak=qg;var $o=new WeakMap,Vo=new WeakMap,Sr=new WeakMap,Hk=new WeakMap,Mt=new WeakSet;class Tve extends _t{constructor(){super(...arguments),_ve(this,Mt),A_(this,"mergedCellsCollection",null),A_(this,"autofillCalculations",null),A_(this,"selectionCalculations",null),pb(this,$o,null),pb(this,Vo,{row:0,col:0}),pb(this,Sr,new Cve({mergedCellsGetter:(e,n)=>this.mergedCellsCollection.get(e,n),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),pb(this,Hk,Sve(this))}static get PLUGIN_KEY(){return qg}static get PLUGIN_PRIORITY(){return Eve}isEnabled(){return!!this.hot.getSettings()[qg]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new Hy(this),this.autofillCalculations=new fve(this),this.selectionCalculations=new pve(this),this.addHook("afterInit",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Mve).call(e,...i)}),this.addHook("modifyTransformFocus",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Ove).call(e,...i)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Ive).call(e,...i)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Ave).call(e,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Hve).call(e,...i)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,kk).call(e,...i)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,kk).call(e,...i)}),this.addHook("beforeSelectionFocusSet",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Dve).call(e,...i)}),this.addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Lve).call(e,...i)}),this.addHook("afterSelectionEnd",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,$ve).call(e,...i)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,kve).call(e,...i)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Pve).call(e,...i)}),this.addHook("afterRenderer",function(){return Vt(Hk,e).after(...arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Nve).call(e,...i)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Fve).call(e,...i)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Vve).call(e,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Wve).call(e,...i)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Bve).call(e,...i)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,jve).call(e,...i)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Uve).call(e,...i)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,zve).call(e,...i)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Yve).call(e,...i)}),this.addHook("afterChange",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Gve).call(e,...i)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Kve).call(e,...i)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,qve).call(e,...i)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Xve).call(e,...i)}),this.addHook("beforeBeginEditing",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Zve).call(e,...i)}),this.addHook("modifyRowHeightByOverlayName",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rt(Mt,e,Jve).call(e,...i)}),this.addHook("beforeUndoStackChange",(n,i)=>{if(i==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[qg];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!OV())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(i=>{const{row:o,rowspan:s}=i;for(let r=o+1;r<o+s;r++)n.push(r)}),n=[...new Set(n)],n.forEach(i=>{const o=this.hot.rowIndexMapper.getRenderableFromVisualIndex(i);this.hot.view._wt.wtOverlays.getOverlays(!0).map(s=>(s==null?void 0:s.name)==="master"?s:s.clone.wtTable).forEach(s=>{const r=s.getRow(o);r&&(r.style.background=Om(r,"backgroundColor").replace(")",", 0.99)"),e.push(r))})}),this.hot._registerTimeout(()=>{e.forEach(i=>{i.style.background=Om(i,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){return e?fr.containsNegativeValues(e)?(Et(fr.NEGATIVE_VALUES_WARNING(e)),!1):fr.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(Et(fr.IS_OUT_OF_BOUNDS_WARNING(e)),!1):fr.isSingleCell(e)?(Et(fr.IS_SINGLE_CELL(e)),!1):fr.containsZeroSpan(e)?(Et(fr.ZERO_SPAN_WARNING(e)),!1):!0:!1}generateFromSettings(e){if(!Array.isArray(e))return;const n=e.filter(s=>this.validateSetting(s)),i=this.mergedCellsCollection.filterOverlappingMergeCells(n),o=[];i.forEach(s=>{const{row:r,col:a,rowspan:l,colspan:c}=s,u=this.hot._createCellCoords(r,a),h=this.hot._createCellCoords(r+l-1,a+c-1),d=this.hot._createCellRange(u,u,h);this.mergeRange(d,!0,!0);for(let f=r;f<r+l;f++)for(let g=a;g<a+c;g++)(f!==r||g!==a)&&o.push([f,g,null])}),o.length!==0&&this.hot.setDataAtCell(o,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:i}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,i.row,i.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:i}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,i.row,i.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=e.getTopStartCorner(),s=e.getBottomEndCorner(),r={row:o.row,col:o.col,rowspan:s.row-o.row+1,colspan:s.col-o.col+1},a=[];let l=null;return this.canMergeRange(r,n)?(this.hot.runHooks("beforeMergeCells",e,n),Oe(0,r.rowspan-1,u=>{Oe(0,r.colspan-1,h=>{let d=null;a[u]||(a[u]=[]),u===0&&h===0?d=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(r.row),this.hot.toPhysicalColumn(r.col)):this.hot.setCellMeta(r.row+u,r.col+h,"hidden",!0),a[u][h]=d})}),this.hot.setCellMeta(r.row,r.col,"spanned",!0),this.mergedCellsCollection.add(r,n)?(i?l=[r.row,r.col,a]:this.hot.populateFromArray(r.row,r.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,r,n),l):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.mergedCellsCollection.getWithinRange(e);i.length!==0&&(this.hot.runHooks("beforeUnmergeCells",e,n),F(i,o=>{this.mergedCellsCollection.remove(o.row,o.col),Oe(0,o.rowspan-1,s=>{Oe(0,o.colspan-1,r=>{this.hot.removeCellMeta(o.row+s,o.col+r,"hidden"),this.hot.removeCellMeta(o.row+s,o.col+r,"copyable")})}),this.hot.removeCellMeta(o.row,o.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const n=this.mergedCellsCollection.get(e.from.row,e.from.col);n.row===e.from.row&&n.col===e.from.col&&n.row+n.rowspan-1===e.to.row&&n.col+n.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,i,o){const s=this.hot._createCellCoords(e,n),r=this.hot._createCellCoords(i,o);this.mergeRange(this.hot._createCellRange(s,s,r))}unmerge(e,n,i,o){const s=this.hot._createCellCoords(e,n),r=this.hot._createCellCoords(i,o);this.unmergeRange(this.hot._createCellRange(s,s,r))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const i=this.hot.getSelectedRangeLast();i&&!i.isSingleHeader()&&(this.toggleMerge(i),this.hot.render())},runOnlyIf:i=>!i.altKey,group:Ak})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Ak)}modifyViewportRowStart(e,n){const i=this.hot.rowIndexMapper,o=i.getVisualFromRenderableIndex(e.startRow);for(let s=0;s<n;s+=1){const r=this.mergedCellsCollection.get(o,s);if(Je(r)){const a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(r.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const i=this.hot.rowIndexMapper,o=i.getVisualFromRenderableIndex(e.endRow);for(let s=0;s<n;s+=1){const r=this.mergedCellsCollection.get(o,s);if(Je(r)){const a=r.row+r.rowspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const i=this.hot.columnIndexMapper,o=i.getVisualFromRenderableIndex(e.startColumn);for(let s=0;s<n;s+=1){const r=this.mergedCellsCollection.get(s,o);if(Je(r)){const a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(r.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const i=this.hot.columnIndexMapper,o=i.getVisualFromRenderableIndex(e.endColumn);for(let s=0;s<n;s+=1){const r=this.mergedCellsCollection.get(s,o);if(Je(r)){const a=r.col+r.colspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,i,o){const{rowIndexMapper:s,columnIndexMapper:r}=this.hot;let a,l;n===0?a=s.getNearestNotHiddenIndex(e,1):a=s.getNearestNotHiddenIndex(e+n-1,-1),o===0?l=r.getNearestNotHiddenIndex(i,1):l=r.getNearestNotHiddenIndex(i+o-1,-1);const c=e>=0?s.getRenderableFromVisualIndex(a):e,u=i>=0?r.getRenderableFromVisualIndex(l):i;return[c,u]}}function Mve(){this.generateFromSettings(this.hot.getSettings()[qg]),this.hot.render()}function Pve(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),i=n.getTopStartCorner(),o=n.getBottomEndCorner();for(let s=0;s<e.length;s+=1)if(i.row===e[s].row&&i.col===e[s].col&&o.row===e[s].row+e[s].rowspan-1&&o.col===e[s].col+e[s].colspan-1)return!1}return t}function Ove(t){Vt(Vo,this).row=t.row,Vt(Vo,this).col=t.col}function Ive(t){const e=this.hot.getSelectedRangeLast(),{highlight:n}=e,{columnIndexMapper:i,rowIndexMapper:o}=this.hot;Vt($o,this)&&(o.getRenderableFromVisualIndex(Vt($o,this).row)!==null&&(n.row=Vt($o,this).row),i.getRenderableFromVisualIndex(Vt($o,this).col)!==null&&(n.col=Vt($o,this).col),Bm($o,this,null));const s=this.mergedCellsCollection.get(n.row,n.col);if(!s)return;const r=s.col,a=s.col+s.colspan-1;if(t.col<0){const u=n.col>=r&&n.col<=a?r-1:a,h=i.getNearestNotHiddenIndex(u,-1);h===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,n.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(h,n.col)-1,1)}else if(t.col>0){const u=n.col>=r&&n.col<=a?a+1:r,h=i.getNearestNotHiddenIndex(u,1);h===null?t.col=this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,h)-1,1)}const l=s.row,c=s.row+s.rowspan-1;if(t.row<0){const u=n.row>=l&&n.row<=c?l-1:c,h=o.getNearestNotHiddenIndex(u,-1);h===null?t.row=-this.hot.view.countRenderableRowsInRange(0,n.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(h,n.row)-1,1)}else if(t.row>0){const u=n.row>=l&&n.row<=c?c+1:l,h=o.getNearestNotHiddenIndex(u,1);h===null?t.row=this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,h)-1,1)}}function Ave(t){const e=this.hot.getSelectedRangeLast(),n=e.clone(),{to:i}=e,{columnIndexMapper:o,rowIndexMapper:s}=this.hot,r=(a,l)=>{n.expand(this.hot._createCellCoords(a,l));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,i.col)+t.col;r(i.row,a),e.getHorizontalDirection()==="E-W"&&n.getHorizontalDirection()==="E-W"&&(a=n.getTopStartCorner().col);const l=o.getNearestNotHiddenIndex(a,1);l!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,i.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,i.col)+t.col;r(i.row,a),e.getHorizontalDirection()==="W-E"&&n.getHorizontalDirection()==="W-E"&&(a=n.getBottomEndCorner().col);const l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(i.col,l)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,i.row)+t.row;r(a,i.col),e.getVerticalDirection()==="S-N"&&n.getVerticalDirection()==="S-N"&&(a=n.getTopStartCorner().row);const l=s.getNearestNotHiddenIndex(a,1);l!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,i.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,i.row)+t.row;r(a,i.col),e.getVerticalDirection()==="N-S"&&n.getVerticalDirection()==="N-S"&&(a=n.getBottomStartCorner().row);const l=s.getNearestNotHiddenIndex(a,-1);l!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(i.row,l)-1,1))}}function Hve(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){Bm($o,this,e.clone());return}for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);const n=this.mergedCellsCollection.get(e.row,e.col);Bm($o,this,e.clone()),n&&e.assign(n)}function kve(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:i,col:o,colspan:s,rowspan:r}=n;return[i,o,i+r-1,o+s-1]}function Nve(t){t.items.push({name:"---------"},wve(this))}function kk(){Bm($o,this,null)}function Dve(){if(Vt($o,this).isCell())return;const t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),n=t.getHorizontalDirection(),i=Vt($o,this).clone().normalize();Vt(Sr,this).setActiveNode(i.row,i.col),Vt(Vo,this).row>0||Vt(Vo,this).col>0?Vt(Sr,this).setPrevNodeAsActive():(n==="E-W"&&Vt(Vo,this).col<0||e==="S-N"&&Vt(Vo,this).row<0)&&Vt(Sr,this).setNextNodeAsActive()}function Lve(t,e){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:i,rowIndexMapper:o}=this.hot;let s=null,r=null;if(Vt(Vo,this).col<0){const{rowEnd:a,colEnd:l}=Vt(Sr,this).getPrevHorizontalNode();r=i.getNearestNotHiddenIndex(l,-1),s=o.getNearestNotHiddenIndex(a,-1)}else if(Vt(Vo,this).col>0){const{rowStart:a,colStart:l}=Vt(Sr,this).getNextHorizontalNode();r=i.getNearestNotHiddenIndex(l,1),s=o.getNearestNotHiddenIndex(a,1)}else if(Vt(Vo,this).row<0){const{rowEnd:a,colEnd:l}=Vt(Sr,this).getPrevVerticalNode();r=i.getNearestNotHiddenIndex(l,-1),s=o.getNearestNotHiddenIndex(a,-1)}else if(Vt(Vo,this).row>0){const{rowStart:a,colStart:l}=Vt(Sr,this).getNextVerticalNode();r=i.getNearestNotHiddenIndex(l,1),s=o.getNearestNotHiddenIndex(a,1)}if(s!==null||r!==null){const a=this.hot._createCellCoords(s,r),l=this.mergedCellsCollection.get(a.row,a.col),c=this.hot.selection.highlight.getFocus();t=a.row,e=a.col,l?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):n.highlight.assign(a),c.clear(),c.add(a).commit()}Vt(Sr,this).setActiveNode(t,e),Bm(Vo,this,{row:0,col:0})}function $ve(){this.hot.getSelectedRangeLast().isHeader()||Vt(Sr,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function Fve(t,e,n){const i=this.mergedCellsCollection.get(t,e);i&&(i.row!==t||i.col!==e?n.copyable=!1:(n.rowspan=i.rowspan,n.colspan=i.colspan))}function Vve(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function Wve(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function Bve(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let i=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,i,n))return i=e,i;const o=this.hot._createCellCoords(e[0],e[1]),s=this.hot._createCellCoords(e[2],e[3]),r=this.hot._createCellRange(o,o,s),a=this.mergedCellsCollection.getWithinRange(r);return a.length===0||(i=this.autofillCalculations.snapDragArea(e,i,n,a)),i}function jve(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function Uve(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function zve(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function Yve(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function Gve(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function Kve(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),i=this.mergedCellsCollection.getWithinRange(n);F(i,o=>{n.getBottomEndCorner().row===o.getLastRow()&&n.getBottomEndCorner().col===o.getLastColumn()&&(t[2]=o.row,t[3]=o.col)})}}function qve(t,e,n,i){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,i)}function Xve(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function Zve(t,e,n,i){if(!(i instanceof MouseEvent))return;const o=this.hot.getSelectedRangeLast(),s=this.mergedCellsCollection.getByRange(o);if(!s)return;const r=this.hot._createCellCoords(s.row,s.col),a=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1);return this.hot.selection.getLayerLevel()===0&&o.isEqual(this.hot._createCellRange(r,r,a))}function Jve(t,e,n){if(this.hot.getSettings().rowHeaders||n==="bottom"||n==="bottom_inline_start_corner")return t;let i,o;if(n==="master")i=this.hot.view.getFirstRenderedVisibleColumn(),o=this.hot.view.getLastRenderedVisibleColumn();else{const d=this.hot.view.getOverlayByName(n);i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getFirstRenderedColumn()),o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getLastRenderedColumn())}if(!this.mergedCellsCollection.get(e,i))return t;const r=this.hot._createCellCoords(e,i),a=this.hot._createCellCoords(e,o),l=this.hot._createCellRange(r,r,a),c=this.mergedCellsCollection.getWithinRange(l),u=c.reduce((d,f)=>{let{rowspan:g}=f;return Math.max(d,g)},1);let h=0;return c.length>1&&c[0].rowspan<u&&(h=u-c[0].rowspan),c.forEach(d=>{var f;let{rowspan:g}=d,m=0;n==="top"||n==="top_inline_start_corner"?m=Math.min(u,this.hot.view.countNotHiddenFixedRowsTop()-e):m=g-h,t=Math.max((f=t)!==null&&f!==void 0?f:0,Rt(Mt,this,Qve).call(this,e,m))}),t}function Qve(t,e){const n=this.hot.view._wt.wtSettings.getSettingPure("defaultRowHeight"),i=this.hot.getPlugin("autoRowSize");let o=0;for(let r=t;r<t+e;r++)if(!this.hot.rowIndexMapper.isHidden(r)){var s;o+=(s=i==null?void 0:i.getRowHeight(r))!==null&&s!==void 0?s:n}return o}function eye(t,e){return function(n,i){const[,...o]=n,[,...s]=i;return function r(a){const l=t[a],c=e[a],u=o[a],h=s[a],d=c.multiColumnSorting,g=(d.compareFunctionFactory?d.compareFunctionFactory:BW(c.type))(l,c,d)(u,h);if(g===Mr){const m=a+1;if(typeof e[m]<"u")return r(m)}return g}(0)}}function Nk(){Et(Tt`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work. The \`columnSorting\` plugin will be disabled.`)}const yj="sort";function tye(t,e,n){const i=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&i.push(`${yj}-${t.getIndexOfColumnInSortQueue(e)+1}`),i}function nye(t){const e=t.className.split(" "),n=new RegExp(`^${yj}-[0-9]{1,2}$`);return e.filter(i=>n.test(i))}function iye(t,e,n){return(e=oye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=sye(t,"string");return typeof e=="symbol"?e:e+""}function sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ny="multiColumnSorting",rye=170,H_="columnSorting",Dk=Ny;WW(Ny,eye);class aye extends ZW{constructor(){super(...arguments),iye(this,"pluginKey",Ny)}static get PLUGIN_KEY(){return Ny}static get PLUGIN_PRIORITY(){return rye}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[H_]&&(Nk(),this.hot.getPlugin(H_).disablePlugin()),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,wy)),!1},runOnlyIf:()=>{var e,n;const i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(i)&&i.isHeader()},relativeToGroup:Xl,position:"before",group:Dk})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Dk)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];super.updateHeaderClasses(e,...i),je(e,nye(e)),this.enabled!==!1&&ue(e,tye(...i))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[H_]&&Nk(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,n){TM(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,wy))):this.sort(this.getColumnNextConfig(n.col)))}}function Lk(t,e,n){return(e=lye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=cye(t,"string");return typeof e=="symbol"?e:e+""}function cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const uye="multipleSelectionHandles",hye=160;class dye extends _t{constructor(){super(...arguments),Lk(this,"dragged",[]),Lk(this,"lastSetCell",null)}static get PLUGIN_KEY(){return uye}static get PLUGIN_PRIORITY(){return hye}isEnabled(){return xl()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function i(o){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const s=e.dragged.indexOf(o);if(s===-1)return!1;s===0?e.dragged=e.dragged.slice(0,1):s===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",o=>{let s;if(Fe(o.target,"topSelectionHandle-HitArea"))return s=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:s.getWidth(),height:s.getHeight(),direction:s.getDirection()},o.preventDefault(),!1;if(Fe(o.target,"bottomSelectionHandle-HitArea"))return s=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:s.getWidth(),height:s.getHeight(),direction:s.getDirection()},o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",o=>{if(Fe(o.target,"topSelectionHandle-HitArea"))return i.call(e,"top"),e.touchStartRange=void 0,o.preventDefault(),!1;if(Fe(o.target,"bottomSelectionHandle-HitArea"))return i.call(e,"bottom"),e.touchStartRange=void 0,o.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",o=>{const{rootDocument:s}=this.hot;let r,a,l,c,u,h;if(e.dragged.length===0)return;const d=s.elementFromPoint(o.touches[0].clientX,o.touches[0].clientY);!d||d===e.lastSetCell||((d.nodeName==="TD"||d.nodeName==="TH")&&(r=e.hot.getCoords(d),r.col===-1&&(r.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),c=a.getHeight(),u=a.getDirection(),l===1&&c===1&&e.hot.selection.setRangeEnd(r),h=e.getCurrentRangeCoords(a,r,e.touchStartRange.direction,u,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=d),o.preventDefault())})}getCurrentRangeCoords(e,n,i,o,s){const r=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),c=e.getTopEndCorner();let u={start:null,end:null};switch(i){case"NE-SW":switch(o){case"NE-SW":case"NW-SE":s==="top"?u={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(l.row,n.col)}:u={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,r.col)};break;case"SE-NW":s==="bottom"&&(u={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,r.col)});break}break;case"NW-SE":switch(o){case"NE-SW":s==="top"?u={start:n,end:l}:u.end=n;break;case"NW-SE":s==="top"?u={start:n,end:a}:u.end=n;break;case"SE-NW":s==="top"?u={start:n,end:r}:u.end=n;break;case"SW-NE":s==="top"?u={start:n,end:c}:u.end=n;break}break;case"SW-NE":switch(o){case"NW-SE":s==="bottom"?u={start:this.hot._createCellCoords(n.row,r.col),end:this.hot._createCellCoords(l.row,n.col)}:u={start:this.hot._createCellCoords(r.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":s==="top"?u={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:u={start:this.hot._createCellCoords(n.row,r.col),end:this.hot._createCellCoords(r.row,n.col)};break;case"SE-NW":s==="bottom"?u={start:this.hot._createCellCoords(n.row,c.col),end:this.hot._createCellCoords(r.row,n.col)}:s==="top"&&(u={start:l,end:n});break}break;case"SE-NW":switch(o){case"NW-SE":case"NE-SW":case"SW-NE":s==="top"&&(u.end=n);break;case"SE-NW":s==="top"?u.end=n:u={start:n,end:r};break}break}return u}isDragged(){return this.dragged.length>0}}function kx(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:i=!1,crossHiddenColumns:o=[],isCollapsed:s=!1,isHidden:r=!1,isRoot:a=!1,isPlaceholder:l=!1,headerClassNames:c=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:i,isCollapsed:s,crossHiddenColumns:o,isHidden:r,isRoot:a,isPlaceholder:l,headerClassNames:c}}function Cj(){return{label:"",isPlaceholder:!0}}function fye(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;F(t,o=>{const s=[];let r=0;n.push(s),F(o,a=>{const l=kx();if(Je(a)){const{label:u,colspan:h,headerClassName:d}=a;l.label=Tn(u),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h),typeof d=="string"&&(l.headerClassNames=[...d.split(" ")])}else l.label=Tn(a);r+=l.origColspan;let c=!1;if(r>=e&&(l.colspan=l.origColspan-(r-e),l.origColspan=l.colspan,c=!0),s.push(l),l.colspan>1)for(let u=0;u<l.colspan-1;u++)s.push(Cj());return!c})});const i=Math.max(...at(n,o=>o.length));return F(n,o=>{if(o.length<i){const s=at(new Array(i-o.length),()=>kx());o.splice(o.length,0,...s)}}),n}function k_(t,e,n){gye(t,e),e.set(t,n)}function gye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cs(t,e){return t.get(Sj(t,e))}function jf(t,e,n){return t.set(Sj(t,e),n),n}function Sj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const $k=["label","collapsible"];var ia=new WeakMap,kc=new WeakMap,N_=new WeakMap;class mye{constructor(){k_(this,ia,[]),k_(this,kc,0),k_(this,N_,1/0)}setColumnsLimit(e){jf(N_,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];jf(ia,this,fye(e,cs(N_,this))),jf(kc,this,cs(ia,this).length)}getData(){return cs(ia,this)}mergeWith(e){F(e,n=>{let{row:i,col:o,...s}=n;const r=this.getHeaderSettings(i,o);r!==null&&Hn(r,s,$k)})}map(e){F(cs(ia,this),n=>{F(n,i=>{const o=e({...i});Je(o)&&Hn(i,o,$k)})})}getHeaderSettings(e,n){var i;if(e>=cs(kc,this)||e<0)return null;const o=cs(ia,this)[e];return Array.isArray(o)===!1||n>=o.length?null:(i=o[n])!==null&&i!==void 0?i:null}getHeadersSettings(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=[];if(e>=cs(kc,this)||e<0)return o;const s=cs(ia,this)[e];let r=0;for(let a=n;a<s.length;a++){const l=s[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(r+=l.colspan,o.push(l),l.colspan>1&&(a+=l.colspan-1),r===i)break;if(r>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}getLayersCount(){return cs(kc,this)}getColumnsCount(){return cs(kc,this)>0?cs(ia,this)[0].length:0}clear(){jf(ia,this,[]),jf(kc,this,0)}}function D_(t,e,n){return(e=pye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pye(t){var e=wye(t,"string");return typeof e=="symbol"?e:e+""}function wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const _j="DF-pre-order";function Rj(t,e){let n=t.call(e,this);for(let i=0;i<this.childs.length;i++){if(n===!1)return!1;n=Rj.call(this.childs[i],t,e)}return n}const bye="DF-post-order";function xj(t,e){for(let n=0;n<this.childs.length;n++)if(xj.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const Ej="BF";function vye(t,e){const n=[this];function i(){if(n.length===0)return;const o=n.shift();n.push(...o.childs),t.call(e,o)!==!1&&i()}i()}const yye=Ej,Fk=new Map([[_j,Rj],[bye,xj],[Ej,vye]]);class Dy{constructor(e){D_(this,"data",{}),D_(this,"parent",null),D_(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new Dy({...e.data});for(let i=0;i<e.childs.length;i++)n.addChild(this.cloneTree(e.childs[i]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yye;if(!Fk.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);Fk.get(n).call(this,e,this)}walkUp(e){const n=this,i=o=>{e.call(n,o)!==!1&&o.parent!==null&&i(o.parent)};i(this)}}function L_(t,e,n){Cye(t,e),e.set(t,n)}function Cye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ei(t,e){return t.get(Tj(t,e))}function Sye(t,e,n){return t.set(Tj(t,e),n),n}function Tj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _h=new WeakMap,Nc=new WeakMap,Rh=new WeakMap;class _ye{constructor(e){L_(this,_h,new Map),L_(this,Nc,new Map),L_(this,Rh,null),Sye(Rh,this,e)}getRoots(){return Array.from(Ei(_h,this).values())}getRootByColumn(e){let n;return Ei(Nc,this).has(e)&&(n=Ei(_h,this).get(Ei(Nc,this).get(e))),n}getNode(e,n){const i=this.getRootByColumn(n);if(!i)return;const o=n-Ei(Nc,this).get(n);let s=0,r;return i.walkDown(a=>{const{data:{origColspan:l,headerLevel:c}}=a;if(e===c){if(o>=s&&o<=s+l-1)return r=a,r.data.isRoot=n===r.data.columnIndex,!1;s+=l}}),r}rebuildTreeIndex(){let e=0;Ei(Nc,this).clear(),F(Ei(_h,this),n=>{let[,{data:{colspan:i}}]=n;for(let o=e;o<e+i;o++)Ei(Nc,this).set(o,e);e+=i})}buildTree(){this.clear();const e=Ei(Rh,this).getColumnsCount();let n=0;for(;n<e;){const i=Ei(Rh,this).getHeaderSettings(0,n),o=new Dy;Ei(_h,this).set(n,o),this.buildLeaves(o,n,0,i.origColspan),n+=i.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=Ei(Rh,this).getHeadersSettings(i,n,o);i+=1,F(s,r=>{const a={...r,headerLevel:i-1,columnIndex:n};let l;i===1?(e.data=a,l=e):(l=new Dy(a),e.addChild(l)),i<Ei(Rh,this).getLayersCount()&&this.buildLeaves(l,n,i,r.origColspan),n+=r.origColspan})}clear(){Ei(_h,this).clear(),Ei(Nc,this).clear()}}function Mj(t,e){t.walkDown(n=>{let{data:i,childs:o}=n;if(!i.isHidden&&(e(i.columnIndex),o.length===0))for(let s=1;s<i.colspan;s++)e(i.columnIndex+s)})}function Ly(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function $y(t){return Ly(t,"origColspan")===t.data.origColspan}function zM(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if($y(t))return zM(n[0]);e.isCollapsed=!1;const o=n.slice(1),s=new Set;let r=0;if(o.length>0)F(o,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;const l=a.data;r+=l.colspan,Mj(a,c=>{s.add(c)})});else{const{colspan:a,origColspan:l,columnIndex:c}=e;r=l-a;for(let u=1;u<l;u++)s.add(c+u)}return t.walkUp(a=>{const{data:l}=a;l.colspan+=r,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):$y(a)&&(l.isCollapsed=Ly(a,"isCollapsed"))}),{rollbackModification:()=>YM(t),affectedColumns:Array.from(s),colspanCompensation:r}}function YM(t){var e;const{data:n,childs:i}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if($y(t))return YM(i[0]);n.isCollapsed=!0;const s=i.slice(1),r=new Set;if(s.length>0)F(s,l=>{Mj(l,c=>{r.add(c)}),l.data.clonedTree=l.cloneTree(),l.walkDown(c=>{let{data:u}=c;u.isHidden=!0})});else{const{origColspan:l,columnIndex:c}=n;for(let u=1;u<l;u++){const h=c+u;r.add(h)}}const a=n.colspan-((e=Ly(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(l=>{const{data:c}=l;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):$y(l)&&(c.isCollapsed=Ly(l,"isCollapsed"))}),{rollbackModification:()=>zM(t),affectedColumns:Array.from(r),colspanCompensation:a}}function Rye(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Tt`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let i=!1;t.walkUp(o=>{const{data:{collapsible:s}}=o;if(s)return i=!0,!1}),!i&&t.walkUp(o=>{const{data:s}=o;s.crossHiddenColumns.push(e),s.colspan>1?s.colspan-=1:s.isHidden=!0})}function xye(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Tt`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let i=!1;t.walkUp(o=>{const{data:{collapsible:s}}=o;if(s)return i=!0,!1}),!i&&t.walkUp(o=>{const{data:s}=o;s.crossHiddenColumns.splice(s.crossHiddenColumns.indexOf(e),1),!s.isHidden&&s.colspan<s.origColspan&&(s.colspan+=1),s.isHidden=!1})}const Vk=new Map([["collapse",YM],["expand",zM],["hide-column",Rye],["show-column",xye]]);function Eye(t,e,n){if(!Vk.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return Vk.get(t)(e,n)}function wb(t){const e=[];return F(t,n=>{n.walkDown(i=>{const o=i.data,{origColspan:s,columnIndex:r,headerLevel:a,crossHiddenColumns:l}=o,c=Mye(e,a);let u=!1;for(let h=r;h<r+s;h++)if(l.includes(h)||u)c.push(Cj());else{const f=Tye(o);f.isRoot=!0,c.push(f),u=!0}})}),e}function Tye(t){const{crossHiddenColumns:e,...n}=kx(t);return n}function Mye(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function $_(t,e,n){Pye(t,e),e.set(t,n)}function Pye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uf(t,e,n){return t.set(Pj(t,e),n),n}function hn(t,e){return t.get(Pj(t,e))}function Pj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var sr=new WeakMap,Ui=new WeakMap,Dc=new WeakMap;class Oye{constructor(){$_(this,sr,new mye),$_(this,Ui,new _ye(hn(sr,this))),$_(this,Dc,[[]])}setState(e){hn(sr,this).setData(e);let n=!1;try{hn(Ui,this).buildTree()}catch{hn(Ui,this).clear(),hn(sr,this).clear(),n=!0}return Uf(Dc,this,wb(hn(Ui,this).getRoots())),n}setColumnsLimit(e){hn(sr,this).setColumnsLimit(e)}mergeStateWith(e){const n=at(e,i=>{let{row:o,...s}=i;return{row:o<0?this.rowCoordsToLevel(o):o,...s}});hn(sr,this).mergeWith(n),hn(Ui,this).buildTree(),Uf(Dc,this,wb(hn(Ui,this).getRoots()))}mapState(e){hn(sr,this).map(e),hn(Ui,this).buildTree(),Uf(Dc,this,wb(hn(Ui,this).getRoots()))}mapNodes(e){return Li(hn(Ui,this).getRoots(),(n,i)=>(i.walkDown(o=>{const s=e(o.data);s!==void 0&&n.push(s)}),n),[])}triggerNodeModification(e,n,i){n<0&&(n=this.rowCoordsToLevel(n));const o=hn(Ui,this).getNode(n,i);let s;return o&&(s=Eye(e,o,i),Uf(Dc,this,wb(hn(Ui,this).getRoots()))),s}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var i,o;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(i=(o=hn(Dc,this)[e])===null||o===void 0?void 0:o[n])!==null&&i!==void 0?i:null}getHeaderTreeNodeData(e,n){const i=this.getHeaderTreeNode(e,n);return i?{...i.data}:null}getHeaderTreeNode(e,n){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;const i=hn(Ui,this).getNode(e,n);return i||null}findTopMostEntireHeaderLevel(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const o=i-e+1;let s=!1,r=null;for(let a=e;a<=i;a++){const l=hn(Ui,this).getRootByColumn(a);if(!l)break;s=!0,l.walkDown(c=>{const{columnIndex:u,headerLevel:h,origColspan:d,isHidden:f}=c.data;f||d<=o&&u>=e&&u+d-1<=i&&(r===null||h<r)&&(r=h)},_j)}return s&&r===null?-1:this.levelToRowCoords((n=r)!==null&&n!==void 0?n:0)}findLeftMostColumnIndex(e,n){var i;const{isRoot:o}=(i=this.getHeaderSettings(e,n))!==null&&i!==void 0?i:{isRoot:!0};if(o)return n;let s=n-1;for(;s>=0;){var r;const{isRoot:a}=(r=this.getHeaderSettings(e,s))!==null&&r!==void 0?r:{isRoot:!0};if(a)break;s-=1}return s}findRightMostColumnIndex(e,n){var i;const{isRoot:o,origColspan:s}=(i=this.getHeaderSettings(e,n))!==null&&i!==void 0?i:{isRoot:!0,origColspan:1};if(o)return n+s-1;let r=n+1;for(;r<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,r))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;r+=1}return r-1}getLayersCount(){return hn(sr,this).getLayersCount()}getColumnsCount(){return hn(sr,this).getColumnsCount()}clear(){Uf(Dc,this,[]),hn(sr,this).clear(),hn(Ui,this).clear()}}function zf(t,e,n){return(e=Iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Aye(t,"string");return typeof e=="symbol"?e:e+""}function Aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hye{constructor(e,n){zf(this,"hot",void 0),zf(this,"nestedHeaderSettingsGetter",void 0),zf(this,"layersCount",0),zf(this,"container",void 0),zf(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),n=e.length;this.widthsMap.clear();for(let i=0;i<n;i++){const o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),s=this.hot.toPhysicalColumn(o);this.widthsMap.setValueAtIndex(s,e[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:i}=this.hot,o=n.createDocumentFragment(),s=n.createElement("table"),r=!!this.hot.getSettings().dropdownMenu,a=i.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const c=n.createElement("tr");for(let u=0;u<a;u++){let h=i.getVisualFromRenderableIndex(u);h===null&&(h=u);const d=n.createElement("th"),f=this.nestedHeaderSettingsGetter(l,h);if(f&&(!f.isPlaceholder||f.isHidden)){let g=f.label;r&&(g+='<button class="changeType"></button>'),Nd(d,g),d.colSpan=f.colspan,c.appendChild(d)}}s.appendChild(c)}o.appendChild(s),e.appendChild(o)}clear(){this.widthsMap.clear(),this.container=null}}function kye(t,e){Oj(t,e),e.add(t)}function Wk(t,e,n){return(e=Nye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Dye(t,"string");return typeof e=="symbol"?e:e+""}function Dye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bb(t,e,n){Oj(t,e),e.set(t,n)}function Oj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ou(t,e,n){return t.set(dn(t,e),n),n}function ht(t,e){return t.get(dn(t,e))}function dn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Bk="nestedHeaders",Lye=280;var At=new WeakMap,ol=new WeakMap,Xg=new WeakMap,aS=new WeakMap,bn=new WeakSet;class $ye extends _t{constructor(){super(...arguments),kye(this,bn),bb(this,At,new Oye),bb(this,ol,null),bb(this,Xg,null),bb(this,aS,!1),Wk(this,"ghostTable",new Hye(this.hot,(e,n)=>this.getHeaderSettings(e,n))),Wk(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return Bk}static get PLUGIN_PRIORITY(){return Lye}isEnabled(){return!!this.hot.getSettings()[Bk]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&Et(Tt`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>dn(bn,this,eCe).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,tCe).call(e,...o)}),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Bye).call(e,...o)}),this.addHook("afterOnCellMouseDown",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,jye).call(e,...o)}),this.addHook("beforeOnCellMouseOver",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Uye).call(e,...o)}),this.addHook("beforeOnCellMouseUp",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,zye).call(e,...o)}),this.addHook("beforeSelectionHighlightSet",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Yye).call(e,...o)}),this.addHook("modifyTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Gye).call(e,...o)}),this.addHook("afterSelection",()=>dn(bn,this,vb).call(this)),this.addHook("afterSelectionFocusSet",()=>dn(bn,this,vb).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Fye).call(e,...o)}),this.addHook("afterGetColumnHeaderRenderers",i=>dn(bn,this,qye).call(this,i)),this.addHook("modifyColWidth",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Zye).call(e,...o)}),this.addHook("modifyColumnHeaderValue",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Jye).call(e,...o)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Vye).call(e,...o)}),this.addHook("beforeCopy",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Wye).call(e,...o)}),this.addHook("beforeSelectColumns",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Kye).call(e,...o)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Xye).call(e,...o)}),this.addHook("modifyFocusedElement",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return dn(bn,e,Qye).call(e,...o)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>dn(bn,this,vb).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>dn(bn,this,vb).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();ht(At,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=ht(At,this).setState(e)),this.detectedOverlappedHeaders&&Et(Tt`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,i)=>{const o=n===!0?"hide-column":"show-column";ht(At,this).triggerColumnModification(o,i)}),!ht(ol,this)&&this.enabled&&ou(ol,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(i=>{let{op:o,index:s,newValue:r}=i;if(o==="replace"){const a=r===!0?"hide-column":"show-column";ht(At,this).triggerColumnModification(a,s)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),ht(At,this).clear(),ht(ol,this).unsubscribe(),ou(ol,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return ht(At,this)}getLayersCount(){return ht(At,this).getLayersCount()}getHeaderSettings(e,n){return ht(At,this).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,i=e.wtTable.THEAD,o=e.wtOverlays.topOverlay.clone.wtTable.THEAD,s=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let r=0;r<n;r++){const a=i.childNodes[r];if(!a)break;const l=o.childNodes[r],c=s?s.childNodes[r]:null;for(let u=0,h=a.childNodes.length;u<h;u++)a.childNodes[u].removeAttribute("colspan"),je(a.childNodes[u],"hiddenHeader"),l&&l.childNodes[u]&&(l.childNodes[u].removeAttribute("colspan"),je(l.childNodes[u],"hiddenHeader")),s&&c&&c.childNodes[u]&&(c.childNodes[u].removeAttribute("colspan"),je(c.childNodes[u],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const i=this.hot.view._wt.getSetting("fixedColumnsStart");return(o,s)=>{var r;const{columnIndexMapper:a,view:l}=this.hot;let c=a.getVisualFromRenderableIndex(o);c===null&&(c=o),s.removeAttribute("colspan"),je(s,"hiddenHeader");const{colspan:u,isHidden:h,isPlaceholder:d,headerClassNames:f}=(r=ht(At,this).getHeaderSettings(e,c))!==null&&r!==void 0?r:{label:""};if(d||h)ue(s,"hiddenHeader");else if(u>1){var g,m;const{wtOverlays:w}=l._wt,b=(g=w.topInlineStartCornerOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(s),C=(m=w.inlineStartOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(s),y=b||C?Math.min(u,i-o):u;y>1&&s.setAttribute("colspan",y)}if(this.hot.view.appendColHeader(c,s,function(){return n.getColumnHeaderValue(...arguments)},e),!d&&!h){const w=s.querySelector("div.relative");w&&f&&f.length>0&&(je(w,this.hot.getColumnMeta(c).headerClassName),ue(w,f))}}}getColumnHeaderValue(e,n){var i;const{isHidden:o,isPlaceholder:s}=(i=ht(At,this).getHeaderSettings(n,e))!==null&&i!==void 0?i:{};return s||o?"":this.hot.getColHeader(e,n)}destroy(){ou(At,this,null),ht(ol,this)!==null&&(ht(ol,this).unsubscribe(),ou(ol,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return ht(At,this).getHeaderTreeNodeData(e.row,e.col)}}function vb(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const o=ht(At,this).findLeftMostColumnIndex(n.row,n.col),s=this.hot.selection.highlight.getFocus();s.visualCellRange.highlight.col=o,s.visualCellRange.from.col=o,s.visualCellRange.to.col=o,s.commit()}}function Fye(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e;if(!(n.isHeader()&&n.col>=0))return t;const o=this.hot.view.getFirstFullyVisibleColumn(),s=this.hot.view.getLastFullyVisibleColumn(),r=ht(At,this).findLeftMostColumnIndex(n.row,n.col),a=ht(At,this).findRightMostColumnIndex(n.row,n.col);return r<o&&a>s?t:r<o?r:a}function Vye(t,e,n){const i=ht(At,this).getHeaderTreeNodeData(e,t);if(!i)return t;const{columnCursor:o,selectionType:s,selectionWidth:r}=n,{isRoot:a,colspan:l}=ht(At,this).getHeaderSettings(e,t);if(s===cM){if(!a)return i.columnIndex}else if(s===TW&&(l>r-o||!a))return null;return t}function Wye(t,e,n){let{columnHeadersCount:i}=n;if(i!==0)for(let s=0;s<e.length;s++){const{startRow:r,startCol:a,endRow:l,endCol:c}=e[s],u=l-r+1,h=a-c+1;if(r>=0||h===1)break;for(let d=a;d<=c;d++)for(let f=r;f<=l;f++){var o;const g=u+f,m=d-a;if(m===0)continue;((o=ht(At,this).getHeaderTreeNodeData(f,d))===null||o===void 0?void 0:o.isRoot)===!1&&(t[g][m]="")}}}function Bye(t,e,n,i){this._getHeaderTreeNodeDataByCoords(e)&&(i.column=!0)}function jye(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;ou(Xg,this,e.clone()),ou(aS,this,!0);const{selection:i}=this.hot,o=i.isSelected()?i.getSelectedRange().current():null,s=[],{columnIndex:r,origColspan:a}=n,l=!i.inInSelection(e);t.shiftKey&&o?e.col<o.from.col?s.push(o.getTopEndCorner().col,r,e.row):e.col>o.from.col?s.push(o.getTopStartCorner().col,r+a-1,e.row):s.push(r,r+a-1,e.row):(vT(t)||bu(t)&&l||tte(t))&&s.push(r,r+a-1,e.row),i.selectColumns(...s)}function Uye(t,e,n,i){if(!this.hot.view.isMouseDown())return;const o=this._getHeaderTreeNodeDataByCoords(e);if(!o)return;const{columnIndex:s,origColspan:r}=o,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:u}=a;i.column=!0,i.cell=!0;const h=[],d=Ot(e.row,-1/0,-1);e.col<u.col?h.push(c.col,s,d):e.col>u.col?h.push(l.col,s+r-1,d):h.push(s,s+r-1,d),this.hot.selection.selectColumns(...h)}function zye(){ou(aS,this,!1)}function Yye(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!ht(aS,this)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,i=e.getBottomEndCorner().col,{columnIndex:o,origColspan:s}=ht(At,this).getHeaderTreeNodeData(ht(Xg,this).row,ht(Xg,this).col);if(e.setHighlight(ht(Xg,this)),s>e.getWidth()||o<n||o+s-1>i){const r=ht(At,this).findTopMostEntireHeaderLevel(Ot(n,o,o+s-1),Ot(i,o,o+s-1));e.highlight.row=r,e.highlight.col=e.from.col}}function Gye(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const o=ht(At,this).findLeftMostColumnIndex(n.row,n.col),s=ht(At,this).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const r=e.col>=o&&e.col<=s?o-1:s,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){const r=e.col>=o&&e.col<=s?s+1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function Kye(t,e){const n=t.row,i=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),o=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(i&&(t.col=i.columnIndex+i.origColspan-1),o&&(e.col=o.columnIndex)):e.col>=t.col&&(i&&(t.col=i.columnIndex),o&&(e.col=o.columnIndex+o.origColspan-1))}function qye(t){t.length=0;for(let e=0;e<ht(At,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function Xye(t){const e=ht(At,this).getLayersCount();let n=t.startColumn,i=!!e;for(let o=0;o<e;o++){const s=ht(At,this).findLeftMostColumnIndex(o,t.startColumn),r=this.hot.columnIndexMapper.getRenderableFromVisualIndex(s);if(s>=0&&(i=!1),ki(r)&&r<t.startColumn){n=r;break}}t.startColumn=i?ht(At,this).getHeaderTreeNodeData(0,n).columnIndex:n}function Zye(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function Jye(t,e,n){var i;const{label:o}=(i=ht(At,this).getHeaderTreeNodeData(n,e))!==null&&i!==void 0?i:{label:""};return o}function Qye(t,e){if(t<0)return this.hot.getCell(t,ht(At,this).findLeftMostColumnIndex(t,e),!0)}function eCe(){this.updatePlugin()}function tCe(t,e){e||this.updatePlugin()}function Yf(t,e,n){return(e=nCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=iCe(t,"string");return typeof e=="symbol"?e:e+""}function iCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oCe{constructor(e,n){Yf(this,"hot",void 0),Yf(this,"data",null),Yf(this,"plugin",void 0),Yf(this,"parentReference",new WeakMap),Yf(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Oe(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,i){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:i,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&F(e.__children,o=>{this.cacheNode(o,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,i,o){let s=!1,r=n;if(isNaN(r)&&r.end)return r;let a=e;return a||(a={__children:this.data},s=!0,r-=1),i!=null&&r===i?{result:a,end:!0}:o!=null&&a===o?{result:r,end:!0}:(r+=1,a.__children&&F(a.__children,l=>{if(this.parentReference.set(l,s?null:a),r=this.readTreeNodes(l,r,i,o),isNaN(r)&&r.end)return!1}),r)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return Qe(this.data[0],(n,i)=>{e[i]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const i=this.getRowParent(e);return i==null?this.data.indexOf(n):i.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,i=e;return isNaN(i)||(i=this.getDataObject(i)),!i||!i.__children?0:(F(i.__children,o=>{n+=1,o.__children&&(n+=this.countChildren(o))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var i;return((i=e.__children)===null||i===void 0?void 0:i[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let i=e;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&((n=i.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let i=n;this.hot.runHooks("beforeAddChild",e,i);let o=null;e&&(o=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(e)+1,1);let s=e;e||(s=this.mockParent()),s.__children||(s.__children=[]),i||(i=this.mockNode()),s.__children.push(i),this.rewriteCache();const r=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(r,1),this.hot.runHooks("afterCreateRow",r,1),this.hot.runHooks("afterAddChild",e,i)}addChildAtIndex(e,n,i){let o=i,s;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",e,o,n),e){const a=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(n,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),s=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[n]);o=this.getDataObject(s),this.hot.runHooks("afterAddChild",e,o,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const i=this.translateTrimmedRow(e),o=this.getRowParent(i),s=this.getRowIndexWithinParent(i);switch(n){case"below":this.addChildAtIndex(o,s+1,null);break;case"above":this.addChildAtIndex(o,s,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=null;const o=[];Array.isArray(e)?(Oe(e[0],e[2],d=>{const f=this.translateTrimmedRow(d);o.push(this.getDataObject(f))}),Oe(0,o.length-2,d=>{this.detachFromParent(o[d],!1)}),i=o[o.length-1]):i=e;const s=this.getRowIndex(i),r=this.countChildren(i),a=this.getRowIndexWithinParent(i),l=this.getRowParent(i),c=this.getRowParent(l),u=this.getRowIndex(c);let h=null;if(this.hot.runHooks("beforeDetachChild",l,i),a!=null){const d=Array.from(new Array(s+r+1).keys()).splice(-1*(r+1));if(this.hot.runHooks("beforeRemoveRow",s,r+1,d,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",s,r+1,d,this.plugin.pluginName),c){h=u+this.countChildren(c);const f=this.getChild(c,this.countChildren(c)-1),g=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",g+1,r+1,this.plugin.pluginName),c.__children.push(i)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,r+1,this.plugin.pluginName),this.data.push(i)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,r+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,i,this.getRowIndex(i)),n&&this.hot.render()}filterData(e,n,i){const o=[];F(i,s=>{o.push(this.getDataObject(s))}),F(o,s=>{const r=this.getRowIndexWithinParent(s),a=this.getRowParent(s);a===null?this.data.splice(r,1):a.__children.splice(r,1)}),this.rewriteCache()}spliceData(e,n,i){const o=this.getDataObject(e-1);let s=null,r=e;o&&o.__children&&o.__children.length===0?(s=o,r=0):e<this.countAllRows()&&(s=this.getRowParent(e),r=this.getRowIndexWithinParent(e)),s?i?s.__children.splice(r,n,...i):s.__children.splice(r,n):i?this.data.splice(r,n,...i):this.data.splice(r,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,i=null;do i=this.getRowParent(i),i!==null&&(n=i);while(i!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,i,o){const s=n===this.hot.countRows(),r=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=r.__children.slice(a,a+1),c=e>n;let u=s?this.getRowParent(n-1):this.getRowParent(n);u==null&&(u=this.getRowParent(n-1)),u==null&&(u=this.getDataObject(n-1)),u?u.__children||(u.__children=[]):(u=this.getDataObject(n),u.__children=[]);const h=s||i||o?u.__children.length:this.getRowIndexWithinParent(n),d=r===u;u.__children.splice(h,0,l[0]),r.__children.splice(a+(c&&d?1:0),1),this.syncRowWithRawSource(r),d||this.syncRowWithRawSource(u)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function jk(t,e,n){return(e=sCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sCe(t){var e=rCe(t,"string");return typeof e=="symbol"?e:e+""}function rCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class GM{constructor(e,n){jk(this,"hot",void 0),jk(this,"plugin",void 0),this.hot=n,this.plugin=e}}class wr extends GM{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const i=this.hot.toPhysicalRow(e),o=this.dataManager.getRowLevel(i),s=this.dataManager.getDataObject(i),r=n.getElementsByTagName("DIV")[0],a=r.querySelector("span.rowHeader"),l=r.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(F(l,u=>{u&&r.removeChild(u)}),ue(n,wr.CSS_CLASSES.indicatorContainer),o){const{rootDocument:u}=this.hot,h=a.cloneNode(!0);r.innerHTML="",Oe(0,o-1,()=>{const d=u.createElement("SPAN");ue(d,wr.CSS_CLASSES.emptyIndicator),r.appendChild(d)}),r.appendChild(h)}if(this.dataManager.hasChildren(s)){const u=this.hot.rootDocument.createElement("DIV");c&&$e(u,[Nu()]),ue(n,wr.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(i)?(ue(u,`${wr.CSS_CLASSES.button} ${wr.CSS_CLASSES.expandButton}`),c&&$e(n,[zo(!1)])):(ue(u,`${wr.CSS_CLASSES.button} ${wr.CSS_CLASSES.collapseButton}`),c&&$e(n,[zo(!0)])),r.appendChild(u)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*n+25),this.hot.render()}}class aCe extends GM{constructor(e,n){var i;super(e,n),i=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;i.lastCollapsedRows=i.collapsedRows.slice(0),i.expandMultipleChildren(i.lastCollapsedRows,o)},shiftStash:function(o,s){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;s==null&&(s=1/0),F(i.lastCollapsedRows,(a,l)=>{a>=o&&a<s&&(i.lastCollapsedRows[l]=a+r)})},applyStash:function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i.collapseMultipleChildren(i.lastCollapsedRows,o),i.lastCollapsedRows=void 0},trimStash:(o,s)=>{Oe(o,o+s-1,r=>{const a=this.lastCollapsedRows.indexOf(r);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let s=null,r=null,a=null;return isNaN(e)?(s=e,r=this.dataManager.getRowIndex(s)):(s=this.dataManager.getDataObject(e),r=e),this.dataManager.hasChildren(s)&&F(s.__children,l=>{o.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(o,!0,!1),i&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(r)===-1&&this.collapsedRows.push(r),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,s=>{o.push(...this.collapseChildren(s,!1,!1))}),i&&this.trimRows(o),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,s=>{o.push(s),n&&this.collapseChildRows(s,o)}),i&&this.trimRows(o),o}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,s=>{const r=this.dataManager.getRowIndex(s);n.push(r),this.collapseChildRows(r,n)})}i&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=[];return F(e,s=>{o.push(s),n&&this.expandChildRows(s,o)}),i&&this.untrimRows(o),o}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const o=this.dataManager.getDataObject(e);F(o.__children,s=>{if(!this.isAnyParentCollapsed(s)){const r=this.dataManager.getRowIndex(s);n.push(r),this.expandChildRows(r,n)}})}i&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];let s=null,r=null,a=null;return isNaN(e)?(s=e,r=this.dataManager.getRowIndex(e)):(s=this.dataManager.getDataObject(e),r=e),this.collapsedRows.splice(this.collapsedRows.indexOf(r),1),this.dataManager.hasChildren(s)&&F(s.__children,l=>{const c=this.dataManager.getRowIndex(l);o.push(c)}),a=this.expandRows(o,!0,!1),i&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=[];F(e,s=>{o.push(...this.expandChildren(s,!1,!1))}),i&&this.untrimRows(o),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];F(e,i=>{this.dataManager.hasChildren(i)&&n.push(i)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];F(e,i=>{this.dataManager.hasChildren(i)&&n.push(i)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{F(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),i=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&F(n.__children,o=>{const s=this.dataManager.getRowIndex(o);if(!this.plugin.collapsedRowsMap.getValueAtIndex(s))return i=!1,!1}),i}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const i=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(i)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const i=this.translateTrimmedRow(n.row);Fe(e.target,wr.CSS_CLASSES.button)&&(this.areChildrenCollapsed(i)?this.expandChildren(i):this.collapseChildren(i),$s(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function lCe(t,e,n){cCe(t,e),e.set(t,n)}function cCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uCe(t,e,n){return(e=hCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hCe(t){var e=dCe(t,"string");return typeof e=="symbol"?e:e+""}function dCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fCe(t,e){return t.get(gCe(t,e))}function gCe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Uk=new WeakMap;class mCe extends GM{constructor(){super(...arguments),uCe(this,"dataManager",this.plugin.dataManager),lCe(this,Uk,{row_above:(e,n)=>{const i=n[n.length-1];this.dataManager.addSibling(i.start.row,"above")},row_below:(e,n)=>{const i=n[n.length-1];this.dataManager.addSibling(i.start.row,"below")}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(r1)},callback:()=>{const i=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),o=this.dataManager.getDataObject(i);this.dataManager.addChild(o)},disabled:()=>{const i=this.hot.getSelectedLast();return!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(a1)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const i=this.hot.getSelectedLast(),o=this.dataManager.translateTrimmedRow(i[0]);return!this.dataManager.getRowParent(o)||!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Oe(0,e.items.length-1,i=>{if(i===0)return F(n,(o,s)=>{e.items.splice(i+s,0,o)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Oe(0,e.items.length-1,n=>{const i=fCe(Uk,this)[e.items[n].key];i!=null&&(e.items[n].callback=i)}),e}}function yb(t,e,n){return(e=pCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pCe(t){var e=wCe(t,"string");return typeof e=="symbol"?e:e+""}function wCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bCe{constructor(e){yb(this,"plugin",void 0),yb(this,"hot",void 0),yb(this,"dataManager",void 0),yb(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,i,o){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:i,movePossible:o}))return!1;this.movedToCollapsed=!1;const r=i===this.hot.countRows(),a=r?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i);let l=!0;const c=e.map(g=>{if(!l)return!1;const m=this.dataManager.translateTrimmedRow(g);return l=this.shouldAllowMoving(m,a),m}),u=c.indexOf(a)===-1;if(!l||!u)return!1;const h=this.getBaseParent(c),d=this.getTargetParent(r,a),f=h===d;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(d),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,f),this.moveRows(c,a,d),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,i,o,o&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,i),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:i,dropIndex:o,movePossible:s}=e;let r=!1;return Gt(o)&&(Et(Tt`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,i,o,s,!1),r=!0),r}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let i=this.dataManager.getRowParent(e?n-1:n);return i==null&&(i=this.dataManager.getRowParent(n-1)),i}shiftCollapsibleParentsLocations(e,n,i){i||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,i){const o=n===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(()=>{e.forEach(s=>{this.dataManager.moveRow(s,n,this.movedToCollapsed,o)})})}moveCellsMeta(e,n){const i=[],o=Math.max(...e)<n;e.forEach(s=>{i.push(this.hot.getCellMetaAtRow(s))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(o?i.length:0),0,...i)}selectCells(e,n){const i=e.length;let o=0,s=0,r=null,a=null;if(this.movedToCollapsed){let l=null;e[i-1]<n?l=this.dataManager.translateTrimmedRow(n-i):l=this.dataManager.translateTrimmedRow(n);const c=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),u=this.dataManager.getRowIndex(c);o=this.dataManager.untranslateTrimmedRow(u),s=o}else e[i-1]<n?(s=n-1,o=s-i+1):(o=n,s=o+i-1);r=this.hot.selection,a=this.hot.countCols()-1,r.setRangeStart(this.hot._createCellCoords(o,0)),r.setRangeEnd(this.hot._createCellCoords(s,a),!0)}isRowOrderChanged(e,n){return e.some((i,o)=>i-o!==n)}}function vCe(t,e){Ij(t,e),e.add(t)}function zk(t,e,n){Ij(t,e),e.set(t,n)}function Ij(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F_(t,e,n){return(e=yCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yCe(t){var e=CCe(t,"string");return typeof e=="symbol"?e:e+""}function CCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(t,e){return t.get(Vn(t,e))}function Fy(t,e,n){return t.set(Vn(t,e),n),n}function Vn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Vy="nestedRows",SCe=300,Yk=Vy,_Ce="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var lS=new WeakMap,xh=new WeakMap,jn=new WeakSet;class RCe extends _t{constructor(){super(...arguments),vCe(this,jn),F_(this,"dataManager",null),F_(this,"headersUI",null),F_(this,"collapsedRowsMap",null),zk(this,lS,!1),zk(this,xh,!1)}static get PLUGIN_KEY(){return Vy}static get PLUGIN_PRIORITY(){return SCe}isEnabled(){return!!this.hot.getSettings()[Vy]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Ep),this.dataManager=new oCe(this,this.hot),this.collapsingUI=new aCe(this,this.hot),this.headersUI=new wr(this,this.hot),this.contextMenuUI=new mCe(this,this.hot),this.rowMoveController=new bCe(this),this.addHook("afterInit",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,$Ce).call(e,...i)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,FCe).call(e,...i)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,TCe).call(e,...i)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,MCe).call(e,...i)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,PCe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,ECe).call(e,...i)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,ACe).call(e,...i)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,ICe).call(e,...i)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,HCe).call(e,...i)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,kCe).call(e,...i)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,NCe).call(e,...i)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,DCe).call(e,...i)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,OCe).call(e,...i)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,LCe).call(e,...i)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Vn(jn,e,xCe).call(e,...i)}),this.addHook("beforeLoadData",n=>Vn(jn,this,Gk).call(this,n)),this.addHook("beforeUpdateData",n=>Vn(jn,this,Gk).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n),!1},runOnlyIf:()=>{var e,n;const i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(i)&&i.col===-1&&i.row>=0},group:Yk,relativeToGroup:Xl,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Yk)}disableCoreAPIModifiers(){Fy(xh,this,!0)}enableCoreAPIModifiers(){Fy(xh,this,!1)}onModifyRowData(e){if(!Cv(xh,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!Cv(xh,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,i){return Cv(xh,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,i),!1)}destroy(){super.destroy()}}function xCe(t,e,n,i){return this.rowMoveController.onBeforeRowMove(t,e,n,i)}function ECe(t,e,n){this.collapsingUI.toggleState(t,e,n)}function TCe(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),Fy(lS,this,!0),this.dataManager.getData().slice()}function MCe(t){return this.contextMenuUI.appendOptions(t)}function PCe(t,e){this.headersUI.appendLevelIndicators(t,e)}function OCe(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function ICe(t,e,n,i){i!==this.pluginName&&this.hot._registerTimeout(()=>{Fy(lS,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function ACe(t,e,n){const i=Array.from(n.reduce((o,s)=>{if(this.dataManager.isParent(s)){const r=this.dataManager.getDataObject(s).__children;return o.add(s),Array.isArray(r)&&r.forEach(a=>o.add(this.dataManager.getRowIndex(a))),o}return o.add(s)},new Set));n.length=0,n.push(...i)}function HCe(){this.collapsingUI.collapsedRowsStash.stash()}function kCe(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function NCe(){this.collapsingUI.collapsedRowsStash.stash()}function DCe(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function LCe(){this.dataManager.rewriteCache()}function $Ce(){this.headersUI.updateRowHeaderWidth()}function FCe(t,e){Cv(lS,this)&&(e.skipRender=!0)}function Gk(t){if(!Lme(t)){xT(_Ce),this.hot.getSettings()[Vy]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function V_(t,e,n){return(e=VCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VCe(t){var e=WCe(t,"string");return typeof e=="symbol"?e:e+""}function WCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BCe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;V_(this,"rootWindow",void 0),V_(this,"prefix",void 0),V_(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const i=typeof e>"u"?n:e,o=this.rootWindow.localStorage.getItem(`${this.prefix}_${i}`);return o===null?void 0:JSON.parse(o)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){F(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function jCe(t,e,n){return(e=UCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UCe(t){var e=zCe(t,"string");return typeof e=="symbol"?e:e+""}function zCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Ee.getSingleton().register("persistentStateSave");Ee.getSingleton().register("persistentStateLoad");Ee.getSingleton().register("persistentStateReset");const Kk="persistentState",YCe=0;class GCe extends _t{constructor(){super(...arguments),jCe(this,"storage",void 0)}static get PLUGIN_KEY(){return Kk}static get PLUGIN_PRIORITY(){return YCe}isEnabled(){return!!this.hot.getSettings()[Kk]}enablePlugin(){this.enabled||(this.storage||(this.storage=new BCe(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function KCe(t,e){qCe(t,e),e.add(t)}function qCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W_(t,e,n){return(e=XCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XCe(t){var e=ZCe(t,"string");return typeof e=="symbol"?e:e+""}function ZCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qk(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const B_="search",JCe=190,QCe="htSearchResult",eSe=function(t,e,n,i,o){t.getCellMeta(e,n).isSearchResult=o},tSe=function(t,e,n){return Gt(t)||t===null||!t.toLocaleLowerCase||t.length===0||Gt(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var j_=new WeakSet;class nSe extends _t{constructor(){super(...arguments),KCe(this,j_),W_(this,"callback",eSe),W_(this,"queryMethod",tSe),W_(this,"searchResultClass",QCe)}static get PLUGIN_KEY(){return B_}static get PLUGIN_PRIORITY(){return JCe}isEnabled(){return this.hot.getSettings()[B_]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[B_];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return qk(j_,e,Xk).call(e,...o)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return qk(j_,e,Xk).call(e,...o)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const o=this.hot.countRows(),s=this.hot.countCols(),r=[],a=this.hot;return Oe(0,o-1,l=>{Oe(0,s-1,c=>{const u=this.hot.getDataAtCell(l,c),h=this.hot.getCellMeta(l,c),d=h.search.callback||n,g=(h.search.queryMethod||i)(e,u,h);if(g){const m={row:l,col:c,data:u};r.push(m)}d&&d(a,l,c,u,g)})}),r}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){Je(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function Xk(t,e,n,i,o,s){const r=s.className||[];let a=[];typeof r=="string"?a=r.split(" "):a.push(...r),this.isEnabled()&&s.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),s.className=a.join(" ")}function iSe(t,e){oSe(t,e),e.add(t)}function oSe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cb(t,e,n){return(e=sSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t){var e=rSe(t,"string");return typeof e=="symbol"?e:e+""}function rSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U_(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const aSe="touchScroll",lSe=200;var Sb=new WeakSet;class cSe extends _t{constructor(){super(...arguments),iSe(this,Sb),Cb(this,"scrollbars",[]),Cb(this,"clones",[]),Cb(this,"lockedCollection",!1),Cb(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return aSe}static get PLUGIN_PRIORITY(){return lSe}static get SETTING_KEYS(){return!0}isEnabled(){return PV()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>U_(Sb,this,uSe).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>U_(Sb,this,hSe).call(this)),this.addHook("afterMomentumScroll",()=>U_(Sb,this,dSe).call(this))}}function uSe(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),i&&this.scrollbars.push(i),o&&o.clone&&this.scrollbars.push(o),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}function hSe(){this.freezeOverlays=!0,F(this.clones,t=>{ue(t,"hide-tween")})}function dSe(){this.freezeOverlays=!1,F(this.clones,t=>{je(t,"hide-tween"),ue(t,"show-tween")}),this.hot._registerTimeout(()=>{F(this.clones,t=>{je(t,"show-tween")})},400),F(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function fSe(t,e){gSe(t,e),e.add(t)}function gSe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mSe(t,e,n){return(e=pSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=wSe(t,"string");return typeof e=="symbol"?e:e+""}function wSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bSe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Sv="trimRows",vSe=330;var Zk=new WeakSet;class ySe extends _t{constructor(){super(...arguments),fSe(this,Zk),mSe(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return Sv}static get PLUGIN_PRIORITY(){return vSe}isEnabled(){return!!this.hot.getSettings()[Sv]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Ep),this.trimmedRowsMap.addLocalHook("init",()=>bSe(Zk,this,CSe).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[Sv];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),F(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),i=this.isValidConfig(e);let o=n;i&&(o=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,o,i)!==!1&&(i&&this.hot.batchExecution(()=>{F(e,r=>{this.trimmedRowsMap.setValueAtIndex(r,!0)})},!0),this.hot.runHooks("afterTrimRow",n,o,i,i&&o.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),i=this.isValidConfig(e);let o=n;const s=this.trimmedRowsMap.getValues().slice(),r=e.length>0;i&&r&&(F(e,l=>{s[l]=!1}),o=Li(s,(l,c,u)=>(c&&l.push(u),l),[])),this.hot.runHooks("beforeUntrimRow",n,o,i&&r)!==!1&&(i&&r&&this.trimmedRowsMap.setValues(s),this.hot.runHooks("afterUntrimRow",n,o,i&&r,i&&o.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(i=>Number.isInteger(i)&&i>=0&&i<n)}destroy(){super.destroy()}}function CSe(){const t=this.hot.getSettings()[Sv];Array.isArray(t)&&this.hot.batchExecution(()=>{F(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var SSe=Mu,_Se=kn,RSe=function(t){if(SSe(t)==="Function")return _Se(t)},Jk=RSe,xSe=ap,ESe=hC,TSe=Jk(Jk.bind),Aj=function(t,e){return xSe(t),e===void 0?t:ESe?TSe(t,e):function(){return t.apply(e,arguments)}},Hj={},MSe=Gl,PSe=Hj,OSe=MSe("iterator"),ISe=Array.prototype,ASe=function(t){return t!==void 0&&(PSe.Array===t||ISe[OSe]===t)},HSe=K$,Qk=bC,kSe=fC,NSe=Hj,DSe=Gl,LSe=DSe("iterator"),kj=function(t){if(!kSe(t))return Qk(t,LSe)||Qk(t,"@@iterator")||NSe[HSe(t)]},$Se=Ds,FSe=ap,VSe=Fa,WSe=wC,BSe=kj,jSe=TypeError,USe=function(t,e){var n=arguments.length<2?BSe(t):e;if(FSe(n))return VSe($Se(n,t));throw new jSe(WSe(t)+" is not iterable")},zSe=Aj,YSe=Ds,GSe=Fa,KSe=wC,qSe=ASe,XSe=hp,eN=mC,ZSe=USe,JSe=kj,tN=lT,QSe=TypeError,_v=function(t,e){this.stopped=t,this.result=e},nN=_v.prototype,e0e=function(t,e,n){var i=n&&n.that,o=!!(n&&n.AS_ENTRIES),s=!!(n&&n.IS_RECORD),r=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),l=zSe(e,i),c,u,h,d,f,g,m,w=function(C){return c&&tN(c,"normal",C),new _v(!0,C)},b=function(C){return o?(GSe(C),a?l(C[0],C[1],w):l(C[0],C[1])):a?l(C,w):l(C)};if(s)c=t.iterator;else if(r)c=t;else{if(u=JSe(t),!u)throw new QSe(KSe(t)+" is not iterable");if(qSe(u)){for(h=0,d=XSe(t);d>h;h++)if(f=b(t[h]),f&&eN(nN,f))return f;return new _v(!1)}c=ZSe(t,u)}for(g=s?t.next:c.next;!(m=YSe(g,c)).done;){try{f=b(m.value)}catch(C){tN(c,"throw",C)}if(typeof f=="object"&&f&&eN(nN,f))return f}return new _v(!1)},t0e=Ns,n0e=Kl,i0e=dC,o0e=function(t,e,n){t0e?n0e.f(t,e,i0e(0,n)):t[e]=n},s0e=li,r0e=e0e,a0e=o0e;s0e({target:"Object",stat:!0},{fromEntries:function(e){var n={};return r0e(e,function(i,o){a0e(n,i,o)},{AS_ENTRIES:!0}),n}});const Nj="undoRedo",l0e="undoRedo";function ve(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(i,o){const s=i&&i.length;if(!s||!i.find(l=>{const[,,c,u]=l;return c!==u}))return;const a=()=>{const l=i.reduce((u,h)=>(u.push([...h]),u),[]);F(l,u=>{u[1]=t.propToCol(u[1])});const c=s>1?this.getSelected():[[l[0][0],l[0][1]]];return new ve.ChangeAction(l,c)};e.done(a,o)}),t.addHook("afterCreateRow",(i,o,s)=>{e.done(()=>new ve.CreateRowAction(i,o),s)});const n=(i,o,s,r)=>{const a=["visualRow","visualCol","row","col","prop"],l=a.length,c=[];return Oe(s,r,u=>{Oe(i,o,h=>{const d=t.getCellMeta(h,u);if(Object.keys(d).length!==l){const f=Object.fromEntries(Object.entries(d).filter(g=>{let[m]=g;return a.includes(m)===!1}));c.push([d.visualRow,d.visualCol,f])}})}),c};t.addHook("beforeRemoveRow",(i,o,s,r)=>{const a=()=>{const l=t.toPhysicalRow(i),c=l+o-1,u=Ni(e.instance.getSourceData(l,0,l+o-1,e.instance.countSourceCols()-1));return new ve.RemoveRowAction(l,u,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(l,c,0,t.countCols()-1))};e.done(a,r)}),t.addHook("afterCreateCol",(i,o,s)=>{e.done(()=>new ve.CreateColumnAction(i,o),s)}),t.addHook("beforeRemoveCol",(i,o,s,r)=>{const a=()=>{const l=e.instance.getSourceDataArray(),c=(e.instance.countCols()+i)%e.instance.countCols(),u=c+o-1,h=[],d=[],f=[];Oe(l.length-1,w=>{const b=[],C=l[w];Oe(c,u,y=>{b.push(C[t.toPhysicalColumn(y)])}),h.push(b)}),Oe(o-1,w=>{f.push(t.toPhysicalColumn(c+w))}),Array.isArray(t.getSettings().colHeaders)&&Oe(o-1,w=>{d.push(t.getSettings().colHeaders[t.toPhysicalColumn(c+w)]||null)});const g=t.columnIndexMapper.getIndexesSequence(),m=t.rowIndexMapper.getIndexesSequence();return new ve.RemoveColumnAction(c,f,h,d,g,m,t.getSettings().fixedColumnsStart,n(0,t.countRows(),c,u))};e.done(a,r)}),t.addHook("beforeCellAlignment",(i,o,s,r)=>{e.done(()=>new ve.CellAlignmentAction(i,o,s,r))}),t.addHook("beforeFilter",(i,o)=>{e.done(()=>new ve.FiltersAction(i,o))}),t.addHook("beforeRowMove",(i,o)=>{i!==!1&&e.done(()=>new ve.RowMoveAction(i,o))}),t.addHook("beforeColumnMove",(i,o)=>{i!==!1&&e.done(()=>new ve.ColumnMoveAction(i,o))}),t.addHook("beforeMergeCells",(i,o)=>{o||e.done(()=>new ve.MergeCellsAction(t,i))}),t.addHook("afterUnmergeCells",(i,o)=>{o||e.done(()=>new ve.UnmergeCellsAction(t,i))}),t.addHook("beforeColumnSort",(i,o,s)=>{s&&e.done(()=>new ve.ColumnSortAction(i,o))}),t.addHook("afterInit",()=>{e.init()})}ve.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;const i=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",i,e)===!1)return;const s=t(),r=this.undoneActions.slice();this.doneActions.push(s),this.instance.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",r),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",r,this.undoneActions.slice())};ve.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=Ni(e);if(this.instance.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const o=this,s=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",s),e.undo(this.instance,()=>{o.ignoreNewActions=!1,o.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}};ve.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=Ni(e);if(this.instance.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const o=this,s=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",s),e.redo(this.instance,()=>{o.ignoreNewActions=!1,o.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",s,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}};ve.prototype.isUndoAvailable=function(){return this.doneActions.length>0};ve.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};ve.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};ve.prototype.isEnabled=function(){return this.enabled};ve.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,h0e(t),this.registerShortcuts(),t.addHook("afterChange",Dj)};ve.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,d0e(t),this.unregisterShortcuts(),t.removeHook("afterChange",Dj)};ve.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};ve.Action=function(){};ve.Action.prototype.undo=function(){};ve.Action.prototype.redo=function(){};ve.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"};Wr(ve.ChangeAction,ve.Action);ve.ChangeAction.prototype.undo=function(t,e){const n=Ni(this.changes),i=t.countEmptyRows(!0),o=t.countEmptyCols(!0);for(let r=0,a=n.length;r<a;r++)n[r].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let r=0,a=n.length;r<a;r++){const[l,c]=n[r];t.getSettings().minSpareRows&&l+1+t.getSettings().minSpareRows===t.countRows()&&i===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(l+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&c+1+t.getSettings().minSpareCols===t.countCols()&&o===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(c+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const s=t.getSelectedLast();if(s!==void 0){const[r,a]=n[0],[l,c]=s,u=t.view.getFirstFullyVisibleRow(),h=t.view.getFirstFullyVisibleColumn(),d=r>=u,f=a>=h;if((d&&f)===!1&&(l!==r||c!==a)===!0){const w={row:r,col:a};d===!1&&(w.verticalSnap="top"),f===!1&&(w.horizontalSnap="start"),t.scrollViewportTo(w)}}t.selectCells(this.selected,!1,!1)};ve.ChangeAction.prototype.redo=function(t,e){const n=Ni(this.changes);for(let i=0,o=n.length;i<o;i++)n[i].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)};ve.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"};Wr(ve.CreateRowAction,ve.Action);ve.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),i=t.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};ve.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};ve.RemoveRowAction=function(t,e,n,i,o,s){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=i,this.rowIndexesSequence=o,this.removedCellMetas=s};Wr(ve.RemoveRowAction,ve.Action);ve.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),i=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((o,s)=>{Object.keys(o).forEach(r=>{const a=parseInt(r,10);i.push([this.index+s,isNaN(a)?r:a,o[r]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(o=>{let[s,r,a]=o;t.setCellMetaObject(s,r,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(i,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};ve.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};ve.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"};Wr(ve.CreateColumnAction,ve.Action);ve.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};ve.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};ve.RemoveColumnAction=function(t,e,n,i,o,s,r,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=i,this.columnPositions=o.slice(0),this.rowPositions=s.slice(0),this.actionType="remove_col",this.fixedColumnsStart=r,this.removedCellMetas=a};Wr(ve.RemoveColumnAction,ve.Action);ve.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const i=this.indexes.slice(0).sort(),o=(c,u,h)=>h[this.indexes.indexOf(i[u])],s=this.data.length,r=[];for(let c=0;c<s;c++)r.push(at(this.data[c],o));const a=at(this.headers,o),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),F(t.getSourceDataArray(),(c,u)=>{F(i,(h,d)=>{c[h]=r[u][d],l.push([u,h,c[h]])})}),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&F(a,(c,u)=>{t.getSettings().colHeaders[i[u]]=c}),this.removedCellMetas.forEach(c=>{let[u,h,d]=c;t.setCellMetaObject(u,h,d)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()};ve.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};ve.CellAlignmentAction=function(t,e,n,i){this.stateBefore=t,this.range=e,this.type=n,this.alignment=i};ve.CellAlignmentAction.prototype.undo=function(t,e){F(this.range,n=>{n.forAll((i,o)=>{i>=0&&o>=0&&t.setCellMeta(i,o,"className",this.stateBefore[i][o]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()};ve.CellAlignmentAction.prototype.redo=function(t,e){al(this.range,this.type,this.alignment,(n,i)=>t.getCellMeta(n,i),(n,i,o,s)=>t.setCellMeta(n,i,o,s)),t.addHookOnce("afterViewRender",e),t.render()};ve.FiltersAction=function(t,e){this.previousConditionsStack=e,this.conditionsStack=t,this.actionType="filter"};Wr(ve.FiltersAction,ve.Action);ve.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),this.previousConditionsStack&&n.conditionCollection.importAllConditions(this.previousConditionsStack),n.filter()};ve.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class c0e extends ve.Action{constructor(e,n){super(),this.cellRange=n;const i=this.cellRange.getTopStartCorner(),o=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(i.row,i.col,o.row,o.col)}undo(e,n){const i=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),i.unmergeRange(this.cellRange,!0);const o=this.cellRange.getTopStartCorner();e.populateFromArray(o.row,o.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,n){const i=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),i.mergeRange(this.cellRange)}}ve.MergeCellsAction=c0e;class u0e extends ve.Action{constructor(e,n){super(),this.cellRange=n}undo(e,n){const i=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),i.mergeRange(this.cellRange,!0)}redo(e,n){const i=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),i.unmergeRange(this.cellRange,!0),e.render()}}ve.UnmergeCellsAction=u0e;ve.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalRowIndex=e,this.actionType="row_move"};Wr(ve.RowMoveAction,ve.Action);ve.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),BM(this.rows,this.finalRowIndex,t.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(o=>{let{from:s,to:r}=o;s<r&&(r-=1),n.moveRow(r,s)}),t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};ve.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalRowIndex),t.render(),t.deselectCell(),t.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};ve.ColumnMoveAction=function(t,e){this.columns=t.slice(),this.finalColumnIndex=e,this.actionType="col_move"};Wr(ve.ColumnMoveAction,ve.Action);ve.ColumnMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),BM(this.columns,this.finalColumnIndex,t.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(o=>{let{from:s,to:r}=o;s<r&&(r-=1),n.moveColumn(r,s)}),t.render(),t.deselectCell(),t.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};ve.ColumnMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),n.moveColumns(this.columns.slice(),this.finalColumnIndex),t.render(),t.deselectCell(),t.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};ve.ColumnSortAction=function(t,e){this.previousSortState=t,this.nextSortState=e};Wr(ve.ColumnSortAction,ve.Action);ve.ColumnSortAction.prototype.undo=function(t,e){const n=t.getPlugin("columnSorting"),i=t.getPlugin("multiColumnSorting"),o=i.isEnabled()?i:n;this.previousSortState.length?o.sort(this.previousSortState):o.clearSort(),e()};ve.ColumnSortAction.prototype.redo=function(t,e){const n=t.getPlugin("columnSorting"),i=t.getPlugin("multiColumnSorting");(i.isEnabled()?i:n).sort(this.nextSortState),e()};ve.prototype.init=function(){const t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};ve.prototype.registerShortcuts=function(){const e=this.instance.getShortcutManager().getContext("grid"),i={runOnlyIf:o=>!o.altKey,group:Nj};e.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)};ve.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(Nj)};function Dj(t,e){const n=this;if(e==="loadData")return n.undoRedo.clear()}function h0e(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function d0e(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}const kp=Ee.getSingleton();kp.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()});kp.register("beforeUndo");kp.register("afterUndo");kp.register("beforeRedo");kp.register("afterRedo");ve.PLUGIN_KEY=l0e;ve.SETTING_KEYS=!0;function f0e(){pt(Ag),pt(_le),pt(Hg),pt(ice),pt(hce),pt(ZW),pt(sue),pt(Kue),pt(nS),pt(Kde),pt(Ufe),pt(Jfe),pt(sS),pt(Ege),pt(Mpe),pt(swe),pt(Iwe),pt(Bwe),pt(ebe),pt(hbe),pt(Cbe),pt(Fbe),pt(Kbe),pt(Tve),pt(aye),pt(dye),pt($ye),pt(RCe),pt(GCe),pt(nSe),pt(cSe),pt(ySe),pt(ve)}function g0e(){Sie(),Uie(),noe(),Eoe(),f0e()}let Wt;const ya=new Array(128).fill(void 0);ya.push(void 0,null,!0,!1);function ze(t){return ya[t]}let hu=0,dg=null;function Rv(){return(dg===null||dg.byteLength===0)&&(dg=new Uint8Array(Wt.memory.buffer)),dg}const xv=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},m0e=typeof xv.encodeInto=="function"?function(t,e){return xv.encodeInto(t,e)}:function(t,e){const n=xv.encode(t);return e.set(n),{read:t.length,written:n.length}};function z_(t,e,n){if(n===void 0){const a=xv.encode(t),l=e(a.length,1)>>>0;return Rv().subarray(l,l+a.length).set(a),hu=a.length,l}let i=t.length,o=e(i,1)>>>0;const s=Rv();let r=0;for(;r<i;r++){const a=t.charCodeAt(r);if(a>127)break;s[o+r]=a}if(r!==i){r!==0&&(t=t.slice(r)),o=n(o,i,i=r+t.length*3,1)>>>0;const a=Rv().subarray(o+r,o+i),l=m0e(t,a);r+=l.written,o=n(o,i,r,1)>>>0}return hu=r,o}function Gf(t){return t==null}let Gc=null;function ii(){return(Gc===null||Gc.buffer.detached===!0||Gc.buffer.detached===void 0&&Gc.buffer!==Wt.memory.buffer)&&(Gc=new DataView(Wt.memory.buffer)),Gc}let Zg=ya.length;function p0e(t){t<132||(ya[t]=Zg,Zg=t)}function Ol(t){const e=ze(t);return p0e(t),e}const Lj=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Lj.decode();function _b(t,e){return t=t>>>0,Lj.decode(Rv().subarray(t,t+e))}function rn(t){Zg===ya.length&&ya.push(ya.length+1);const e=Zg;return Zg=ya[e],ya[e]=t,e}function Nx(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const o=t.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=t.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(t)){const o=t.length;let s="[";o>0&&(s+=Nx(t[0]));for(let r=1;r<o;r++)s+=", "+Nx(t[r]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(n.length>1)i=n[1];else return toString.call(t);if(i=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:i}function w0e(t,e){const n=e(t.length*4,4)>>>0,i=ii();for(let o=0;o<t.length;o++)i.setUint32(n+4*o,rn(t[o]),!0);return hu=t.length,n}function Y_(t,e){try{return t.apply(this,e)}catch(n){Wt.__wbindgen_exn_store(rn(n))}}const iN=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>Wt.__wbg_wasmlogcontexttransformer_free(t>>>0,1));class $j{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,iN.unregister(this),e}free(){const e=this.__destroy_into_raw();Wt.__wbg_wasmlogcontexttransformer_free(e,0)}constructor(e){const n=w0e(e,Wt.__wbindgen_malloc),i=hu,o=Wt.wasmlogcontexttransformer_new(n,i);return this.__wbg_ptr=o>>>0,iN.register(this,this.__wbg_ptr,this),this}from_rpc_response(e){try{const s=Wt.__wbindgen_add_to_stack_pointer(-16);Wt.wasmlogcontexttransformer_from_rpc_response(s,this.__wbg_ptr,rn(e));var n=ii().getInt32(s+4*0,!0),i=ii().getInt32(s+4*1,!0),o=ii().getInt32(s+4*2,!0);if(o)throw Ol(i);return Ol(n)}finally{Wt.__wbindgen_add_to_stack_pointer(16)}}from_rpc_logs_response(e,n){try{const r=Wt.__wbindgen_add_to_stack_pointer(-16);Wt.wasmlogcontexttransformer_from_rpc_logs_response(r,this.__wbg_ptr,rn(e),n);var i=ii().getInt32(r+4*0,!0),o=ii().getInt32(r+4*1,!0),s=ii().getInt32(r+4*2,!0);if(s)throw Ol(o);return Ol(i)}finally{Wt.__wbindgen_add_to_stack_pointer(16)}}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(t=>Wt.__wbg_wasmlogparser_free(t>>>0,1));async function b0e(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(i){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function v0e(){const t={};return t.wbg={},t.wbg.__wbindgen_string_get=function(e,n){const i=ze(n),o=typeof i=="string"?i:void 0;var s=Gf(o)?0:z_(o,Wt.__wbindgen_malloc,Wt.__wbindgen_realloc),r=hu;ii().setInt32(e+4*1,r,!0),ii().setInt32(e+4*0,s,!0)},t.wbg.__wbindgen_object_drop_ref=function(e){Ol(e)},t.wbg.__wbindgen_error_new=function(e,n){const i=new Error(_b(e,n));return rn(i)},t.wbg.__wbindgen_is_string=function(e){return typeof ze(e)=="string"},t.wbg.__wbindgen_is_object=function(e){const n=ze(e);return typeof n=="object"&&n!==null},t.wbg.__wbindgen_is_undefined=function(e){return ze(e)===void 0},t.wbg.__wbindgen_in=function(e,n){return ze(e)in ze(n)},t.wbg.__wbindgen_is_bigint=function(e){return typeof ze(e)=="bigint"},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return rn(n)},t.wbg.__wbindgen_jsval_eq=function(e,n){return ze(e)===ze(n)},t.wbg.__wbindgen_string_new=function(e,n){const i=_b(e,n);return rn(i)},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return ze(e)==ze(n)},t.wbg.__wbindgen_boolean_get=function(e){const n=ze(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbindgen_number_get=function(e,n){const i=ze(n),o=typeof i=="number"?i:void 0;ii().setFloat64(e+8*1,Gf(o)?0:o,!0),ii().setInt32(e+4*0,!Gf(o),!0)},t.wbg.__wbindgen_as_number=function(e){return+ze(e)},t.wbg.__wbindgen_number_new=function(e){return rn(e)},t.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){const i=ze(e)[ze(n)];return rn(i)},t.wbg.__wbg_set_f975102236d3c502=function(e,n,i){ze(e)[Ol(n)]=Ol(i)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=ze(e);return rn(n)},t.wbg.__wbg_get_5419cf6b954aa11d=function(e,n){const i=ze(e)[n>>>0];return rn(i)},t.wbg.__wbg_length_f217bbbf7e8e4df4=function(e){return ze(e).length},t.wbg.__wbg_new_034f913e7636e987=function(){const e=new Array;return rn(e)},t.wbg.__wbindgen_is_function=function(e){return typeof ze(e)=="function"},t.wbg.__wbg_next_13b477da1eaa3897=function(e){const n=ze(e).next;return rn(n)},t.wbg.__wbg_next_b06e115d1b01e10b=function(){return Y_(function(e){const n=ze(e).next();return rn(n)},arguments)},t.wbg.__wbg_done_983b5ffcaec8c583=function(e){return ze(e).done},t.wbg.__wbg_value_2ab8a198c834c26a=function(e){const n=ze(e).value;return rn(n)},t.wbg.__wbg_iterator_695d699a44d6234c=function(){return rn(Symbol.iterator)},t.wbg.__wbg_get_ef828680c64da212=function(){return Y_(function(e,n){const i=Reflect.get(ze(e),ze(n));return rn(i)},arguments)},t.wbg.__wbg_call_a9ef466721e824f2=function(){return Y_(function(e,n){const i=ze(e).call(ze(n));return rn(i)},arguments)},t.wbg.__wbg_new_e69b5f66fda8f13c=function(){const e=new Object;return rn(e)},t.wbg.__wbg_set_425e70f7c64ac962=function(e,n,i){ze(e)[n>>>0]=Ol(i)},t.wbg.__wbg_isArray_6f3b47f09adb61b5=function(e){return Array.isArray(ze(e))},t.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(e){let n;try{n=ze(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(e){return Number.isSafeInteger(ze(e))},t.wbg.__wbg_entries_c02034de337d3ee2=function(e){const n=Object.entries(ze(e));return rn(n)},t.wbg.__wbg_buffer_ccaed51a635d8a2d=function(e){const n=ze(e).buffer;return rn(n)},t.wbg.__wbg_new_fec2611eb9180f95=function(e){const n=new Uint8Array(ze(e));return rn(n)},t.wbg.__wbg_set_ec2fcf81bc573fd9=function(e,n,i){ze(e).set(ze(n),i>>>0)},t.wbg.__wbg_length_9254c4bd3b9f23c4=function(e){return ze(e).length},t.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(e){let n;try{n=ze(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return rn(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const i=ze(n).stack,o=z_(i,Wt.__wbindgen_malloc,Wt.__wbindgen_realloc),s=hu;ii().setInt32(e+4*1,s,!0),ii().setInt32(e+4*0,o,!0)},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let i,o;try{i=e,o=n,console.error(_b(e,n))}finally{Wt.__wbindgen_free(i,o,1)}},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const i=ze(n),o=typeof i=="bigint"?i:void 0;ii().setBigInt64(e+8*1,Gf(o)?BigInt(0):o,!0),ii().setInt32(e+4*0,!Gf(o),!0)},t.wbg.__wbindgen_debug_string=function(e,n){const i=Nx(ze(n)),o=z_(i,Wt.__wbindgen_malloc,Wt.__wbindgen_realloc),s=hu;ii().setInt32(e+4*1,s,!0),ii().setInt32(e+4*0,o,!0)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(_b(e,n))},t.wbg.__wbindgen_memory=function(){const e=Wt.memory;return rn(e)},t}function y0e(t,e){return Wt=t.exports,Fj.__wbindgen_wasm_module=e,Gc=null,dg=null,Wt}async function Fj(t){if(Wt!==void 0)return Wt;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/sologger/assets/sologger_log_transformer_wasm_bg-ChnF4bna.wasm",import.meta.url));const e=v0e();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:i}=await b0e(await t,e);return y0e(n,i)}const C0e={props:{modelValue:{type:String,required:!0}},emits:["addProgramId","update:modelValue"],methods:{emitAddProgramId(){this.$emit("addProgramId")}}},S0e={class:"flex gap-4"},_0e=["value"];function R0e(t,e,n,i,o,s){return We(),qe("form",{onSubmit:e[1]||(e[1]=t$((...r)=>s.emitAddProgramId&&s.emitAddProgramId(...r),["prevent"])),class:"mb-6"},[le("div",S0e,[le("input",{value:n.modelValue,onInput:e[0]||(e[0]=r=>t.$emit("update:modelValue",r.target.value)),type:"text",placeholder:"Enter Program ID",class:"flex-grow p-2 border rounded"},null,40,_0e),e[2]||(e[2]=le("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Add Program ",-1))])],32)}const x0e=Yl(C0e,[["render",R0e]]),E0e={props:["programIds"],emits:["removeProgramId"],methods:{removeProgramId(t){this.$emit("removeProgramId",t)}}},T0e={class:"mb-6"},M0e={class:"flex flex-wrap gap-2"},P0e={class:"text-sm"},O0e=["onClick"];function I0e(t,e,n,i,o,s){return We(),qe("div",T0e,[e[0]||(e[0]=le("h3",{class:"text-lg font-bold mb-2"},"Monitored Programs:",-1)),le("div",M0e,[(We(!0),qe(Yn,null,td(n.programIds,(r,a)=>(We(),qe("div",{key:a,class:"flex items-center gap-2 bg-gray-100 px-3 py-1 rounded"},[le("span",P0e,Cn(r),1),le("button",{onClick:l=>s.removeProgramId(a),class:"text-red-500 hover:text-red-700"}," × ",8,O0e)]))),128))])])}const A0e=Yl(E0e,[["render",I0e]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Np(t){return t+.5|0}const Il=(t,e,n)=>Math.max(Math.min(t,n),e);function fg(t){return Il(Np(t*2.55),0,255)}function $l(t){return Il(Np(t*255),0,255)}function wa(t){return Il(Np(t/2.55)/100,0,1)}function oN(t){return Il(Np(t*100),0,100)}const Mo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dx=[..."0123456789ABCDEF"],H0e=t=>Dx[t&15],k0e=t=>Dx[(t&240)>>4]+Dx[t&15],Rb=t=>(t&240)>>4===(t&15),N0e=t=>Rb(t.r)&&Rb(t.g)&&Rb(t.b)&&Rb(t.a);function D0e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Mo[t[1]]*17,g:255&Mo[t[2]]*17,b:255&Mo[t[3]]*17,a:e===5?Mo[t[4]]*17:255}:(e===7||e===9)&&(n={r:Mo[t[1]]<<4|Mo[t[2]],g:Mo[t[3]]<<4|Mo[t[4]],b:Mo[t[5]]<<4|Mo[t[6]],a:e===9?Mo[t[7]]<<4|Mo[t[8]]:255})),n}const L0e=(t,e)=>t<255?e(t):"";function $0e(t){var e=N0e(t)?H0e:k0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+L0e(t.a,e):void 0}const F0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vj(t,e,n){const i=e*Math.min(n,1-n),o=(s,r=(s+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function V0e(t,e,n){const i=(o,s=(o+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function W0e(t,e,n){const i=Vj(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function B0e(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function KM(t){const n=t.r/255,i=t.g/255,o=t.b/255,s=Math.max(n,i,o),r=Math.min(n,i,o),a=(s+r)/2;let l,c,u;return s!==r&&(u=s-r,c=a>.5?u/(2-s-r):u/(s+r),l=B0e(n,i,o,u,s),l=l*60+.5),[l|0,c||0,a]}function qM(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map($l)}function XM(t,e,n){return qM(Vj,t,e,n)}function j0e(t,e,n){return qM(W0e,t,e,n)}function U0e(t,e,n){return qM(V0e,t,e,n)}function Wj(t){return(t%360+360)%360}function z0e(t){const e=F0e.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?fg(+e[5]):$l(+e[5]));const o=Wj(+e[2]),s=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=j0e(o,s,r):e[1]==="hsv"?i=U0e(o,s,r):i=XM(o,s,r),{r:i[0],g:i[1],b:i[2],a:n}}function Y0e(t,e){var n=KM(t);n[0]=Wj(n[0]+e),n=XM(n),t.r=n[0],t.g=n[1],t.b=n[2]}function G0e(t){if(!t)return;const e=KM(t),n=e[0],i=oN(e[1]),o=oN(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${wa(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const sN={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rN={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function K0e(){const t={},e=Object.keys(rN),n=Object.keys(sN);let i,o,s,r,a;for(i=0;i<e.length;i++){for(r=a=e[i],o=0;o<n.length;o++)s=n[o],a=a.replace(s,sN[s]);s=parseInt(rN[r],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let xb;function q0e(t){xb||(xb=K0e(),xb.transparent=[0,0,0,0]);const e=xb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const X0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z0e(t){const e=X0e.exec(t);let n=255,i,o,s;if(e){if(e[7]!==i){const r=+e[7];n=e[8]?fg(r):Il(r*255,0,255)}return i=+e[1],o=+e[3],s=+e[5],i=255&(e[2]?fg(i):Il(i,0,255)),o=255&(e[4]?fg(o):Il(o,0,255)),s=255&(e[6]?fg(s):Il(s,0,255)),{r:i,g:o,b:s,a:n}}}function J0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const G_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Eh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Q0e(t,e,n){const i=Eh(wa(t.r)),o=Eh(wa(t.g)),s=Eh(wa(t.b));return{r:$l(G_(i+n*(Eh(wa(e.r))-i))),g:$l(G_(o+n*(Eh(wa(e.g))-o))),b:$l(G_(s+n*(Eh(wa(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Eb(t,e,n){if(t){let i=KM(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=XM(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Bj(t,e){return t&&Object.assign(e||{},t)}function aN(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=$l(t[3]))):(e=Bj(t,{r:0,g:0,b:0,a:1}),e.a=$l(e.a)),e}function e_e(t){return t.charAt(0)==="r"?Z0e(t):z0e(t)}class jm{constructor(e){if(e instanceof jm)return e;const n=typeof e;let i;n==="object"?i=aN(e):n==="string"&&(i=D0e(e)||q0e(e)||e_e(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Bj(this._rgb);return e&&(e.a=wa(e.a)),e}set rgb(e){this._rgb=aN(e)}rgbString(){return this._valid?J0e(this._rgb):void 0}hexString(){return this._valid?$0e(this._rgb):void 0}hslString(){return this._valid?G0e(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let s;const r=n===s?.5:n,a=2*r-1,l=i.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*o.r+.5,i.g=255&c*i.g+s*o.g+.5,i.b=255&c*i.b+s*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Q0e(this._rgb,e._rgb,n)),this}clone(){return new jm(this.rgb)}alpha(e){return this._rgb.a=$l(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Np(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Eb(this._rgb,2,e),this}darken(e){return Eb(this._rgb,2,-e),this}saturate(e){return Eb(this._rgb,1,e),this}desaturate(e){return Eb(this._rgb,1,-e),this}rotate(e){return Y0e(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function oa(){}const t_e=(()=>{let t=0;return()=>t++})();function Sn(t){return t===null||typeof t>"u"}function qn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function St(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qo(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rr(t,e){return qo(t)?t:e}function ft(t,e){return typeof t>"u"?e:t}const n_e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ht(t,e,n,i){let o,s,r;if(qn(t))for(s=t.length,o=0;o<s;o++)e.call(n,t[o],o);else if(St(t))for(r=Object.keys(t),s=r.length,o=0;o<s;o++)e.call(n,t[r[o]],r[o])}function Wy(t,e){let n,i,o,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],s=e[n],o.datasetIndex!==s.datasetIndex||o.index!==s.index)return!1;return!0}function By(t){if(qn(t))return t.map(By);if(St(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=By(t[n[o]]);return e}return t}function jj(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function i_e(t,e,n,i){if(!jj(t))return;const o=e[t],s=n[t];St(o)&&St(s)?Um(o,s,i):e[t]=By(s)}function Um(t,e,n){const i=qn(e)?e:[e],o=i.length;if(!St(t))return t;n=n||{};const s=n.merger||i_e;let r;for(let a=0;a<o;++a){if(r=i[a],!St(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)s(l[c],t,r,n)}return t}function Jg(t,e){return Um(t,e,{merger:o_e})}function o_e(t,e,n){if(!jj(t))return;const i=e[t],o=n[t];St(i)&&St(o)?Jg(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=By(o))}const lN={"":t=>t,x:t=>t.x,y:t=>t.y};function s_e(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function r_e(t){const e=s_e(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function jy(t,e){return(lN[e]||(lN[e]=r_e(e)))(t)}function ZM(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Uy=t=>typeof t<"u",jl=t=>typeof t=="function",cN=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function a_e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Jn=Math.PI,Pr=2*Jn,l_e=Pr+Jn,zy=Number.POSITIVE_INFINITY,c_e=Jn/180,xs=Jn/2,Lc=Jn/4,uN=Jn*2/3,Lx=Math.log10,Rd=Math.sign;function Qg(t,e,n){return Math.abs(t-e)<n}function hN(t){const e=Math.round(t);t=Qg(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Lx(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function u_e(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,s)=>o-s).pop(),e}function zm(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h_e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function d_e(t,e,n){let i,o,s;for(i=0,o=t.length;i<o;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function su(t){return t*(Jn/180)}function f_e(t){return t*(180/Jn)}function dN(t){if(!qo(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function g_e(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Jn&&(s+=Pr),{angle:s,distance:o}}function $x(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function m_e(t,e){return(t-e+l_e)%Pr-Jn}function ll(t){return(t%Pr+Pr)%Pr}function Uj(t,e,n,i){const o=ll(t),s=ll(e),r=ll(n),a=ll(s-o),l=ll(r-o),c=ll(o-s),u=ll(o-r);return o===s||o===r||i&&s===r||a>l&&c<u}function Bo(t,e,n){return Math.max(e,Math.min(n,t))}function p_e(t){return Bo(t,-32768,32767)}function gg(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function JM(t,e,n){n=n||(r=>t[r]<e);let i=t.length-1,o=0,s;for(;i-o>1;)s=o+i>>1,n(s)?o=s:i=s;return{lo:o,hi:i}}const ru=(t,e,n,i)=>JM(t,n,i?o=>{const s=t[o][e];return s<n||s===n&&t[o+1][e]===n}:o=>t[o][e]<n),w_e=(t,e,n)=>JM(t,n,i=>t[i][e]>=n);function b_e(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const zj=["push","pop","shift","splice","unshift"];function v_e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zj.forEach(n=>{const i="_onData"+ZM(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const r=o.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),r}})})}function fN(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(zj.forEach(s=>{delete t[s]}),delete t._chartjs)}function y_e(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Yj=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Gj(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Yj.call(window,()=>{i=!1,t.apply(e,n)}))}}function C_e(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const QM=t=>t==="start"?"left":t==="end"?"right":"center",wi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,S_e=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function __e(t,e,n){const i=e.length;let o=0,s=i;if(t._sorted){const{iScale:r,_parsed:a}=t,l=r.axis,{min:c,max:u,minDefined:h,maxDefined:d}=r.getUserBounds();h&&(o=Bo(Math.min(ru(a,l,c).lo,n?i:ru(e,l,r.getPixelForValue(c)).lo),0,i-1)),d?s=Bo(Math.max(ru(a,r.axis,u,!0).hi+1,n?0:ru(e,l,r.getPixelForValue(u),!0).hi+1),o,i)-o:s=i-o}return{start:o,count:s}}function R_e(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=o,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),s}const Tb=t=>t===0||t===1,gN=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pr/n)),mN=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pr/n)+1,em={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xs)+1,easeOutSine:t=>Math.sin(t*xs),easeInOutSine:t=>-.5*(Math.cos(Jn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tb(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tb(t)?t:gN(t,.075,.3),easeOutElastic:t=>Tb(t)?t:mN(t,.075,.3),easeInOutElastic(t){return Tb(t)?t:t<.5?.5*gN(t*2,.1125,.45):.5+.5*mN(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-em.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?em.easeInBounce(t*2)*.5:em.easeOutBounce(t*2-1)*.5+.5};function eP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function pN(t){return eP(t)?t:new jm(t)}function K_(t){return eP(t)?t:new jm(t).saturate(.5).darken(.1).hexString()}const x_e=["x","y","borderWidth","radius","tension"],E_e=["color","borderColor","backgroundColor"];function T_e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:E_e},numbers:{type:"number",properties:x_e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function M_e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wN=new Map;function P_e(t,e){e=e||{};const n=t+JSON.stringify(e);let i=wN.get(n);return i||(i=new Intl.NumberFormat(t,e),wN.set(n,i)),i}function Kj(t,e,n){return P_e(e,n).format(t)}const qj={values(t){return qn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),s=O_e(t,n)}const r=Lx(Math.abs(s)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Kj(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Lx(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?qj.numeric.call(this,t,e,n):""}};function O_e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Xj={formatters:qj};function I_e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xu=Object.create(null),Fx=Object.create(null);function tm(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function q_(t,e,n){return typeof e=="string"?Um(tm(t,e),n):Um(tm(t,""),e)}class A_e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>K_(o.backgroundColor),this.hoverBorderColor=(i,o)=>K_(o.borderColor),this.hoverColor=(i,o)=>K_(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return q_(this,e,n)}get(e){return tm(this,e)}describe(e,n){return q_(Fx,e,n)}override(e,n){return q_(xu,e,n)}route(e,n,i,o){const s=tm(this,e),r=tm(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=r[o];return St(l)?Object.assign({},c,l):ft(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Mn=new A_e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T_e,M_e,I_e]);function H_e(t){return!t||Sn(t.size)||Sn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function bN(t,e,n,i,o){let s=e[o];return s||(s=e[o]=t.measureText(o).width,n.push(o)),s>i&&(i=s),i}function $c(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function vN(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Vx(t,e,n,i){Zj(t,e,n,i,null)}function Zj(t,e,n,i,o){let s,r,a,l,c,u,h,d;const f=e.pointStyle,g=e.rotation,m=e.radius;let w=(g||0)*c_e;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:o?t.ellipse(n,i,o/2,m,0,0,Pr):t.arc(n,i,m,0,Pr),t.closePath();break;case"triangle":u=o?o/2:m,t.moveTo(n+Math.sin(w)*u,i-Math.cos(w)*m),w+=uN,t.lineTo(n+Math.sin(w)*u,i-Math.cos(w)*m),w+=uN,t.lineTo(n+Math.sin(w)*u,i-Math.cos(w)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,r=Math.cos(w+Lc)*l,h=Math.cos(w+Lc)*(o?o/2-c:l),a=Math.sin(w+Lc)*l,d=Math.sin(w+Lc)*(o?o/2-c:l),t.arc(n-h,i-a,c,w-Jn,w-xs),t.arc(n+d,i-r,c,w-xs,w),t.arc(n+h,i+a,c,w,w+xs),t.arc(n-d,i+r,c,w+xs,w+Jn),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=o?o/2:l,t.rect(n-u,i-l,2*u,2*l);break}w+=Lc;case"rectRot":h=Math.cos(w)*(o?o/2:m),r=Math.cos(w)*m,a=Math.sin(w)*m,d=Math.sin(w)*(o?o/2:m),t.moveTo(n-h,i-a),t.lineTo(n+d,i-r),t.lineTo(n+h,i+a),t.lineTo(n-d,i+r),t.closePath();break;case"crossRot":w+=Lc;case"cross":h=Math.cos(w)*(o?o/2:m),r=Math.cos(w)*m,a=Math.sin(w)*m,d=Math.sin(w)*(o?o/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-r),t.lineTo(n-d,i+r);break;case"star":h=Math.cos(w)*(o?o/2:m),r=Math.cos(w)*m,a=Math.sin(w)*m,d=Math.sin(w)*(o?o/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-r),t.lineTo(n-d,i+r),w+=Lc,h=Math.cos(w)*(o?o/2:m),r=Math.cos(w)*m,a=Math.sin(w)*m,d=Math.sin(w)*(o?o/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-r),t.lineTo(n-d,i+r);break;case"line":r=o?o/2:Math.cos(w)*m,a=Math.sin(w)*m,t.moveTo(n-r,i-a),t.lineTo(n+r,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(o?o/2:m),i+Math.sin(w)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ym(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function tP(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function nP(t){t.restore()}function k_e(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else o==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function N_e(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function D_e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Sn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function L_e(t,e,n,i,o){if(o.strikethrough||o.underline){const s=t.measureText(i),r=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=o.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(r,u),t.lineTo(a,u),t.stroke()}}function $_e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Gm(t,e,n,i,o,s={}){const r=qn(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=o.string,D_e(t,s),l=0;l<r.length;++l)c=r[l],s.backdrop&&$_e(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Sn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),L_e(t,n,i,c,s),i+=Number(o.lineHeight);t.restore()}function Wx(t,e){const{x:n,y:i,w:o,h:s,radius:r}=e;t.arc(n+r.topLeft,i+r.topLeft,r.topLeft,1.5*Jn,Jn,!0),t.lineTo(n,i+s-r.bottomLeft),t.arc(n+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,Jn,xs,!0),t.lineTo(n+o-r.bottomRight,i+s),t.arc(n+o-r.bottomRight,i+s-r.bottomRight,r.bottomRight,xs,0,!0),t.lineTo(n+o,i+r.topRight),t.arc(n+o-r.topRight,i+r.topRight,r.topRight,0,-xs,!0),t.lineTo(n+r.topLeft,i)}const F_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function W_e(t,e){const n=(""+t).match(F_e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const B_e=t=>+t||0;function Jj(t,e){const n={},i=St(e),o=i?Object.keys(e):e,s=St(t)?i?r=>ft(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of o)n[r]=B_e(s(r));return n}function j_e(t){return Jj(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nm(t){return Jj(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Xo(t){const e=j_e(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ci(t,e){t=t||{},e=e||Mn.font;let n=ft(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ft(t.style,e.style);i&&!(""+i).match(V_e)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ft(t.family,e.family),lineHeight:W_e(ft(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ft(t.weight,e.weight),string:""};return o.string=H_e(o),o}function Mb(t,e,n,i){let o,s,r;for(o=0,s=t.length;o<s;++o)if(r=t[o],r!==void 0&&r!==void 0)return r}function U_e(t,e,n){const{min:i,max:o}=t,s=n_e(e,(o-i)/2),r=(a,l)=>n&&a===0?0:a+l;return{min:r(i,-Math.abs(s)),max:r(o,s)}}function $u(t,e){return Object.assign(Object.create(t),e)}function iP(t,e=[""],n,i,o=()=>t[0]){const s=n||t;typeof i>"u"&&(i=n2("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:o,override:a=>iP([a,...t],e,s,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return e2(a,l,()=>J_e(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return CN(a).includes(l)},ownKeys(a){return CN(a)},set(a,l,c){const u=a._storage||(a._storage=o());return a[l]=u[l]=c,delete a._keys,!0}})}function xd(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Qj(t,i),setContext:s=>xd(t,s,n,i),override:s=>xd(t.override(s),e,n,i)};return new Proxy(o,{deleteProperty(s,r){return delete s[r],delete t[r],!0},get(s,r,a){return e2(s,r,()=>Y_e(s,r,a))},getOwnPropertyDescriptor(s,r){return s._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(s,r,a){return t[r]=a,delete s[r],!0}})}function Qj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:jl(n)?n:()=>n,isIndexable:jl(i)?i:()=>i}}const z_e=(t,e)=>t?t+ZM(e):e,oP=(t,e)=>St(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function e2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Y_e(t,e,n){const{_proxy:i,_context:o,_subProxy:s,_descriptors:r}=t;let a=i[e];return jl(a)&&r.isScriptable(e)&&(a=G_e(e,a,t,n)),qn(a)&&a.length&&(a=K_e(e,a,t,r.isIndexable)),oP(e,a)&&(a=xd(a,o,s&&s[e],r)),a}function G_e(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,r||i);return a.delete(t),oP(t,l)&&(l=sP(o._scopes,o,t,l)),l}function K_e(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(St(e[0])){const l=e,c=o._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=sP(c,o,t,u);e.push(xd(h,s,r&&r[t],a))}}return e}function t2(t,e,n){return jl(t)?t(e,n):t}const q_e=(t,e)=>t===!0?e:typeof t=="string"?jy(e,t):void 0;function X_e(t,e,n,i,o){for(const s of e){const r=q_e(n,s);if(r){t.add(r);const a=t2(r._fallback,n,o);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(r===!1&&typeof i<"u"&&n!==i)return null}return!1}function sP(t,e,n,i){const o=e._rootScopes,s=t2(e._fallback,n,i),r=[...t,...o],a=new Set;a.add(i);let l=yN(a,r,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=yN(a,r,s,l,i),l===null)?!1:iP(Array.from(a),[""],o,s,()=>Z_e(e,n,i))}function yN(t,e,n,i,o){for(;n;)n=X_e(t,e,n,i,o);return n}function Z_e(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return qn(o)&&St(n)?n:o||{}}function J_e(t,e,n,i){let o;for(const s of e)if(o=n2(z_e(s,t),n),typeof o<"u")return oP(t,o)?sP(n,i,t,o):o}function n2(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function CN(t){let e=t._keys;return e||(e=t._keys=Q_e(t._scopes)),e}function Q_e(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}const eRe=Number.EPSILON||1e-14,Ed=(t,e)=>e<t.length&&!t[e].skip&&t[e],i2=t=>t==="x"?"y":"x";function tRe(t,e,n,i){const o=t.skip?e:t,s=e,r=n.skip?e:n,a=$x(s,o),l=$x(r,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(r.x-o.x),y:s.y-h*(r.y-o.y)},next:{x:s.x+d*(r.x-o.x),y:s.y+d*(r.y-o.y)}}}function nRe(t,e,n){const i=t.length;let o,s,r,a,l,c=Ed(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ed(t,u+1),!(!l||!c)){if(Qg(e[u],0,eRe)){n[u]=n[u+1]=0;continue}o=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(o,2)+Math.pow(s,2),!(a<=9)&&(r=3/Math.sqrt(a),n[u]=o*r*e[u],n[u+1]=s*r*e[u])}}function iRe(t,e,n="x"){const i=i2(n),o=t.length;let s,r,a,l=Ed(t,0);for(let c=0;c<o;++c){if(r=a,a=l,l=Ed(t,c+1),!a)continue;const u=a[n],h=a[i];r&&(s=(u-r[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function oRe(t,e="x"){const n=i2(e),i=t.length,o=Array(i).fill(0),s=Array(i);let r,a,l,c=Ed(t,0);for(r=0;r<i;++r)if(a=l,l=c,c=Ed(t,r+1),!!l){if(c){const u=c[e]-l[e];o[r]=u!==0?(c[n]-l[n])/u:0}s[r]=a?c?Rd(o[r-1])!==Rd(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}nRe(t,o,s),iRe(t,s,e)}function Pb(t,e,n){return Math.max(Math.min(t,n),e)}function sRe(t,e){let n,i,o,s,r,a=Ym(t[0],e);for(n=0,i=t.length;n<i;++n)r=s,s=a,a=n<i-1&&Ym(t[n+1],e),s&&(o=t[n],r&&(o.cp1x=Pb(o.cp1x,e.left,e.right),o.cp1y=Pb(o.cp1y,e.top,e.bottom)),a&&(o.cp2x=Pb(o.cp2x,e.left,e.right),o.cp2y=Pb(o.cp2y,e.top,e.bottom)))}function rRe(t,e,n,i,o){let s,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")oRe(t,o);else{let c=i?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)a=t[s],l=tRe(c,a,t[Math.min(s+1,r-(i?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&sRe(t,n)}function rP(){return typeof window<"u"&&typeof document<"u"}function aP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yy(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const cS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function aRe(t,e){return cS(t).getPropertyValue(e)}const lRe=["top","right","bottom","left"];function du(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const s=lRe[o];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cRe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function uRe(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:s}=i;let r=!1,a,l;if(cRe(o,s,t.target))a=o,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Kc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=cS(n),s=o.boxSizing==="border-box",r=du(o,"padding"),a=du(o,"border","width"),{x:l,y:c,box:u}=uRe(t,n),h=r.left+(u&&a.left),d=r.top+(u&&a.top);let{width:f,height:g}=e;return s&&(f-=r.width+a.width,g-=r.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/g*n.height/i)}}function hRe(t,e,n){let i,o;if(e===void 0||n===void 0){const s=t&&aP(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const r=s.getBoundingClientRect(),a=cS(s),l=du(a,"border","width"),c=du(a,"padding");e=r.width-c.width-l.width,n=r.height-c.height-l.height,i=Yy(a.maxWidth,s,"clientWidth"),o=Yy(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||zy,maxHeight:o||zy}}const Ob=t=>Math.round(t*10)/10;function dRe(t,e,n,i){const o=cS(t),s=du(o,"margin"),r=Yy(o.maxWidth,t,"clientWidth")||zy,a=Yy(o.maxHeight,t,"clientHeight")||zy,l=hRe(t,e,n);let{width:c,height:u}=l;if(o.boxSizing==="content-box"){const d=du(o,"border","width"),f=du(o,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Ob(Math.min(c,r,l.maxWidth)),u=Ob(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ob(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ob(Math.floor(u*i))),{width:c,height:u}}function SN(t,e,n){const i=e||1,o=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||r.height!==o||r.width!==s?(t.currentDevicePixelRatio=i,r.height=o,r.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const fRe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};rP()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _N(t,e){const n=aRe(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qc(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gRe(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mRe(t,e,n,i){const o={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},r=qc(t,o,n),a=qc(o,s,n),l=qc(s,e,n),c=qc(r,a,n),u=qc(a,l,n);return qc(c,u,n)}const pRe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},wRe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ud(t,e,n){return t?pRe(e,n):wRe()}function o2(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function s2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function r2(t){return t==="angle"?{between:Uj,compare:m_e,normalize:ll}:{between:gg,compare:(e,n)=>e-n,normalize:e=>e}}function RN({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:o}}function bRe(t,e,n){const{property:i,start:o,end:s}=n,{between:r,normalize:a}=r2(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&r(a(e[c%l][i]),o,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function vRe(t,e,n){if(!n)return[t];const{property:i,start:o,end:s}=n,r=e.length,{compare:a,between:l,normalize:c}=r2(i),{start:u,end:h,loop:d,style:f}=bRe(t,e,n),g=[];let m=!1,w=null,b,C,y;const E=()=>l(o,y,b)&&a(o,y)!==0,T=()=>a(s,b)===0||l(s,y,b),N=()=>m||E(),D=()=>!m||T();for(let B=u,K=u;B<=h;++B)C=e[B%r],!C.skip&&(b=c(C[i]),b!==y&&(m=l(b,o,s),w===null&&N()&&(w=a(b,o)===0?B:K),w!==null&&D()&&(g.push(RN({start:w,end:B,loop:d,count:r,style:f})),w=null),K=B,y=b));return w!==null&&g.push(RN({start:w,end:h,loop:d,count:r,style:f})),g}function yRe(t,e){const n=[],i=t.segments;for(let o=0;o<i.length;o++){const s=vRe(i[o],t.points,e);s.length&&n.push(...s)}return n}function CRe(t,e,n,i){let o=0,s=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(s+=o);s>o&&t[s%e].skip;)s--;return s%=e,{start:o,end:s}}function SRe(t,e,n,i){const o=t.length,s=[];let r=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%o];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%o,end:(l-1)%o,loop:i}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&s.push({start:e%o,end:r%o,loop:i}),s}function _Re(t,e){const n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];const s=!!t._loop,{start:r,end:a}=CRe(n,o,s,i);if(i===!0)return xN(t,[{start:r,end:a,loop:s}],n,e);const l=a<r?a+o:a,c=!!t._fullLoop&&r===0&&a===o-1;return xN(t,SRe(n,r,l,c),n,e)}function xN(t,e,n,i){return!i||!i.setContext||!n?e:RRe(t,e,n,i)}function RRe(t,e,n,i){const o=t._chart.getContext(),s=EN(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(g,m,w,b){const C=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=C;for(;n[m%l].skip;)m+=C;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:w,style:b}),u=b,h=m%l)}}for(const g of e){h=a?h:g.start;let m=n[h%l],w;for(d=h+1;d<=g.end;d++){const b=n[d%l];w=EN(i.setContext($u(o,{type:"segment",p0:m,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:r}))),xRe(w,u)&&f(h,d-1,g.loop,u),m=b,u=w}h<d-1&&f(h,d-1,g.loop,u)}return c}function EN(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xRe(t,e){if(!e)return!1;const n=[],i=function(o,s){return eP(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class ERe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const s=n.listeners[o],r=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(i-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Yj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const s=i.items;let r=s.length-1,a=!1,l;for(;r>=0;--r)l=s[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[r]=s[s.length-1],s.pop());a&&(o.draw(),this._notify(o,i,e,"progress")),s.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ca=new ERe;const TN="transparent",TRe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=pN(t||TN),o=i.valid&&pN(e||TN);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class MRe{constructor(e,n,i,o){const s=n[i];o=Mb([e.to,o,s,e.from]);const r=Mb([e.from,s,o]);this._active=!0,this._fn=e.fn||TRe[e.type||typeof r],this._easing=em[e.easing]||em.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Mb([e.to,n,o,e.from]),this._from=Mb([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,s=this._from,r=this._loop,a=this._to;let l;if(this._active=s!==a&&(r||n<i),!this._active){this._target[o]=a,this._notify(!0);return}if(n<0){this._target[o]=s;return}l=n/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class a2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!St(e))return;const n=Object.keys(Mn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const s=e[o];if(!St(s))return;const r={};for(const a of n)r[a]=s[a];(qn(s.properties)&&s.properties||[o]).forEach(a=>{(a===o||!i.has(a))&&i.set(a,r)})})}_animateOptions(e,n){const i=n.options,o=ORe(e,i);if(!o)return[];const s=this._createAnimations(o,i);return i.$shared&&PRe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,o=[],s=e.$animations||(e.$animations={}),r=Object.keys(n),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new MRe(d,e,c,u),o.push(h)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ca.add(this._chart,i),!0}}function PRe(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const s=t[i[o]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function ORe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function MN(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:o,end:i?o:s}}function IRe(t,e,n){if(n===!1)return!1;const i=MN(t,n),o=MN(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function ARe(t){let e,n,i,o;return St(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function l2(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,s;for(o=0,s=i.length;o<s;++o)n.push(i[o].index);return n}function PN(t,e,n,i={}){const o=t.keys,s=i.mode==="single";let r,a,l,c;if(e===null)return;let u=!1;for(r=0,a=o.length;r<a;++r){if(l=+o[r],l===n){if(u=!0,i.all)continue;break}c=t.values[l],qo(c)&&(s||e===0||Rd(e)===Rd(c))&&(e+=c)}return!u&&!i.all?0:e}function HRe(t,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",r=Object.keys(t),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[o]:u,[s]:t[u]};return a}function X_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function kRe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function NRe(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function DRe(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ON(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const s=t[o.index];if(n&&s>0||!n&&s<0)return o.index}return null}function IN(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:a}=i,l=s.axis,c=r.axis,u=kRe(s,r,i),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:m,[c]:w}=g,b=g._stacks||(g._stacks={});d=b[c]=DRe(o,u,m),d[a]=w,d._top=ON(d,r,!0,i.type),d._bottom=ON(d,r,!1,i.type);const C=d._visualValues||(d._visualValues={});C[a]=w}}function Z_(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function LRe(t,e){return $u(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $Re(t,e,n){return $u(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Kf(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const s=o._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const J_=t=>t==="reset"||t==="none",AN=(t,e)=>e?t:Object.assign({},t),FRe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:l2(n,!0),values:null};class im{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=X_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,s=n.xAxisID=ft(i.xAxisID,Z_(e,"x")),r=n.yAxisID=ft(i.yAxisID,Z_(e,"y")),a=n.rAxisID=ft(i.rAxisID,Z_(e,"r")),l=n.indexAxis,c=n.iAxisID=o(l,s,r,a),u=n.vAxisID=o(l,r,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&fN(this._data,this),e._stacked&&Kf(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(St(n)){const o=this._cachedMeta;this._data=HRe(n,o)}else if(i!==n){if(i){fN(i,this);const o=this._cachedMeta;Kf(o),o._parsed=[]}n&&Object.isExtensible(n)&&v_e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=n._stacked;n._stacked=X_(n.vScale,n),n.stack!==i.stack&&(o=!0,Kf(n),n.stack=i.stack),this._resyncElements(e),(o||s!==n._stacked)&&(IN(this,n._parsed),n._stacked=X_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:r}=i,a=s.axis;let l=e===0&&n===o.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=o,i._sorted=!0,d=o;else{qn(o[e])?d=this.parseArrayData(i,o,e,n):St(o[e])?d=this.parseObjectData(i,o,e,n):d=this.parsePrimitiveData(i,o,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}r&&IN(this,d)}parsePrimitiveData(e,n,i,o){const{iScale:s,vScale:r}=e,a=s.axis,l=r.axis,c=s.getLabels(),u=s===r,h=new Array(o);let d,f,g;for(d=0,f=o;d<f;++d)g=d+i,h[d]={[a]:u||s.parse(c[g],g),[l]:r.parse(n[g],g)};return h}parseArrayData(e,n,i,o){const{xScale:s,yScale:r}=e,a=new Array(o);let l,c,u,h;for(l=0,c=o;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:r.parse(h[1],u)};return a}parseObjectData(e,n,i,o){const{xScale:s,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(o);let u,h,d,f;for(u=0,h=o;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(jy(f,a),d),y:r.parse(jy(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,s=this._cachedMeta,r=n[e.axis],a={keys:l2(o,!0),values:n._stacks[e.axis]._visualValues};return PN(a,r,s.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const s=i[n.axis];let r=s===null?NaN:s;const a=o&&i._stacks[n.axis];o&&a&&(o.values=a,r=PN(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,r=o.length,a=this._getOtherScale(e),l=FRe(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=NRe(a);let d,f;function g(){f=o[d];const m=f[a.axis];return!qo(f[e.axis])||u>m||h<m}for(d=0;d<r&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=r-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,s,r;for(o=0,s=n.length;o<s;++o)r=n[o][e.axis],qo(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ARe(ft(this.options.clip,IRe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],s=n.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||o.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=o[u];h.hidden||(h.active&&c?r.push(h):h.draw(e,s))}for(u=0;u<r.length;++u)r[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];s=r.$context||(r.$context=$Re(this.getContext(),e,r)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=LRe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",s=this._cachedDataOpts,r=e+"-"+n,a=s[r],l=this.enableOptionSharing&&Uy(i);if(a)return AN(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=o?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Mn.elements[e]),g=()=>this.getContext(i,o,n),m=c.resolveNamedOptions(d,f,g,h);return m.$shared&&(m.$shared=l,s[r]=Object.freeze(AN(m,l))),m}_resolveAnimations(e,n,i){const o=this.chart,s=this._cachedDataOpts,r=`animation-${n}`,a=s[r];if(a)return a;let l;if(o.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new a2(o,l&&l.animations);return l&&l._cacheable&&(s[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||J_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:r}}updateElement(e,n,i,o){J_(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!J_(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const s=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const o=i.length,s=n.length,r=Math.min(s,o);r&&this.parse(0,r),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,n,i=!0){const o=this._cachedMeta,s=o.data,r=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=r;a--)c[a]=c[a-n]};for(l(s),a=e;a<r;++a)s[a]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&Kf(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(im,"defaults",{}),et(im,"datasetElementType",null),et(im,"dataElementType",null);class Ev extends im{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=n,r=this.chart._animationsDisabled;let{start:a,count:l}=__e(n,o,r);this._drawStart=a,this._drawCount=l,R_e(n)&&(a=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},e),this.updateElements(o,a,l,e)}updateElements(e,n,i,o){const s=o==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,o),d=r.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,w=zm(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||o==="none",C=n+i,y=e.length;let E=n>0&&this.getParsed(n-1);for(let T=0;T<y;++T){const N=e[T],D=b?N:{};if(T<n||T>=C){D.skip=!0;continue}const B=this.getParsed(T),K=Sn(B[f]),q=D[d]=r.getPixelForValue(B[d],T),J=D[f]=s||K?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[f],T);D.skip=isNaN(q)||isNaN(J)||K,D.stop=T>0&&Math.abs(B[d]-E[d])>w,m&&(D.parsed=B,D.raw=c.data[T]),h&&(D.options=u||this.resolveDataElementOptions(T,N.active?"active":o)),b||this.updateElement(N,T,D,o),E=B}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const s=o[0].size(this.resolveDataElementOptions(0)),r=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}et(Ev,"id","line"),et(Ev,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(Ev,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Fc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lP{constructor(e){et(this,"options");this.options=e||{}}static override(e){Object.assign(lP.prototype,e)}init(){}formats(){return Fc()}parse(){return Fc()}format(){return Fc()}add(){return Fc()}diff(){return Fc()}startOf(){return Fc()}endOf(){return Fc()}}var VRe={_date:lP};function WRe(t,e,n,i){const{controller:o,data:s,_sorted:r}=t,a=o._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&r&&s.length){const l=a._reversePixels?w_e:ru;if(i){if(o._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Dp(t,e,n,i,o){const s=t.getSortedVisibleDatasetMetas(),r=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=WRe(s[a],e,r,o);for(let f=h;f<=d;++f){const g=u[f];g.skip||i(g,c,f)}}}function BRe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const s=e?Math.abs(i.x-o.x):0,r=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function Q_(t,e,n,i,o){const s=[];return!o&&!t.isPointInArea(e)||Dp(t,n,e,function(a,l,c){!o&&!Ym(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function jRe(t,e,n,i){let o=[];function s(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:h}=g_e(r,{x:e.x,y:e.y});Uj(h,c,u)&&o.push({element:r,datasetIndex:a,index:l})}return Dp(t,n,e,s),o}function URe(t,e,n,i,o,s){let r=[];const a=BRe(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,o);if(i&&!f)return;const g=u.getCenterPoint(o);if(!(!!s||t.isPointInArea(g))&&!f)return;const w=a(e,g);w<l?(r=[{element:u,datasetIndex:h,index:d}],l=w):w===l&&r.push({element:u,datasetIndex:h,index:d})}return Dp(t,n,e,c),r}function eR(t,e,n,i,o,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?jRe(t,e,n,o):URe(t,e,n,i,o,s)}function HN(t,e,n,i,o){const s=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return Dp(t,n,e,(l,c,u)=>{l[r]&&l[r](e[n],o)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,o))}),i&&!a?[]:s}var zRe={evaluateInteractionItems:Dp,modes:{index(t,e,n,i){const o=Kc(e,t),s=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?Q_(t,o,s,i,r):eR(t,o,s,!1,i,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const o=Kc(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?Q_(t,o,s,i,r):eR(t,o,s,!1,i,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const o=Kc(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return Q_(t,o,s,i,r)},nearest(t,e,n,i){const o=Kc(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return eR(t,o,s,n.intersect,i,r)},x(t,e,n,i){const o=Kc(e,t);return HN(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Kc(e,t);return HN(t,o,"y",n.intersect,i)}}};const c2=["left","top","right","bottom"];function qf(t,e){return t.filter(n=>n.pos===e)}function kN(t,e){return t.filter(n=>c2.indexOf(n.pos)===-1&&n.box.axis===e)}function Xf(t,e){return t.sort((n,i)=>{const o=e?i:n,s=e?n:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function YRe(t){const e=[];let n,i,o,s,r,a;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:s,options:{stack:r,stackWeight:a=1}}=o,e.push({index:n,box:o,pos:s,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&s+r,stackWeight:a});return e}function GRe(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:s}=n;if(!i||!c2.includes(o))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}function KRe(t,e){const n=GRe(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let s,r,a;for(s=0,r=t.length;s<r;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=o):(a.width=i,a.height=u?u*o:l&&e.availableHeight)}return n}function qRe(t){const e=YRe(t),n=Xf(e.filter(c=>c.box.fullSize),!0),i=Xf(qf(e,"left"),!0),o=Xf(qf(e,"right")),s=Xf(qf(e,"top"),!0),r=Xf(qf(e,"bottom")),a=kN(e,"x"),l=kN(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:o.concat(l).concat(r).concat(a),chartArea:qf(e,"chartArea"),vertical:i.concat(o).concat(l),horizontal:s.concat(r).concat(a)}}function NN(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function u2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function XRe(t,e,n,i){const{pos:o,box:s}=n,r=t.maxPadding;if(!St(o)){n.size&&(t[o]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[o]+=n.size}s.getPadding&&u2(r,s.getPadding());const a=Math.max(0,e.outerWidth-NN(r,t,"left","right")),l=Math.max(0,e.outerHeight-NN(r,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function ZRe(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function JRe(t,e){const n=e.maxPadding;function i(o){const s={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{s[r]=Math.max(e[r],n[r])}),s}return i(t?["left","right"]:["top","bottom"])}function mg(t,e,n,i){const o=[];let s,r,a,l,c,u;for(s=0,r=t.length,c=0;s<r;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,JRe(a.horizontal,e));const{same:h,other:d}=XRe(e,n,a,i);c|=h&&o.length,u=u||d,l.fullSize||o.push(a)}return c&&mg(o,e,n,i)||u}function Ib(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function DN(t,e,n,i){const o=n.padding;let{x:s,y:r}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Uy(c.start)&&(r=c.start),l.fullSize?Ib(l,o.left,r,n.outerWidth-o.right-o.left,d):Ib(l,e.left+c.placed,r,h,d),c.start=r,c.placed+=h,r=l.bottom}else{const h=e.h*u,d=c.size||l.width;Uy(c.start)&&(s=c.start),l.fullSize?Ib(l,s,o.top,d,n.outerHeight-o.bottom-o.top):Ib(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=r}var jo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=Xo(t.options.layout.padding),s=Math.max(e-o.width,0),r=Math.max(n-o.height,0),a=qRe(t.boxes),l=a.vertical,c=a.horizontal;Ht(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,w)=>w.box.options&&w.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/u,hBoxMaxHeight:r/2}),d=Object.assign({},o);u2(d,Xo(i));const f=Object.assign({maxPadding:d,w:s,h:r,x:o.left,y:o.top},o),g=KRe(l.concat(c),h);mg(a.fullSize,f,h,g),mg(l,f,h,g),mg(c,f,h,g)&&mg(l,f,h,g),ZRe(f),DN(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,DN(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ht(a.chartArea,m=>{const w=m.box;Object.assign(w,t.chartArea),w.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class h2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class QRe extends h2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tv="$chartjs",exe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LN=t=>t===null||t==="";function txe(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[Tv]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",LN(o)){const s=_N(t,"width");s!==void 0&&(t.width=s)}if(LN(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=_N(t,"height");s!==void 0&&(t.height=s)}return t}const d2=fRe?{passive:!0}:!1;function nxe(t,e,n){t&&t.addEventListener(e,n,d2)}function ixe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,d2)}function oxe(t,e){const n=exe[t.type]||t.type,{x:i,y:o}=Kc(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Gy(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sxe(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const a of s)r=r||Gy(a.addedNodes,i),r=r&&!Gy(a.removedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function rxe(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const a of s)r=r||Gy(a.removedNodes,i),r=r&&!Gy(a.addedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Km=new Map;let $N=0;function f2(){const t=window.devicePixelRatio;t!==$N&&($N=t,Km.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function axe(t,e){Km.size||window.addEventListener("resize",f2),Km.set(t,e)}function lxe(t){Km.delete(t),Km.size||window.removeEventListener("resize",f2)}function cxe(t,e,n){const i=t.canvas,o=i&&aP(i);if(!o)return;const s=Gj((a,l)=>{const c=o.clientWidth;n(a,l),c<o.clientWidth&&n()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return r.observe(o),axe(t,s),r}function tR(t,e,n){n&&n.disconnect(),e==="resize"&&lxe(t)}function uxe(t,e,n){const i=t.canvas,o=Gj(s=>{t.ctx!==null&&n(oxe(s,t))},t);return nxe(i,e,o),o}class hxe extends h2{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(txe(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Tv])return!1;const i=n[Tv].initial;["height","width"].forEach(s=>{const r=i[s];Sn(r)?n.removeAttribute(s):n.setAttribute(s,r)});const o=i.style||{};return Object.keys(o).forEach(s=>{n.style[s]=o[s]}),n.width=n.width,delete n[Tv],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),r={attach:sxe,detach:rxe,resize:cxe}[n]||uxe;o[n]=r(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:tR,detach:tR,resize:tR}[n]||ixe)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return dRe(e,n,i,o)}isAttached(e){const n=e&&aP(e);return!!(n&&n.isConnected)}}function dxe(t){return!rP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QRe:hxe}var Xb;let Fu=(Xb=class{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return zm(this.x)&&zm(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(s=>{o[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),o}},et(Xb,"defaults",{}),et(Xb,"defaultRoutes"),Xb);function fxe(t,e){const n=t.options.ticks,i=gxe(t),o=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?pxe(e):[],r=s.length,a=s[0],l=s[r-1],c=[];if(r>o)return wxe(e,c,s,r/o),c;const u=mxe(s,e,o);if(r>0){let h,d;const f=r>1?Math.round((l-a)/(r-1)):null;for(Ab(e,c,u,Sn(f)?0:a-f,a),h=0,d=r-1;h<d;h++)Ab(e,c,u,s[h],s[h+1]);return Ab(e,c,u,l,Sn(f)?e.length:l+f),c}return Ab(e,c,u),c}function gxe(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function mxe(t,e,n){const i=bxe(t),o=e.length/n;if(!i)return Math.max(o,1);const s=u_e(i);for(let r=0,a=s.length-1;r<a;r++){const l=s[r];if(l>o)return l}return Math.max(o,1)}function pxe(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function wxe(t,e,n,i){let o=0,s=n[0],r;for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}function Ab(t,e,n,i,o){const s=ft(i,0),r=Math.min(ft(o,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),o&&(l=o-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<r;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function bxe(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const vxe=t=>t==="left"?"right":t==="right"?"left":t,FN=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,VN=(t,e)=>Math.min(e||t,t);function WN(t,e){const n=[],i=t.length/e,o=t.length;let s=0;for(;s<o;s+=i)n.push(t[Math.floor(s)]);return n}function yxe(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),s=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(o),c;if(!(n&&(i===1?c=Math.max(l-s,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(o-1))/2,l+=o<e?c:-c,l<s-a||l>r+a)))return l}function Cxe(t,e){Ht(t,n=>{const i=n.gc,o=i.length/2;let s;if(o>e){for(s=0;s<o;++s)delete n.data[i[s]];i.splice(0,o)}})}function Zf(t){return t.drawTicks?t.tickLength:0}function BN(t,e){if(!t.display)return 0;const n=Ci(t.font,e),i=Xo(t.padding);return(qn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Sxe(t,e){return $u(t,{scale:e,type:"scale"})}function _xe(t,e,n){return $u(t,{tick:n,index:e,type:"tick"})}function Rxe(t,e,n){let i=QM(t);return(n&&e!=="right"||!n&&e==="right")&&(i=vxe(i)),i}function xxe(t,e,n,i){const{top:o,left:s,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,g;const m=r-o,w=a-s;if(t.isHorizontal()){if(f=wi(i,s,a),St(n)){const b=Object.keys(n)[0],C=n[b];g=u[b].getPixelForValue(C)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=FN(t,n,e);d=a-s}else{if(St(n)){const b=Object.keys(n)[0],C=n[b];f=u[b].getPixelForValue(C)-w+e}else n==="center"?f=(c.left+c.right)/2-w+e:f=FN(t,n,e);g=wi(i,r,o),h=n==="left"?-xs:xs}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class Wd extends Fu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=rr(e,Number.POSITIVE_INFINITY),n=rr(n,Number.NEGATIVE_INFINITY),i=rr(i,Number.POSITIVE_INFINITY),o=rr(o,Number.NEGATIVE_INFINITY),{min:rr(e,i),max:rr(n,o),minDefined:qo(e),maxDefined:qo(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:s}=this.getUserBounds(),r;if(o&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),o||(n=Math.min(n,r.min)),s||(i=Math.max(i,r.max));return n=s&&n>i?i:n,i=o&&n>i?n:i,{min:rr(n,rr(i,n)),max:rr(i,rr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:s,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=U_e(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?WN(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=fxe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qt(this.options.afterUpdate,[this])}beforeSetDimensions(){Qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,s;for(i=0,o=e.length;i<o;i++)s=e[i],s.label=Qt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=VN(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,s=n.maxRotation;let r=o,a,l,c;if(!this._isVisible()||!n.display||o>=s||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Bo(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Zf(e.grid)-n.padding-BN(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),r=f_e(Math.min(Math.asin(Bo((u.highest.height+6)/a,-1,1)),Math.asin(Bo(l/c,-1,1))-Math.asin(Bo(d/c,-1,1)))),r=Math.max(o,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){Qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:s}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=BN(o,n.options.font);if(a?(e.width=this.maxWidth,e.height=Zf(s)+l):(e.height=this.maxHeight,e.width=Zf(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,g=su(this.labelRotation),m=Math.cos(g),w=Math.sin(g);if(a){const b=i.mirror?0:w*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=i.mirror?0:m*h.width+w*d.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,w,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:s,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=o*e.width,f=i*n.height):(d=i*e.height,f=o*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+r)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Sn(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=WN(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:s}=this,r=[],a=[],l=Math.floor(n/VN(n,i));let c=0,u=0,h,d,f,g,m,w,b,C,y,E,T;for(h=0;h<n;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),o.font=w=m.string,b=s[w]=s[w]||{data:{},gc:[]},C=m.lineHeight,y=E=0,!Sn(g)&&!qn(g))y=bN(o,b.data,b.gc,y,g),E=C;else if(qn(g))for(d=0,f=g.length;d<f;++d)T=g[d],!Sn(T)&&!qn(T)&&(y=bN(o,b.data,b.gc,y,T),E+=C);r.push(y),a.push(E),c=Math.max(y,c),u=Math.max(E,u)}Cxe(s,n);const N=r.indexOf(c),D=a.indexOf(u),B=K=>({width:r[K]||0,height:a[K]||0});return{first:B(0),last:B(n-1),widest:B(N),highest:B(D),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return p_e(this._alignToPixels?$c(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=_xe(this.getContext(),e,i))}return this.$context||(this.$context=Sxe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=su(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,a=s?s.widest.width+r:0,l=s?s.highest.height+r:0;return this.isHorizontal()?l*i>a*o?a/i:l/o:l*o<a*i?l/i:a/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:s,position:r,border:a}=o,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Zf(s),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,w=m/2,b=function(ye){return $c(i,ye,m)};let C,y,E,T,N,D,B,K,q,J,ee,re;if(r==="top")C=b(this.bottom),D=this.bottom-d,K=C-w,J=b(e.top)+w,re=e.bottom;else if(r==="bottom")C=b(this.top),J=e.top,re=b(e.bottom)-w,D=C+w,K=this.top+d;else if(r==="left")C=b(this.right),N=this.right-d,B=C-w,q=b(e.left)+w,ee=e.right;else if(r==="right")C=b(this.left),q=e.left,ee=b(e.right)-w,N=C+w,B=this.left+d;else if(n==="x"){if(r==="center")C=b((e.top+e.bottom)/2+.5);else if(St(r)){const ye=Object.keys(r)[0],de=r[ye];C=b(this.chart.scales[ye].getPixelForValue(de))}J=e.top,re=e.bottom,D=C+w,K=D+d}else if(n==="y"){if(r==="center")C=b((e.left+e.right)/2);else if(St(r)){const ye=Object.keys(r)[0],de=r[ye];C=b(this.chart.scales[ye].getPixelForValue(de))}N=C-w,B=N-d,q=e.left,ee=e.right}const me=ft(o.ticks.maxTicksLimit,h),pe=Math.max(1,Math.ceil(h/me));for(y=0;y<h;y+=pe){const ye=this.getContext(y),de=s.setContext(ye),ae=a.setContext(ye),we=de.lineWidth,Ne=de.color,p=ae.dash||[],v=ae.dashOffset,x=de.tickWidth,A=de.tickColor,V=de.tickBorderDash||[],Y=de.tickBorderDashOffset;E=yxe(this,y,l),E!==void 0&&(T=$c(i,E,we),c?N=B=q=ee=T:D=K=J=re=T,f.push({tx1:N,ty1:D,tx2:B,ty2:K,x1:q,y1:J,x2:ee,y2:re,width:we,color:Ne,borderDash:p,borderDashOffset:v,tickWidth:x,tickColor:A,tickBorderDash:V,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=C,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:s}=i,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=Zf(i.grid),f=d+u,g=h?-u:f,m=-su(this.labelRotation),w=[];let b,C,y,E,T,N,D,B,K,q,J,ee,re="middle";if(o==="top")N=this.bottom-g,D=this._getXAxisLabelAlignment();else if(o==="bottom")N=this.top+g,D=this._getXAxisLabelAlignment();else if(o==="left"){const pe=this._getYAxisLabelAlignment(d);D=pe.textAlign,T=pe.x}else if(o==="right"){const pe=this._getYAxisLabelAlignment(d);D=pe.textAlign,T=pe.x}else if(n==="x"){if(o==="center")N=(e.top+e.bottom)/2+f;else if(St(o)){const pe=Object.keys(o)[0],ye=o[pe];N=this.chart.scales[pe].getPixelForValue(ye)+f}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")T=(e.left+e.right)/2-f;else if(St(o)){const pe=Object.keys(o)[0],ye=o[pe];T=this.chart.scales[pe].getPixelForValue(ye)}D=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?re="top":l==="end"&&(re="bottom"));const me=this._getLabelSizes();for(b=0,C=a.length;b<C;++b){y=a[b],E=y.label;const pe=s.setContext(this.getContext(b));B=this.getPixelForTick(b)+s.labelOffset,K=this._resolveTickFontOptions(b),q=K.lineHeight,J=qn(E)?E.length:1;const ye=J/2,de=pe.color,ae=pe.textStrokeColor,we=pe.textStrokeWidth;let Ne=D;r?(T=B,D==="inner"&&(b===C-1?Ne=this.options.reverse?"left":"right":b===0?Ne=this.options.reverse?"right":"left":Ne="center"),o==="top"?c==="near"||m!==0?ee=-J*q+q/2:c==="center"?ee=-me.highest.height/2-ye*q+q:ee=-me.highest.height+q/2:c==="near"||m!==0?ee=q/2:c==="center"?ee=me.highest.height/2-ye*q:ee=me.highest.height-J*q,h&&(ee*=-1),m!==0&&!pe.showLabelBackdrop&&(T+=q/2*Math.sin(m))):(N=B,ee=(1-J)*q/2);let p;if(pe.showLabelBackdrop){const v=Xo(pe.backdropPadding),x=me.heights[b],A=me.widths[b];let V=ee-v.top,Y=0-v.left;switch(re){case"middle":V-=x/2;break;case"bottom":V-=x;break}switch(D){case"center":Y-=A/2;break;case"right":Y-=A;break;case"inner":b===C-1?Y-=A:b>0&&(Y-=A/2);break}p={left:Y,top:V,width:A+v.width,height:x+v.height,color:pe.backdropColor}}w.push({label:E,font:K,textOffset:ee,options:{rotation:m,color:de,strokeColor:ae,strokeWidth:we,textAlign:Ne,textBaseline:re,translation:[T,N],backdrop:p}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-su(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,r=this._getLabelSizes(),a=e+s,l=r.widest.width;let c,u;return n==="left"?o?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?o?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:s,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,s,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(s=>s.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,r=o.length;s<r;++s){const l=o[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;const a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=$c(e,this.left,r)-r/2,u=$c(e,this.right,a)+a/2,h=d=l):(h=$c(e,this.top,r)-r/2,d=$c(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&tP(i,o);const s=this.getLabelItems(e);for(const r of s){const a=r.options,l=r.font,c=r.label,u=r.textOffset;Gm(i,c,0,u,l,a)}o&&nP(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const s=Ci(i.font),r=Xo(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||St(n)?(l+=r.bottom,qn(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=xxe(this,l,n,a);Gm(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:Rxe(a,n,o),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ft(e.grid&&e.grid.z,-1),o=ft(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wd.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&o.push(a)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ci(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hb{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Mxe(n)&&(i=this.register(n));const o=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in o||(o[s]=e,Exe(e,r,i),this.override&&Mn.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in Mn[o]&&(delete Mn[o][i],this.override&&delete xu[i])}}function Exe(t,e,n){const i=Um(Object.create(null),[n?Mn.get(n):{},Mn.get(e),t.defaults]);Mn.set(e,i),t.defaultRoutes&&Txe(e,t.defaultRoutes),t.descriptors&&Mn.describe(e,t.descriptors)}function Txe(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),s=[t].concat(i).join("."),r=e[n].split("."),a=r.pop(),l=r.join(".");Mn.route(s,o,l,a)})}function Mxe(t){return"id"in t&&"defaults"in t}class Pxe{constructor(){this.controllers=new Hb(im,"datasets",!0),this.elements=new Hb(Fu,"elements"),this.plugins=new Hb(Object,"plugins"),this.scales=new Hb(Wd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const s=i||this._getRegistryForType(o);i||s.isForType(o)||s===this.plugins&&o.id?this._exec(e,s,o):Ht(o,r=>{const a=i||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,n,i){const o=ZM(e);Qt(i["before"+o],[],i),n[e](i),Qt(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var gr=new Pxe;class Oxe{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=o?this._descriptors(e).filter(o):this._descriptors(e),r=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,n,i,o){o=o||{};for(const s of e){const r=s.plugin,a=r[i],l=[n,o,s.options];if(Qt(a,l,r)===!1&&o.cancelable)return!1}return!0}invalidate(){Sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=ft(i.options&&i.options.plugins,{}),s=Ixe(i);return o===!1&&!n?[]:Hxe(e,s,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(s,r)=>s.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function Ixe(t){const e={},n=[],i=Object.keys(gr.plugins.items);for(let s=0;s<i.length;s++)n.push(gr.getPlugin(i[s]));const o=t.plugins||[];for(let s=0;s<o.length;s++){const r=o[s];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function Axe(t,e){return!e&&t===!1?null:t===!0?{}:t}function Hxe(t,{plugins:e,localIds:n},i,o){const s=[],r=t.getContext();for(const a of e){const l=a.id,c=Axe(i[l],o);c!==null&&s.push({plugin:a,options:kxe(t.config,{plugin:a,local:n[l]},c,r)})}return s}function kxe(t,{plugin:e,local:n},i,o){const s=t.pluginScopeKeys(e),r=t.getOptionScopes(i,s);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bx(t,e){const n=Mn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Nxe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Dxe(t,e){return t===e?"_index_":"_value_"}function jN(t){if(t==="x"||t==="y"||t==="r")return t}function Lxe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function jx(t,...e){if(jN(t))return t;for(const n of e){const i=n.axis||Lxe(n.position)||t.length>1&&jN(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function UN(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function $xe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return UN(t,"x",n[0])||UN(t,"y",n[0])}return{}}function Fxe(t,e){const n=xu[t.type]||{scales:{}},i=e.scales||{},o=Bx(t.type,e),s=Object.create(null);return Object.keys(i).forEach(r=>{const a=i[r];if(!St(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=jx(r,a,$xe(r,t),Mn.scales[a.type]),c=Dxe(l,o),u=n.scales||{};s[r]=Jg(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||Bx(a,e),u=(xu[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=Nxe(h,l),f=r[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Jg(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(r=>{const a=s[r];Jg(a,[Mn.scales[a.type],Mn.scale])}),s}function g2(t){const e=t.options||(t.options={});e.plugins=ft(e.plugins,{}),e.scales=Fxe(t,e)}function m2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Vxe(t){return t=t||{},t.data=m2(t.data),g2(t),t}const zN=new Map,p2=new Set;function kb(t,e){let n=zN.get(t);return n||(n=e(),zN.set(t,n),p2.add(n)),n}const Jf=(t,e,n)=>{const i=jy(e,n);i!==void 0&&t.add(i)};class Wxe{constructor(e){this._config=Vxe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=m2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),g2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return kb(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return kb(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return kb(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:s}=this,r=this._cachedScopes(e,i),a=r.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Jf(l,e,h))),u.forEach(h=>Jf(l,o,h)),u.forEach(h=>Jf(l,xu[s]||{},h)),u.forEach(h=>Jf(l,Mn,h)),u.forEach(h=>Jf(l,Fx,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),p2.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,xu[n]||{},Mn.datasets[n]||{},{type:n},Mn,Fx]}resolveNamedOptions(e,n,i,o=[""]){const s={$shared:!0},{resolver:r,subPrefixes:a}=YN(this._resolverCache,e,o);let l=r;if(jxe(r,n)){s.$shared=!1,i=jl(i)?i():i;const c=this.createResolver(e,i,a);l=xd(r,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],o){const{resolver:s}=YN(this._resolverCache,e,i);return St(n)?xd(s,n,void 0,o):s}}function YN(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let s=i.get(o);return s||(s={resolver:iP(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(o,s)),s}const Bxe=t=>St(t)&&Object.getOwnPropertyNames(t).some(e=>jl(t[e]));function jxe(t,e){const{isScriptable:n,isIndexable:i}=Qj(t);for(const o of e){const s=n(o),r=i(o),a=(r||s)&&t[o];if(s&&(jl(a)||Bxe(a))||r&&qn(a))return!0}return!1}var Uxe="4.4.6";const zxe=["top","bottom","left","right","chartArea"];function GN(t,e){return t==="top"||t==="bottom"||zxe.indexOf(t)===-1&&e==="x"}function KN(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function qN(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Qt(n&&n.onComplete,[t],e)}function Yxe(t){const e=t.chart,n=e.options.animation;Qt(n&&n.onProgress,[t],e)}function w2(t){return rP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Mv={},XN=t=>{const e=w2(t);return Object.values(Mv).filter(n=>n.canvas===e).pop()};function Gxe(t,e,n){const i=Object.keys(t);for(const o of i){const s=+o;if(s>=e){const r=t[o];delete t[o],(n>0||s>e)&&(t[s+n]=r)}}}function Kxe(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Nb(t,e,n){return t.options.clip?t[n]:e[n]}function qxe(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Nb(n,e,"left"),right:Nb(n,e,"right"),top:Nb(i,e,"top"),bottom:Nb(i,e,"bottom")}:e}var rl;let uS=(rl=class{static register(...e){gr.add(...e),ZN()}static unregister(...e){gr.remove(...e),ZN()}constructor(e,n){const i=this.config=new Wxe(n),o=w2(e),s=XN(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||dxe(o)),this.platform.updateConfig(i);const a=this.platform.acquireContext(o,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=t_e(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Oxe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=C_e(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Mv[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ca.listen(this,"complete",qN),ca.listen(this,"progress",Yxe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:s}=this;return Sn(e)?n&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():SN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vN(this.canvas,this.ctx),this}stop(){return ca.stop(this),this}resize(e,n){ca.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,SN(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Qt(i.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ht(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((r,a)=>(r[a]=!1,r),{});let s=[];n&&(s=s.concat(Object.keys(n).map(r=>{const a=n[r],l=jx(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ht(s,r=>{const a=r.options,l=a.id,c=jx(l,a),u=ft(a.type,r.dtype);(a.position===void 0||GN(a.position,c)!==GN(r.dposition))&&(a.position=r.dposition),o[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=gr.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),Ht(o,(r,a)=>{r||delete i[a]}),Ht(i,r=>{jo.configure(this,r,r.options),jo.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(KN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const s=n[i];let r=this.getDatasetMeta(i);const a=s.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=a,r.indexAxis=s.indexAxis||Bx(a,this.options),r.order=s.order||0,r.index=i,r.label=""+s.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const l=gr.getController(a),{datasetElementType:c,dataElementType:u}=Mn.datasets[a];Object.assign(l,{dataElementType:gr.getElement(u),datasetElementType:c&&gr.getElement(c)}),r.controller=new l(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Ht(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),o||Ht(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(KN("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ht(this.scales,e=>{jo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!cN(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of n){const r=i==="_removeElements"?-s:s;Gxe(e,o,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(r=>r[0]===s).map((r,a)=>a+","+r.splice(1).join(","))),o=i(0);for(let s=1;s<n;s++)if(!cN(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jo.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ht(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,jl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ca.has(this)?this.attached&&!ca.running(this)&&ca.start(this):(this.draw(),qN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,s;for(o=0,s=n.length;o<s;++o){const r=n[o];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,o=!i.disabled,s=qxe(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&tP(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),o&&nP(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ym(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const s=zRe.modes[n];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=$u(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,o);Uy(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ca.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vN(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Mv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,r)=>{n.addEventListener(this,s,r),e[s]=r},o=(s,r,a)=>{s.offsetX=r,s.offsetY=a,this._eventHandler(s)};Ht(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},o=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{o("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",r)};r=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){Ht(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ht(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let s,r,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:r})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[r],index:r}});!Wy(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),r=s(n,e),a=i?e:s(e,n);r.length&&this.updateHoverStyle(r,o.mode,!1),a.length&&o.mode&&this.updateHoverStyle(a,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:s}=this,r=n,a=this._getActiveElements(e,o,i,r),l=a_e(e),c=Kxe(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Qt(s.onHover,[e,a,this],this),l&&Qt(s.onClick,[e,a,this],this));const u=!Wy(a,o);return(u||n)&&(this._active=a,this._updateHoverStyles(a,o,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}},et(rl,"defaults",Mn),et(rl,"instances",Mv),et(rl,"overrides",xu),et(rl,"registry",gr),et(rl,"version",Uxe),et(rl,"getChart",XN),rl);function ZN(){return Ht(uS.instances,t=>t._plugins.invalidate())}function b2(t,e,n=e){t.lineCap=ft(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ft(n.borderDash,e.borderDash)),t.lineDashOffset=ft(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ft(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ft(n.borderWidth,e.borderWidth),t.strokeStyle=ft(n.borderColor,e.borderColor)}function Xxe(t,e,n){t.lineTo(n.x,n.y)}function Zxe(t){return t.stepped?k_e:t.tension||t.cubicInterpolationMode==="monotone"?N_e:Xxe}function v2(t,e,n={}){const i=t.length,{start:o=0,end:s=i-1}=n,{start:r,end:a}=e,l=Math.max(o,r),c=Math.min(s,a),u=o<r&&s<r||o>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Jxe(t,e,n,i){const{points:o,options:s}=e,{count:r,start:a,loop:l,ilen:c}=v2(o,n,i),u=Zxe(s);let{move:h=!0,reverse:d}=i||{},f,g,m;for(f=0;f<=c;++f)g=o[(a+(d?c-f:f))%r],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,m,g,d,s.stepped),m=g);return l&&(g=o[(a+(d?c:0))%r],u(t,m,g,d,s.stepped)),!!l}function Qxe(t,e,n,i){const o=e.points,{count:s,start:r,ilen:a}=v2(o,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,g,m,w,b;const C=E=>(r+(c?a-E:E))%s,y=()=>{m!==w&&(t.lineTo(u,w),t.lineTo(u,m),t.lineTo(u,b))};for(l&&(f=o[C(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=o[C(d)],f.skip)continue;const E=f.x,T=f.y,N=E|0;N===g?(T<m?m=T:T>w&&(w=T),u=(h*u+E)/++h):(y(),t.lineTo(E,T),g=N,h=0,m=w=T),b=T}y()}function Ux(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Qxe:Jxe}function eEe(t){return t.stepped?gRe:t.tension||t.cubicInterpolationMode==="monotone"?mRe:qc}function tEe(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),b2(t,e.options),t.stroke(o)}function nEe(t,e,n,i){const{segments:o,options:s}=e,r=Ux(e);for(const a of o)b2(t,s,a.style),t.beginPath(),r(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const iEe=typeof Path2D=="function";function oEe(t,e,n,i){iEe&&!e.options.segment?tEe(t,e,n,i):nEe(t,e,n,i)}class pg extends Fu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;rRe(this._points,i,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_Re(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,o=e[n],s=this.points,r=yRe(this,{property:n,start:o,end:o});if(!r.length)return;const a=[],l=eEe(i);let c,u;for(c=0,u=r.length;c<u;++c){const{start:h,end:d}=r[c],f=s[h],g=s[d];if(f===g){a.push(f);continue}const m=Math.abs((o-f[n])/(g[n]-f[n])),w=l(f,g,m,i.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Ux(this)(e,this,n,i)}path(e,n,i){const o=this.segments,s=Ux(this);let r=this._loop;n=n||0,i=i||this.points.length-n;for(const a of o)r&=s(e,this,a,{start:n,end:n+i-1});return!!r}draw(e,n,i,o){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),oEe(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(pg,"id","line"),et(pg,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(pg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(pg,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function JN(t,e,n,i){const o=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<o.radius+o.hitRadius}class Pv extends Fu{constructor(n){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,o){const s=this.options,{x:r,y:a}=this.getProps(["x","y"],o);return Math.pow(n-r,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return JN(this,n,"x",i)}inYRange(n,i){return JN(this,n,"y",i)}getCenterPoint(n){const{x:i,y:o}=this.getProps(["x","y"],n);return{x:i,y:o}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const o=i&&n.borderWidth||0;return(i+o)*2}draw(n,i){const o=this.options;this.skip||o.radius<.1||!Ym(this,i,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,Vx(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}et(Pv,"id","point"),et(Pv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(Pv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const QN=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},sEe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class eD extends Fu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Qt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=Ci(i.font),s=o.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=QN(i,s);let c,u;n.font=o.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,o,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:s,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=o+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,m)=>{const w=i+n/2+s.measureText(g.text).width;(m===0||c[c.length-1]+w+2*a>r)&&(h+=u,c[c.length-(m>0?0:1)]=0,f+=u,d++),l[m]={left:0,top:f,row:d,width:w,height:o},c[c.length-1]+=w+a}),h}_fitCols(e,n,i,o){const{ctx:s,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let h=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:C,itemHeight:y}=rEe(i,n,s,w,o);b>0&&f+y+2*a>u&&(h+=d+a,c.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[b]={left:g,top:f,col:m,width:C,height:y},d=Math.max(d,C),f+=y+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:s}}=this,r=ud(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=wi(i,this.left+o,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=wi(i,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+e+o,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+o}else{let a=0,l=wi(i,this.top+e+o,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=wi(i,this.top+e+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tP(e,this),this._draw(),nP(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:s,labels:r}=e,a=Mn.color,l=ud(e.rtl,this.left,this.width),c=Ci(r.font),{padding:u}=r,h=c.size,d=h/2;let f;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:w}=QN(r,h),b=function(N,D,B){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;o.save();const K=ft(B.lineWidth,1);if(o.fillStyle=ft(B.fillStyle,a),o.lineCap=ft(B.lineCap,"butt"),o.lineDashOffset=ft(B.lineDashOffset,0),o.lineJoin=ft(B.lineJoin,"miter"),o.lineWidth=K,o.strokeStyle=ft(B.strokeStyle,a),o.setLineDash(ft(B.lineDash,[])),r.usePointStyle){const q={radius:m*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:K},J=l.xPlus(N,g/2),ee=D+d;Zj(o,q,J,ee,r.pointStyleWidth&&g)}else{const q=D+Math.max((h-m)/2,0),J=l.leftForLtr(N,g),ee=nm(B.borderRadius);o.beginPath(),Object.values(ee).some(re=>re!==0)?Wx(o,{x:J,y:q,w:g,h:m,radius:ee}):o.rect(J,q,g,m),o.fill(),K!==0&&o.stroke()}o.restore()},C=function(N,D,B){Gm(o,B.text,N,D+w/2,c,{strikethrough:B.hidden,textAlign:l.textAlign(B.textAlign)})},y=this.isHorizontal(),E=this._computeTitleHeight();y?f={x:wi(s,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:f={x:this.left+u,y:wi(s,this.top+E+u,this.bottom-n[0].height),line:0},o2(this.ctx,e.textDirection);const T=w+u;this.legendItems.forEach((N,D)=>{o.strokeStyle=N.fontColor,o.fillStyle=N.fontColor;const B=o.measureText(N.text).width,K=l.textAlign(N.textAlign||(N.textAlign=r.textAlign)),q=g+d+B;let J=f.x,ee=f.y;l.setWidth(this.width),y?D>0&&J+q+u>this.right&&(ee=f.y+=T,f.line++,J=f.x=wi(s,this.left+u,this.right-i[f.line])):D>0&&ee+T>this.bottom&&(J=f.x=J+n[f.line].width+u,f.line++,ee=f.y=wi(s,this.top+E+u,this.bottom-n[f.line].height));const re=l.x(J);if(b(re,ee,N),J=S_e(K,J+g+d,y?J+q:this.right,e.rtl),C(l.x(J),ee,N),y)f.x+=q+u;else if(typeof N.text!="string"){const me=c.lineHeight;f.y+=y2(N,me)+u}else f.y+=T}),s2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ci(n.font),o=Xo(n.padding);if(!n.display)return;const s=ud(e.rtl,this.left,this.width),r=this.ctx,a=n.position,l=i.size/2,c=o.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=wi(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((m,w)=>Math.max(m,w.height),0);u=c+wi(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=wi(a,h,h+d);r.textAlign=s.textAlign(QM(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=i.string,Gm(r,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ci(e.font),i=Xo(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,s;if(gg(e,this.left,this.right)&&gg(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],gg(e,o.left,o.left+o.width)&&gg(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!cEe(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,s=sEe(o,i);o&&!s&&Qt(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!s&&Qt(n.onHover,[e,i,this],this)}else i&&Qt(n.onClick,[e,i,this],this)}}function rEe(t,e,n,i,o){const s=aEe(i,t,e,n),r=lEe(o,i,e.lineHeight);return{itemWidth:s,itemHeight:r}}function aEe(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((s,r)=>s.length>r.length?s:r)),e+n.size/2+i.measureText(o).width}function lEe(t,e,n){let i=t;return typeof e.text!="string"&&(i=y2(e,n)),i}function y2(t,e){const n=t.text?t.text.length:0;return e*n}function cEe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uEe={id:"legend",_element:eD,start(t,e,n){const i=t.legend=new eD({ctx:t.ctx,options:n,chart:t});jo.configure(t,i,n),jo.addBox(t,i)},stop(t){jo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;jo.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:s,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Xo(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class C2 extends Fu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=qn(i.text)?i.text.length:1;this._padding=Xo(i.padding);const s=o*Ci(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:s,options:r}=this,a=r.align;let l=0,c,u,h;return this.isHorizontal()?(u=wi(a,i,s),h=n+e,c=s-i):(r.position==="left"?(u=i+e,h=wi(a,o,n),l=Jn*-.5):(u=s-e,h=wi(a,n,o),l=Jn*.5),c=o-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ci(n.font),s=i.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Gm(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:QM(n.align),textBaseline:"middle",translation:[r,a]})}}function hEe(t,e){const n=new C2({ctx:t.ctx,options:e,chart:t});jo.configure(t,n,e),jo.addBox(t,n),t.titleBlock=n}var dEe={id:"title",_element:C2,start(t,e,n){hEe(t,n)},stop(t){const e=t.titleBlock;jo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;jo.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wg={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),o+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:o/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,s,r,a;for(s=0,r=t.length;s<r;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=$x(e,c);u<o&&(o=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function cr(t,e){return e&&(qn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ua(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fEe(t,e){const{element:n,datasetIndex:i,index:o}=e,s=t.getDatasetMeta(i).controller,{label:r,value:a}=s.getLabelAndValue(o);return{chart:t,label:r,parsed:s.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:a,dataset:s.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function tD(t,e){const n=t.chart.ctx,{body:i,footer:o,title:s}=t,{boxWidth:r,boxHeight:a}=e,l=Ci(e.bodyFont),c=Ci(e.titleFont),u=Ci(e.footerFont),h=s.length,d=o.length,f=i.length,g=Xo(e.padding);let m=g.height,w=0,b=i.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*E+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let C=0;const y=function(E){w=Math.max(w,n.measureText(E).width+C)};return n.save(),n.font=c.string,Ht(t.title,y),n.font=l.string,Ht(t.beforeBody.concat(t.afterBody),y),C=e.displayColors?r+2+e.boxPadding:0,Ht(i,E=>{Ht(E.before,y),Ht(E.lines,y),Ht(E.after,y)}),C=0,n.font=u.string,Ht(t.footer,y),n.restore(),w+=g.width,{width:w,height:m}}function gEe(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function mEe(t,e,n,i){const{x:o,width:s}=i,r=n.caretSize+n.caretPadding;if(t==="left"&&o+s+r>e.width||t==="right"&&o-s-r<0)return!0}function pEe(t,e,n,i){const{x:o,width:s}=n,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=o<=(a+l)/2?"left":"right":o<=s/2?c="left":o>=r-s/2&&(c="right"),mEe(c,t,e,n)&&(c="center"),c}function nD(t,e,n){const i=n.yAlign||e.yAlign||gEe(t,n);return{xAlign:n.xAlign||e.xAlign||pEe(t,e,n,i),yAlign:i}}function wEe(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function bEe(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function iD(t,e,n,i){const{caretSize:o,caretPadding:s,cornerRadius:r}=t,{xAlign:a,yAlign:l}=n,c=o+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=nm(r);let g=wEe(e,a);const m=bEe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+o:a==="right"&&(g+=Math.max(h,f)+o),{x:Bo(g,0,i.width-e.width),y:Bo(m,0,i.height-e.height)}}function Db(t,e,n){const i=Xo(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function oD(t){return cr([],ua(t))}function vEe(t,e,n){return $u(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function sD(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const S2={beforeTitle:oa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:oa,beforeBody:oa,beforeLabel:oa,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Sn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:oa,afterBody:oa,beforeFooter:oa,footer:oa,afterFooter:oa};function zi(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?S2[e].call(n,i):o}class zx extends Fu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,s=new a2(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=vEe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=zi(i,"beforeTitle",this,e),s=zi(i,"title",this,e),r=zi(i,"afterTitle",this,e);let a=[];return a=cr(a,ua(o)),a=cr(a,ua(s)),a=cr(a,ua(r)),a}getBeforeBody(e,n){return oD(zi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Ht(e,s=>{const r={before:[],lines:[],after:[]},a=sD(i,s);cr(r.before,ua(zi(a,"beforeLabel",this,s))),cr(r.lines,zi(a,"label",this,s)),cr(r.after,ua(zi(a,"afterLabel",this,s))),o.push(r)}),o}getAfterBody(e,n){return oD(zi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=zi(i,"beforeFooter",this,e),s=zi(i,"footer",this,e),r=zi(i,"afterFooter",this,e);let a=[];return a=cr(a,ua(o)),a=cr(a,ua(s)),a=cr(a,ua(r)),a}_createItems(e){const n=this._active,i=this.chart.data,o=[],s=[],r=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(fEe(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),Ht(a,u=>{const h=sD(e.callbacks,u);o.push(zi(h,"labelColor",this,u)),s.push(zi(h,"labelPointStyle",this,u)),r.push(zi(h,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let s,r=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{const a=wg[i.position].call(this,o,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const l=this._size=tD(this,i),c=Object.assign({},a,l),u=nD(this.chart,i,c),h=iD(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const s=this.getCaretPosition(e,i,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:s}=this,{caretSize:r,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=nm(a),{x:d,y:f}=e,{width:g,height:m}=n;let w,b,C,y,E,T;return s==="center"?(E=f+m/2,o==="left"?(w=d,b=w-r,y=E+r,T=E-r):(w=d+g,b=w+r,y=E-r,T=E+r),C=w):(o==="left"?b=d+Math.max(l,u)+r:o==="right"?b=d+g-Math.max(c,h)-r:b=this.caretX,s==="top"?(y=f,E=y-r,w=b-r,C=b+r):(y=f+m,E=y+r,w=b+r,C=b-r),T=y),{x1:w,x2:b,x3:C,y1:y,y2:E,y3:T}}drawTitle(e,n,i){const o=this.title,s=o.length;let r,a,l;if(s){const c=ud(i.rtl,this.x,this.width);for(e.x=Db(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",r=Ci(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=r.string,l=0;l<s;++l)n.fillText(o[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,o,s){const r=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=Ci(s.bodyFont),h=Db(this,"left",s),d=o.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=o.leftForLtr(d,c)+c/2,b=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Vx(e,m,w,b),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Vx(e,m,w,b)}else{e.lineWidth=St(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const m=o.leftForLtr(d,c),w=o.leftForLtr(o.xPlus(d,1),c-2),b=nm(r.borderRadius);Object.values(b).some(C=>C!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Wx(e,{x:m,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Wx(e,{x:w,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=r.backgroundColor,e.fillRect(w,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:s,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ci(i.bodyFont);let d=h.lineHeight,f=0;const g=ud(i.rtl,this.x,this.width),m=function(B){n.fillText(B,g.x(e.x+f),e.y+d/2),e.y+=d+s},w=g.textAlign(r);let b,C,y,E,T,N,D;for(n.textAlign=r,n.textBaseline="middle",n.font=h.string,e.x=Db(this,w,i),n.fillStyle=i.bodyColor,Ht(this.beforeBody,m),f=a&&w!=="right"?r==="center"?c/2+u:c+2+u:0,E=0,N=o.length;E<N;++E){for(b=o[E],C=this.labelTextColors[E],n.fillStyle=C,Ht(b.before,m),y=b.lines,a&&y.length&&(this._drawColorBox(n,e,E,g,i),d=Math.max(h.lineHeight,l)),T=0,D=y.length;T<D;++T)m(y[T]),d=h.lineHeight;Ht(b.after,m)}f=0,d=h.lineHeight,Ht(this.afterBody,m),e.y-=s}drawFooter(e,n,i){const o=this.footer,s=o.length;let r,a;if(s){const l=ud(i.rtl,this.x,this.width);for(e.x=Db(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",r=Ci(i.footerFont),n.fillStyle=i.footerColor,n.font=r.string,a=0;a<s;++a)n.fillText(o[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:s,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=nm(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(a+h,l),r==="top"&&this.drawCaret(e,n,i,o),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),r==="center"&&s==="right"&&this.drawCaret(e,n,i,o),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),r==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),r==="center"&&s==="left"&&this.drawCaret(e,n,i,o),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const r=wg[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=tD(this,e),l=Object.assign({},r,this._size),c=nD(n,e,l),u=iD(e,l,c,n);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Xo(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,n),o2(e,n.textDirection),s.y+=r.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),s2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Wy(i,o),r=this._positionChanged(o,n);(s||r)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],r=this._getActiveElements(e,s,n,i),a=this._positionChanged(r,e),l=n||!Wy(r,s)||a;return l&&(this._active=r,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,o){const s=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:i,caretY:o,options:s}=this,r=wg[s.position].call(this,e,n);return r!==!1&&(i!==r.x||o!==r.y)}}et(zx,"positioners",wg);var yEe={id:"tooltip",_element:zx,positioners:wg,afterInit(t,e,n){n&&(t.tooltip=new zx({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:S2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CEe=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function SEe(t,e,n,i){const o=t.indexOf(e);if(o===-1)return CEe(t,e,n,i);const s=t.lastIndexOf(e);return o!==s?n:o}const _Ee=(t,e)=>t===null?null:Bo(Math.round(t),0,e);function rD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yx extends Wd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:s}of n)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Sn(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:SEe(i,e,ft(n,e),this._addedLabels),_Ee(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=n;r++)o.push({value:r});return o}getLabelForValue(e){return rD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}et(Yx,"id","category"),et(Yx,"defaults",{ticks:{callback:rD}});function REe(t,e){const n=[],{bounds:o,step:s,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,g=u-1,{min:m,max:w}=e,b=!Sn(r),C=!Sn(a),y=!Sn(c),E=(w-m)/(h+1);let T=hN((w-m)/g/f)*f,N,D,B,K;if(T<1e-14&&!b&&!C)return[{value:m},{value:w}];K=Math.ceil(w/T)-Math.floor(m/T),K>g&&(T=hN(K*T/g/f)*f),Sn(l)||(N=Math.pow(10,l),T=Math.ceil(T*N)/N),o==="ticks"?(D=Math.floor(m/T)*T,B=Math.ceil(w/T)*T):(D=m,B=w),b&&C&&s&&h_e((a-r)/s,T/1e3)?(K=Math.round(Math.min((a-r)/T,u)),T=(a-r)/K,D=r,B=a):y?(D=b?r:D,B=C?a:B,K=c-1,T=(B-D)/K):(K=(B-D)/T,Qg(K,Math.round(K),T/1e3)?K=Math.round(K):K=Math.ceil(K));const q=Math.max(dN(T),dN(D));N=Math.pow(10,Sn(l)?q:l),D=Math.round(D*N)/N,B=Math.round(B*N)/N;let J=0;for(b&&(d&&D!==r?(n.push({value:r}),D<r&&J++,Qg(Math.round((D+J*T)*N)/N,r,aD(r,E,t))&&J++):D<r&&J++);J<K;++J){const ee=Math.round((D+J*T)*N)/N;if(C&&ee>a)break;n.push({value:ee})}return C&&d&&B!==a?n.length&&Qg(n[n.length-1].value,a,aD(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!C||B===a)&&n.push({value:B}),n}function aD(t,e,{horizontal:n,minRotation:i}){const o=su(i),s=(n?Math.sin(o):Math.cos(o))||.001,r=.75*e*(""+t).length;return Math.min(e/s,r)}class xEe extends Wd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Sn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:s}=this;const r=l=>o=n?o:l,a=l=>s=i?s:l;if(e){const l=Rd(o),c=Rd(s);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(o===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||r(o-l)}this.min=o,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,r=REe(o,s);return e.bounds==="ticks"&&d_e(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Kj(e,this.chart.options.locale,this.options.ticks.format)}}class Gx extends xEe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qo(e)?e:0,this.max=qo(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=su(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}et(Gx,"id","linear"),et(Gx,"defaults",{ticks:{callback:Xj.formatters.numeric}});const hS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},eo=Object.keys(hS);function lD(t,e){return t-e}function cD(t,e){if(Sn(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:s}=t._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),qo(r)||(r=typeof i=="string"?n.parse(r,i):n.parse(r)),r===null?null:(o&&(r=o==="week"&&(zm(s)||s===!0)?n.startOf(r,"isoWeek",s):n.startOf(r,o)),+r)}function uD(t,e,n,i){const o=eo.length;for(let s=eo.indexOf(t);s<o-1;++s){const r=hS[eo[s]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(a*r.size))<=i)return eo[s]}return eo[o-1]}function EEe(t,e,n,i,o){for(let s=eo.length-1;s>=eo.indexOf(n);s--){const r=eo[s];if(hS[r].common&&t._adapter.diff(o,i,r)>=e-1)return r}return eo[n?eo.indexOf(n):0]}function TEe(t){for(let e=eo.indexOf(t)+1,n=eo.length;e<n;++e)if(hS[eo[e]].common)return eo[e]}function hD(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=JM(n,e),s=n[i]>=e?n[i]:n[o];t[s]=!0}}function MEe(t,e,n,i){const o=t._adapter,s=+o.startOf(e[0].value,i),r=e[e.length-1].value;let a,l;for(a=s;a<=r;a=+o.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function dD(t,e,n){const i=[],o={},s=e.length;let r,a;for(r=0;r<s;++r)a=e[r],o[a]=r,i.push({value:a,major:!1});return s===0||!n?i:MEe(t,i,o,n)}class Ky extends Wd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new VRe._date(e.adapters.date);o.init(n),Jg(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:cD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=qo(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),s=qo(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,r=this.max,a=b_e(o,s,r);return this._unit=n.unit||(i.autoSkip?uD(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):EEe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:TEe(this._unit),this.initOffsets(o),e.reverse&&a.reverse(),dD(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Bo(n,0,r),i=Bo(i,0,r),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,s=o.time,r=s.unit||uD(s.minUnit,n,i,this._getLabelCapacity(n)),a=ft(o.ticks.stepSize,1),l=r==="week"?s.isoWeekday:!1,c=zm(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":r),e.diff(i,n,r)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+r);const g=o.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,r),f++)hD(u,d,g);return(d===i||o.bounds==="ticks"||f===1)&&hD(u,d,g),Object.keys(u).sort(lD).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,s=this._unit,r=n||o[s];return this._adapter.format(e,r)}_tickFormatFunction(e,n,i,o){const s=this.options,r=s.ticks.callback;if(r)return Qt(r,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,o||(f?h:u))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=su(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),r=Math.sin(o),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*r,h:i*r+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,dD(this,[e],this._majorUnit),o),r=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(cD(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return y_e(e.sort(lD))}}et(Ky,"id","time"),et(Ky,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lb(t,e,n){let i=0,o=t.length-1,s,r,a,l;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=ru(t,"pos",e)),{pos:s,time:a}=t[i],{pos:r,time:l}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=ru(t,"time",e)),{time:s,pos:a}=t[i],{time:r,pos:l}=t[o]);const c=r-s;return c?a+(l-a)*(e-s)/c:a}class fD extends Ky{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Lb(n,this.min),this._tableRange=Lb(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],s=[];let r,a,l,c,u;for(r=0,a=e.length;r<a;++r)c=e[r],c>=n&&c<=i&&o.push(c);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(r=0,a=o.length;r<a;++r)u=o[r+1],l=o[r-1],c=o[r],Math.round((u+l)/2)!==c&&s.push({time:c,pos:r/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,s)=>o-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Lb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Lb(this._table,i*this._tableRange+this._minPos,!0)}}et(fD,"id","timeseries"),et(fD,"defaults",Ky.defaults);const _2={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},PEe={ariaLabel:{type:String},ariaDescribedby:{type:String}},OEe={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},..._2,...PEe},IEe=ZL[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Th(t){return ep(t)?wt(t):t}function AEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return ep(e)?new Proxy(t,{}):t}function HEe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function R2(t,e){t.labels=e}function x2(t,e,n){const i=[];t.datasets=e.map(o=>{const s=t.datasets.find(r=>r[n]===o[n]);return!s||!o.data||i.includes(s)?{...o}:(i.push(s),Object.assign(s,o),s)})}function kEe(t,e){const n={labels:[],datasets:[]};return R2(n,t.labels),x2(n,t.datasets,e),n}const NEe=Md({props:OEe,setup(t,e){let{expose:n,slots:i}=e;const o=Pa(null),s=pE(null);n({chart:s});const r=()=>{if(!o.value)return;const{type:c,data:u,options:h,plugins:d,datasetIdKey:f}=t,g=kEe(u,f),m=AEe(g,u);s.value=new uS(o.value,{type:c,data:m,options:{...h},plugins:d})},a=()=>{const c=wt(s.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),s.value=null},t.destroyDelay):(c.destroy(),s.value=null))},l=c=>{c.update(t.updateMode)};return ip(r),op(a),Rr([()=>t.options,()=>t.data],(c,u)=>{let[h,d]=c,[f,g]=u;const m=wt(s.value);if(!m)return;let w=!1;if(h){const b=Th(h),C=Th(f);b&&b!==C&&(HEe(m,b),w=!0)}if(d){const b=Th(d.labels),C=Th(g.labels),y=Th(d.datasets),E=Th(g.datasets);b!==C&&(R2(m.config.data,b),w=!0),y&&y!==E&&(x2(m.config.data,y,t.datasetIdKey),w=!0)}w&&np(()=>{l(m)})},{deep:!0}),()=>dm("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:o},[dm("p",{},[i.default?i.default():""])])}});function DEe(t,e){return uS.register(e),Md({props:_2,setup(n,i){let{expose:o}=i;const s=pE(null),r=a=>{s.value=a==null?void 0:a.chart};return o({chart:s}),()=>dm(NEe,IEe({ref:r},{type:t,...n}))}})}const LEe=DEe("line",Ev);uS.register(Yx,Gx,Pv,pg,dEe,yEe,uEe);const $Ee={components:{Line:LEe},props:["parsedLogs","uniqueProgramsCount","lastUpdateTime"],computed:{errorCount(){return this.parsedLogs.filter(t=>t.level==="Error").length},infoCount(){return this.parsedLogs.filter(t=>t.level==="Info").length},chartData(){const t=[...new Set(this.parsedLogs.map(n=>n.timestamp))].slice(-10),e=t.map(n=>this.parsedLogs.filter(i=>i.timestamp===n&&i.level==="Error").length);return{labels:t,datasets:[{label:"Errors Over Time",data:e,borderColor:"#ef4444",backgroundColor:"#fee2e2",tension:.4}]}},chartOptions(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,labels:{color:this.isDarkMode?"#fff":"#000"}}},scales:{y:{beginAtZero:!0,ticks:{color:this.isDarkMode?"#fff":"#000"}},x:{ticks:{color:this.isDarkMode?"#fff":"#000"}}}}}}},FEe={class:"space-y-4 mb-6"},VEe={class:"grid grid-cols-5 gap-4"},WEe={class:"bg-blue-100 dark:bg-blue-900 p-4 rounded"},BEe={class:"dark:text-white"},jEe={class:"bg-green-100 dark:bg-green-900 p-4 rounded"},UEe={class:"dark:text-white"},zEe={class:"bg-red-100 dark:bg-red-900 p-4 rounded"},YEe={class:"dark:text-white"},GEe={class:"bg-emerald-100 dark:bg-emerald-900 p-4 rounded"},KEe={class:"dark:text-white"},qEe={class:"bg-purple-100 dark:bg-purple-900 p-4 rounded"},XEe={class:"dark:text-white"},ZEe={class:"bg-surface-50 p-4 rounded h-48"};function JEe(t,e,n,i,o,s){const r=_r("Line");return We(),qe("div",FEe,[le("div",VEe,[le("div",WEe,[e[0]||(e[0]=le("h4",{class:"font-bold dark:text-white"},"Total Logs",-1)),le("p",BEe,Cn(n.parsedLogs.length),1)]),le("div",jEe,[e[1]||(e[1]=le("h4",{class:"font-bold dark:text-white"},"Unique Progs",-1)),le("p",UEe,Cn(n.uniqueProgramsCount),1)]),le("div",zEe,[e[2]||(e[2]=le("h4",{class:"font-bold dark:text-white"},"Error Logs",-1)),le("p",YEe,Cn(s.errorCount),1)]),le("div",GEe,[e[3]||(e[3]=le("h4",{class:"font-bold dark:text-white"},"Info Logs",-1)),le("p",KEe,Cn(s.infoCount),1)]),le("div",qEe,[e[4]||(e[4]=le("h4",{class:"font-bold dark:text-white"},"Last Update",-1)),le("p",XEe,Cn(n.lastUpdateTime),1)])]),le("div",ZEe,[tn(r,{data:s.chartData,options:s.chartOptions,class:"w-full h-full"},null,8,["data","options"])])])}const QEe=Yl($Ee,[["render",JEe]]);var eTe=TypeError,E2=function(t,e){if(t<e)throw new eTe("Not enough arguments");return t},tTe=pC,nTe=/(?:ipad|iphone|ipod).*applewebkit/i.test(tTe),Qf=ri,iTe=pC,oTe=Mu,$b=function(t){return iTe.slice(0,t.length)===t},T2=function(){return $b("Bun/")?"BUN":$b("Cloudflare-Workers")?"CLOUDFLARE":$b("Deno/")?"DENO":$b("Node.js/")?"NODE":Qf.Bun&&typeof Bun.version=="string"?"BUN":Qf.Deno&&typeof Deno.version=="object"?"DENO":oTe(Qf.process)==="process"?"NODE":Qf.window&&Qf.document?"BROWSER":"REST"}(),sTe=T2,rTe=sTe==="NODE",bo=ri,aTe=vC,lTe=Aj,gD=ai,cTe=Dr,M2=no,mD=BV,uTe=uT,pD=AE,hTe=E2,dTe=nTe,fTe=rTe,Kx=bo.setImmediate,qx=bo.clearImmediate,gTe=bo.process,nR=bo.Dispatch,mTe=bo.Function,wD=bo.MessageChannel,pTe=bo.String,iR=0,om={},bD="onreadystatechange",qm,Vc,oR,sR;M2(function(){qm=bo.location});var cP=function(t){if(cTe(om,t)){var e=om[t];delete om[t],e()}},rR=function(t){return function(){cP(t)}},vD=function(t){cP(t.data)},yD=function(t){bo.postMessage(pTe(t),qm.protocol+"//"+qm.host)};(!Kx||!qx)&&(Kx=function(e){hTe(arguments.length,1);var n=gD(e)?e:mTe(e),i=uTe(arguments,1);return om[++iR]=function(){aTe(n,void 0,i)},Vc(iR),iR},qx=function(e){delete om[e]},fTe?Vc=function(t){gTe.nextTick(rR(t))}:nR&&nR.now?Vc=function(t){nR.now(rR(t))}:wD&&!dTe?(oR=new wD,sR=oR.port2,oR.port1.onmessage=vD,Vc=lTe(sR.postMessage,sR)):bo.addEventListener&&gD(bo.postMessage)&&!bo.importScripts&&qm&&qm.protocol!=="file:"&&!M2(yD)?(Vc=yD,bo.addEventListener("message",vD,!1)):bD in pD("script")?Vc=function(t){mD.appendChild(pD("script"))[bD]=function(){mD.removeChild(this),cP(t)}}:Vc=function(t){setTimeout(rR(t),0)});var P2={set:Kx,clear:qx},wTe=li,bTe=ri,CD=P2.clear;wTe({global:!0,bind:!0,enumerable:!0,forced:bTe.clearImmediate!==CD},{clearImmediate:CD});var O2=ri,vTe=vC,yTe=ai,CTe=T2,STe=pC,_Te=uT,RTe=E2,xTe=O2.Function,ETe=/MSIE .\./.test(STe)||CTe==="BUN"&&function(){var t=O2.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),TTe=function(t,e){var n=e?2:1;return ETe?function(i,o){var s=RTe(arguments.length,1)>n,r=yTe(i)?i:xTe(i),a=s?_Te(arguments,n):[],l=s?function(){vTe(r,this,a)}:r;return e?t(l,o):t(l)}:t},MTe=li,I2=ri,SD=P2.set,PTe=TTe,_D=I2.setImmediate?PTe(SD,!1):SD;MTe({global:!0,bind:!0,enumerable:!0,forced:I2.setImmediate!==_D},{setImmediate:_D});function OTe(t,e){ITe(t,e),e.add(t)}function ITe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wc(t,e,n){return(e=ATe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ATe(t){var e=HTe(t,"string");return typeof e=="symbol"?e:e+""}function HTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RD(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var aR=new WeakSet;class Xx{constructor(e,n,i){OTe(this,aR),Wc(this,"hot",void 0),Wc(this,"tableMeta",void 0),Wc(this,"selection",void 0),Wc(this,"eventManager",void 0),Wc(this,"destroyed",!1),Wc(this,"activeEditor",void 0),Wc(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=i,this.eventManager=new ks(e),this.hot.addHook("afterDocumentKeyDown",o=>RD(aR,this,kTe).call(this,o)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",o=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",o)}),this.hot.view._wt.update("onCellDblClick",(o,s,r)=>RD(aR,this,NTe).call(this,o,s,r))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:i,col:o}=n,s=this.hot.runHooks("modifyGetCellCoords",i,o);let r=i,a=o;if(Array.isArray(s)&&([r,a]=s),this.cellProperties=this.hot.getCellMeta(r,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(i,o,!0);if(l){const c=this.hot.getCellEditor(this.cellProperties),u=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(r),a);this.activeEditor=JV(c,this.hot),this.activeEditor.prepare(i,o,u,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}const o=this.hot.getSelectedRangeLast();let s=this.hot.runHooks("beforeBeginEditing",o.highlight.row,o.highlight.col,e,n,i);if(n instanceof MouseEvent&&typeof s!="boolean"&&(s=this.hot.selection.getLayerLevel()===0&&o.isSingle()),s===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,i){this.activeEditor?this.activeEditor.finishEditing(e,n,i):i&&i(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:i,col:o}=e.highlight,{rowIndexMapper:s,columnIndexMapper:r}=this.hot,a=s.isHidden(this.hot.toPhysicalRow(i))||r.isHidden(this.hot.toPhysicalColumn(o));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n={...typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(n.row=-n.row,n.col=-n.col),this.hot.selection.isMultiple()?this.selection.transformFocus(n.row,n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function kTe(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||Xc(t))return;const{keyCode:n}=t,i=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!LV(n)&&!wne(n)&&!i&&!this.isEditorOpened()&&this.openEditor("",t)}function NTe(t,e){e.isCell()&&this.openEditor(null,t,!0)}const xD=new WeakMap;Xx.getInstance=function(t,e,n){let i=xD.get(t);return i||(i=new Xx(t,e,n),xD.set(t,i)),i};function DTe(t,e){A2(t,e),e.add(t)}function eg(t,e,n){A2(t,e),e.set(t,n)}function A2(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function an(t,e){return t.get(Ca(t,e))}function tg(t,e,n){return t.set(Ca(t,e),n),n}function Ca(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const hd=Object.freeze({CELL:"cell",MIXED:"mixed"});var zn=new WeakMap,Fb=new WeakMap,Vb=new WeakMap,Wb=new WeakMap,Bb=new WeakMap,pl=new WeakSet;class LTe{constructor(e){var n=this;DTe(this,pl),eg(this,zn,void 0),eg(this,Fb,void 0),eg(this,Vb,1),eg(this,Wb,null),eg(this,Bb,new Map);const i=e.getSettings();tg(zn,this,e),tg(Fb,this,i.imeFastEdit?hd.MIXED:hd.CELL),an(zn,this).addHook("afterUpdateSettings",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return Ca(pl,n,FTe).call(n,...s)}),an(zn,this).addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return Ca(pl,n,ED).call(n,...s)}),an(zn,this).addHook("afterSelectionFocusSet",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return Ca(pl,n,ED).call(n,...s)}),an(zn,this).addHook("afterSelectionEnd",function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return Ca(pl,n,$Te).call(n,...s)})}getFocusMode(){return an(Fb,this)}setFocusMode(e){Object.values(hd).includes(e)?tg(Fb,this,e):Et(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return an(Vb,this)}setRefocusDelay(e){tg(Vb,this,e)}setRefocusElementGetter(e){tg(Wb,this,e)}getRefocusElement(){if(typeof an(Wb,this)=="function")return an(Wb,this).call(this);var e;return(e=an(zn,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=i=>{var o,s;const r=(o=an(zn,this).getSelectedRangeLast())===null||o===void 0?void 0:o.highlight;if(!r)return;let a=an(zn,this).runHooks("modifyFocusedElement",r.row,r.col,i);a instanceof HTMLElement||(a=i),a&&!((s=an(zn,this).getActiveEditor())!==null&&s!==void 0&&s.isOpened())&&a.focus({preventScroll:!0})};e?n(e):Ca(pl,this,uP).call(this,i=>n(i))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:an(Vb,this);const i=this.getRefocusElement();an(zn,this).getSettings().imeFastEdit&&!((e=an(zn,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&i&&(an(Bb,this).has(n)||an(Bb,this).set(n,ET(()=>{i.select()},n)),an(Bb,this).get(n)())}}function uP(t){var e;const n=(e=an(zn,this).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!an(zn,this).selection.isCellVisible(n)){t(null);return}const i=an(zn,this).getCell(n.row,n.col,!0);i===null?an(zn,this).addHookOnce("afterScroll",()=>{t(an(zn,this).getCell(n.row,n.col,!0))}):t(i)}function ED(){Ca(pl,this,uP).call(this,t=>{const{activeElement:e}=an(zn,this).rootDocument;e&&xV(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function $Te(){Ca(pl,this,uP).call(this,t=>{this.getFocusMode()===hd.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function FTe(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?hd.MIXED:hd.CELL)}const H2=new WeakMap,hP=Symbol("rootInstance");function VTe(t){H2.set(t,!0)}function WTe(t){return t===hP}function Ov(t){return H2.has(t)}function BTe(t,e){k2(t,e),e.add(t)}function Bc(t,e,n){k2(t,e),e.set(t,n)}function k2(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sl(t,e,n){return(e=jTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:e+""}function UTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e){return t.get(Xm(t,e))}function Po(t,e,n){return t.set(Xm(t,e),n),n}function Xm(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lR=new WeakMap,jb=new WeakMap,Ub=new WeakMap,sa=new WeakMap,us=new WeakMap,cR=new WeakMap,uR=new WeakMap,Iv=new WeakSet;class zTe{constructor(e){BTe(this,Iv),sl(this,"hot",void 0),sl(this,"eventManager",void 0),sl(this,"settings",void 0),sl(this,"THEAD",void 0),sl(this,"TBODY",void 0),sl(this,"_wt",void 0),sl(this,"activeWt",void 0),Bc(this,lR,0),Bc(this,jb,0),sl(this,"postponedAdjustElementsSize",!1),Bc(this,Ub,!1),Bc(this,sa,void 0),Bc(this,us,void 0),Bc(this,cR,0),Bc(this,uR,0),this.hot=e,this.eventManager=new ks(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,n){const i=this._wt.getCell(e,n);return i<0?null:i}scrollViewport(e,n,i,o,s){return this._wt.scrollViewport(e,n,i,o,s)}scrollViewportHorizontally(e,n,i){return this._wt.scrollViewportHorizontally(e,n,i)}scrollViewportVertically(e,n,i){return this._wt.scrollViewportVertically(e,n,i)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,i=e.getAttribute("style");i&&e.setAttribute("data-originalstyle",i),ue(e,"handsontable"),Po(us,this,n.createElement("TABLE")),ue(Un(us,this),"htCore"),this.hot.getSettings().tableClassName&&ue(Un(us,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&($e(Un(us,this),[xr()]),$e(e,[pee(),mV(-1),HC(this.hot.countCols()),Oee()])),this.THEAD=n.createElement("THEAD"),Un(us,this).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),Un(us,this).appendChild(this.TBODY),this.hot.table=Un(us,this),this.hot.container.insertBefore(Un(us,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:i,rootWindow:o}=this.hot,s=n.documentElement;this.eventManager.addEventListener(e,"mousedown",a=>{Po(Ub,this,!0),this.isTextSelectionAllowed(a.target)||(lA(o),a.preventDefault(),o.focus())}),this.eventManager.addEventListener(e,"mouseup",()=>{Po(Ub,this,!1)}),this.eventManager.addEventListener(e,"mousemove",a=>{Un(Ub,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&lA(o),a.preventDefault())}),this.eventManager.addEventListener(s,"keyup",a=>{i.isInProgress()&&!a.shiftKey&&i.finish()}),this.eventManager.addEventListener(s,"mouseup",a=>{i.isInProgress()&&vT(a)&&i.finish(),Po(sa,this,!1);const l=xV(n.activeElement);uv(n.activeElement)&&!l||(l||!i.isSelected()&&!i.isSelectedByAnyHeader()&&!e.contains(a.target)&&!bu(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(s,"contextmenu",a=>{i.isInProgress()&&bu(a)&&(i.finish(),Po(sa,this,!1))}),this.eventManager.addEventListener(s,"touchend",()=>{i.isInProgress()&&i.finish(),Po(sa,this,!1)}),this.eventManager.addEventListener(s,"mousedown",a=>{const l=a.target,c=a.x||a.clientX,u=a.y||a.clientY;let h=a.target;if(Un(sa,this)||!e||!this.hot.view)return;const{holder:d}=this._wt.wtTable;if(h===d){const g=Zn(n);if(n.elementFromPoint(c+g,u)!==d||n.elementFromPoint(c,u+g)!==d)return}else for(;h!==s;){if(h===null){if(a.isTargetWebComponent)break;return}if(h===e)return;h=h.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let r=wd(o);for(;r!==null;)this.eventManager.addEventListener(r.document.documentElement,"click",()=>{this.hot.unlisten()}),r=wd(r);this.eventManager.addEventListener(Un(us,this),"selectstart",a=>{this.settings.fragmentSelection||uv(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:i}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,i))}translateFromRenderableToVisualIndex(e,n){let i=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,o=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return i===null&&(i=e),o===null&&(o=n),[i,o]}countRenderableIndexes(e,n){const i=Math.min(e.getNotTrimmedIndexesLength(),n),o=e.getNearestNotHiddenIndex(i-1,-1);return o===null?0:e.getRenderableFromVisualIndex(o)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,i,o){if(isNaN(e)||e<0)return 0;const s=i.getNearestNotHiddenIndex(e,n),r=i.getRenderableFromVisualIndex(s);if(!Number.isInteger(r))return 0;let a=0;return n<0?a=r+1:n>0&&(a=o-r),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let i=0;for(let o=e;o<=n;o++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(o)!==null&&(i+=1);return i}countRenderableRowsInRange(e,n){let i=0;for(let o=e;o<=n;o++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(o)!==null&&(i+=1);return i}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Un(us,this),isDataViewInstance:()=>Ov(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(s,r)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(s,r)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const s=[];return this.hot.hasRowHeaders()&&s.push((r,a)=>{const l=r>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(r):r;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",s),Po(jb,this,s.length),this.hot.getSettings().ariaTags&&Xm(Iv,this,N2).call(this)===this.hot.countCols()&&Xm(Iv,this,YTe).call(this,Un(jb,this)),s},columnHeaders:()=>{const s=[];return this.hot.hasColHeaders()&&s.push((r,a)=>{const l=r>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(r):r;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",s),Po(lR,this,s.length),s},columnWidth:s=>{const r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.getColWidth(r===null?s:r)},rowHeight:s=>{const r=this.hot.rowIndexMapper.getVisualFromRenderableIndex(s);return this.hot.getRowHeight(r===null?s:r)},rowHeightByOverlayName:(s,r)=>{const a=this.hot.rowIndexMapper.getVisualFromRenderableIndex(s),l=a===null?s:a;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(l),l,r)},cellRenderer:(s,r,a)=>{const[l,c]=this.translateFromRenderableToVisualIndex(s,r),u=this.hot.runHooks("modifyGetCellCoords",l,c);let h=l,d=c;Array.isArray(u)&&([h,d]=u);const f=this.hot.getCellMeta(h,d),g=this.hot.colToProp(d);let m=this.hot.getDataAtRowProp(h,g);this.hot.hasHook("beforeValueRender")&&(m=this.hot.runHooks("beforeValueRender",m,f)),this.hot.runHooks("beforeRenderer",a,l,c,g,m,f),this.hot.getCellRenderer(f)(this.hot,a,l,c,g,m,f),this.hot.runHooks("afterRenderer",a,l,c,g,m,f)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&bd(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(s,r,a,l)=>{const c=this.translateFromRenderableToVisualCoords(r),u={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,Po(sa,this,!0),this.hot.runHooks("beforeOnCellMouseDown",s,c,a,u),!Xc(s)&&(FH(s,{coords:c,selection:this.hot.selection,controller:u,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseDown",s,c,a),this.activeWt=this._wt)},onCellContextMenu:(s,r,a,l)=>{const c=this.translateFromRenderableToVisualCoords(r);this.activeWt=l,Po(sa,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",s,c,a),!Xc(s)&&(this.hot.runHooks("afterOnCellContextMenu",s,c,a),this.activeWt=this._wt)},onCellMouseOut:(s,r,a,l)=>{const c=this.translateFromRenderableToVisualCoords(r);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",s,c,a),!Xc(s)&&(this.hot.runHooks("afterOnCellMouseOut",s,c,a),this.activeWt=this._wt)},onCellMouseOver:(s,r,a,l)=>{const c=this.translateFromRenderableToVisualCoords(r),u={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",s,c,a,u),!Xc(s)&&(Un(sa,this)&&FH(s,{coords:c,selection:this.hot.selection,controller:u,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseOver",s,c,a),this.activeWt=this._wt)},onCellMouseUp:(s,r,a,l)=>{const c=this.translateFromRenderableToVisualCoords(r);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",s,c,a),!(Xc(s)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",s,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:s=>{s.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",s)},onCellCornerDblClick:s=>{s.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",s)},beforeDraw:(s,r)=>this.beforeRender(s,r),onDraw:s=>this.afterRender(s),onBeforeViewportScrollVertically:s=>{const r=this.hot.rowIndexMapper,a=s<0;let l=s;return!a&&(l=r.getVisualFromRenderableIndex(s),l===null)?s:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:r.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:s=>{const r=this.hot.columnIndexMapper,a=s<0;let l=s;return!a&&(l=r.getVisualFromRenderableIndex(s),l===null)?s:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:r.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(s,r,a)=>{const l=this.hot.rowIndexMapper,c=s<0;let u=s;c||(u=l.getVisualFromRenderableIndex(s));const h=this.hot.runHooks("beforeHighlightingRowHeader",u,r,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(s,r,a)=>{const l=this.hot.columnIndexMapper,c=s<0;let u=s;c||(u=l.getVisualFromRenderableIndex(s));const h=this.hot.runHooks("beforeHighlightingColumnHeader",u,r,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(s,r,a)=>{let l;const[c,u]=this.translateFromRenderableToVisualIndex(s,r),h=this.hot.selection.getSelectedRange();if(h.size()>0){const f=h.peekByIndex(a??0);l=[f.from.row,f.from.col,f.to.row,f.to.col]}return this.hot.runHooks("afterDrawSelection",c,u,l,a)},onBeforeDrawBorders:(s,r)=>{const[a,l,c,u]=s,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(u)];return this.hot.runHooks("beforeDrawBorders",h,r)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(s,r)=>{const a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(r);return this.hot.runHooks("beforeStretchingColumnWidth",s,a)},onModifyRowHeaderWidth:s=>this.hot.runHooks("modifyRowHeaderWidth",s),onModifyGetCellCoords:(s,r,a)=>{const l=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,u=r>=0?c.getVisualFromRenderableIndex(r):r,h=s>=0?l.getVisualFromRenderableIndex(s):s,d=this.hot.runHooks("modifyGetCellCoords",h,u,a);if(Array.isArray(d)){const[f,g,m,w]=d;return[f>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(f,1)):f,g>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,1)):g,m>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(m,-1)):m,w>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(w,-1)):w]}},viewportRowCalculatorOverride:s=>{let r=this.settings.viewportRowRenderingOffset;if(r==="auto"&&this.settings.fixedRowsTop&&(r=10),r>0||r==="auto"){const a=this.countRenderableRows(),l=s.startRow,c=s.endRow;if(typeof r=="number")s.startRow=Math.max(l-r,0),s.endRow=Math.min(c+r,a-1);else if(r==="auto"){const u=Math.ceil(c/a*12);s.startRow=Math.max(l-u,0),s.endRow=Math.min(c+u,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",s)},viewportColumnCalculatorOverride:s=>{let r=this.settings.viewportColumnRenderingOffset;if(r==="auto"&&this.settings.fixedColumnsStart&&(r=10),r>0||r==="auto"){const a=this.countRenderableColumns(),l=s.startColumn,c=s.endColumn;if(typeof r=="number"&&(s.startColumn=Math.max(l-r,0),s.endColumn=Math.min(c+r,a-1)),r==="auto"){const u=Math.ceil(c/a*6);s.startColumn=Math.max(l-u,0),s.endColumn=Math.min(c+u,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",s)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const s=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||s}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new bM(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:i,height:o}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(i,o),this.eventManager.addEventListener(n,"mousedown",s=>{s.target===n&&s.which===3&&s.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",s=>{s.target===n&&s.which===3&&s.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(uv(e))return!0;const n=uu(e,this._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Un(sa,this)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const i=n.firstChild;if(!Fe(i,"relative")){kr(n),this.appendRowHeader(e,n);return}this.updateCellHeader(i.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:i,getRowHeader:o}=this.hot,s=i.createElement("div"),r=i.createElement("span");s.className="relative",r.className="rowHeader",this.updateCellHeader(r,e,o),s.appendChild(r),n.appendChild(s)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const s=()=>{const r=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return r?r.split(" "):[]};if(n.firstChild){const r=n.firstChild;Fe(r,"relative")?(this.updateCellHeader(r.querySelector(".colHeader"),e,i,o),r.className="",ue(r,["relative",...s()])):(kr(n),this.appendColHeader(e,n,i,o))}else{const{rootDocument:r}=this.hot,a=r.createElement("div"),l=r.createElement("span"),c=s();a.classList.add("relative",...c),l.className="colHeader",this.settings.ariaTags&&($e(a,...xr()),$e(l,...xr())),this.updateCellHeader(l,e,i,o),a.appendChild(l),n.appendChild(a)}this.hot.runHooks("afterGetColHeader",e,n,o)}updateCellHeader(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=n;const r=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(Fe(e,"colHeader")?s=r.wtTable.columnFilter.sourceToRendered(n):Fe(e,"rowHeader")&&(s=r.wtTable.rowFilter.sourceToRendered(n))),s>-1?Nd(e,i(n,o)):(wu(e," "),ue(e,"cornerHeader"))}maximumVisibleElementWidth(e){const i=this._wt.wtViewport.getWorkspaceWidth()-e;return i>0?i:0}maximumVisibleElementHeight(e){const i=this._wt.wtViewport.getWorkspaceHeight()-e;return i>0?i:0}setLastSize(e,n){Po(cR,this,e),Po(uR,this,n)}getLastSize(){return{width:Un(cR,this),height:Un(uR,this)}}getFirstRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedRow(),1):null}getLastRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedRow(),-1):null}getFirstRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedColumn(),1):null}getLastRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedColumn(),-1):null}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Un(lR,this)}getRowHeadersCount(){return Un(jb,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var n;return((n=this._wt.wtOverlays.getParentOverlay(e))!==null&&n!==void 0?n:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}isVisible(){return this._wt.wtTable.isVisible()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function N2(){return parseInt(this.hot.rootElement.getAttribute(HC()[0]),10)}function YTe(t){const e=Xm(Iv,this,N2).call(this)+t;$e(this.hot.rootElement,...HC(e))}function ng(t,e,n){return(e=GTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GTe(t){var e=KTe(t,"string");return typeof e=="symbol"?e:e+""}function KTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qTe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];ng(this,"hot",void 0),ng(this,"data",void 0),ng(this,"dataType","array"),ng(this,"colToProp",()=>{}),ng(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return F(this.data,(i,o)=>{const s=this.getAtCell(o,e);n.push(s)}),n}getAtRow(e,n,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=n===void 0&&i===void 0,{dataDotNotation:r}=this.hot.getSettings();let a=null,l=null;if(a=this.modifyRowData(e),Array.isArray(a))l=[],s?a.forEach((c,u)=>{l[u]=this.getAtPhysicalCell(e,u,a)}):Oe(n,i,c=>{l[c-n]=this.getAtPhysicalCell(e,c,a)});else if(Je(a)||Yt(a))if(o?l=[]:l={},!s||o){const u=this.countFirstRowKeys()-1;Oe(0,u,h=>{const d=this.colToProp(h);if(h>=(n||0)&&h<=(i||u)&&!Number.isInteger(d)){const f=this.getAtPhysicalCell(e,d,a);o?l.push(f):r?JS(l,d,f):l[d]=f}})}else Qe(a,(c,u)=>{const h=this.getAtPhysicalCell(e,u,a);r?JS(l,u,h):l[u]=h});return l}setAtCell(e,n,i){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const o=Rs(i);this.hot.runHooks("modifySourceData",e,n,o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(n)?this.data[e][n]=i:JS(this.data[e],n,i)}}getAtPhysicalCell(e,n,i){let o=null;if(i)if(typeof n=="string"){const{dataDotNotation:s}=this.hot.getSettings();o=s?FQ(i,n):i[n]}else typeof n=="function"?o=n(i):o=i[n];if(this.hot.hasHook("modifySourceData")){const s=Rs(o);this.hot.runHooks("modifySourceData",e,n,s,"get"),s.isTouched()&&(o=s.value)}return o}getAtCell(e,n){const i=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),i)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=!1,s=null,r=null,a=null,l=null;e===null||n===null?(o=!0,s=0,a=this.countRows()-1):(s=Math.min(e.row,n.row),r=Math.min(e.col,n.col),a=Math.max(e.row,n.row),l=Math.max(e.col,n.col));const c=[];return Oe(s,a,u=>{c.push(o?this.getAtRow(u,void 0,void 0,i):this.getAtRow(u,r,l,i))}),c}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return UB(this.data)}destroy(){this.data=null,this.hot=null}}function XTe(t,e){return Qe(e,(n,i)=>{Gt(t[i])&&(t[i]=n)}),t}function D2(t){const n=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:t}function L2(t){Te(t)&&xT(Tt`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function ZTe(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:JTe,getValues:QTe}=Fs("phraseFormatters");function e1e(t,e){JTe(t,e)}function t1e(){return QTe()}e1e("pluralize",ZTe);/**
 * @preserve
 * Authors: Handsoncode
 * Last updated: Nov 15, 2017
 *
 * Description: Definition file for English - United States language-country.
 */const $2={languageCode:"en-US",[OT]:"No available options",[IT]:"Insert row above",[AT]:"Insert row below",[HT]:"Insert column left",[kT]:"Insert column right",[NT]:["Remove row","Remove rows"],[DT]:["Remove column","Remove columns"],[LT]:"Undo",[$T]:"Redo",[iy]:"Read only",[FT]:"Clear column",[QT]:"Alignment",[oy]:"Left",[sy]:"Center",[ry]:"Right",[ay]:"Justify",[ly]:"Top",[cy]:"Middle",[uy]:"Bottom",[zT]:"Freeze column",[YT]:"Unfreeze column",[e1]:"Borders",[t1]:"Top",[n1]:"Right",[i1]:"Bottom",[o1]:"Left",[s1]:"Remove border(s)",[qT]:"Add comment",[XT]:"Edit comment",[ZT]:"Delete comment",[JT]:"Read-only comment",[GT]:"Merge cells",[KT]:"Unmerge cells",[VT]:"Copy",[WT]:["Copy with header","Copy with headers"],[BT]:["Copy with group header","Copy with group headers"],[jT]:["Copy header only","Copy headers only"],[UT]:"Cut",[r1]:"Insert child row",[a1]:"Detach from parent",[l1]:["Hide column","Hide columns"],[c1]:["Show column","Show columns"],[u1]:["Hide row","Hide rows"],[h1]:["Show row","Show rows"],[DC]:"None",[d1]:"Is empty",[f1]:"Is not empty",[g1]:"Is equal to",[m1]:"Is not equal to",[p1]:"Begins with",[w1]:"Ends with",[b1]:"Contains",[v1]:"Does not contain",[y1]:"Greater than",[C1]:"Greater than or equal to",[S1]:"Less than",[_1]:"Less than or equal to",[R1]:"Is between",[x1]:"Is not between",[E1]:"After",[T1]:"Before",[M1]:"Today",[P1]:"Tomorrow",[O1]:"Yesterday",[hy]:"Blank cells",[I1]:"Filter by condition",[A1]:"Filter by value",[H1]:"And",[LC]:"Or",[k1]:"Select all",[N1]:"Clear",[D1]:"OK",[L1]:"Cancel",[$1]:"Search",[F1]:"Value",[V1]:"Second value",[B1]:"Checked",[j1]:"Unchecked"},n1e=Tie,Zx=$2.languageCode,{register:i1e,getItem:F2,hasItem:o1e,getValues:s1e}=Fs("languagesDictionaries");V2($2);function V2(t,e){let n=t,i=e;return Je(t)&&(i=t,n=i.languageCode),r1e(n,i),i1e(n,Ni(i)),Ni(i)}function r1e(t,e){t!==Zx&&XTe(e,F2(Zx))}function W2(t){return dP(t)?Ni(F2(t)):null}function dP(t){return o1e(t)}function a1e(){return s1e()}function B2(t,e,n){const i=W2(t);if(i===null)return null;const o=i[e];if(Gt(o))return null;const s=l1e(o,n);return Array.isArray(s)?s[0]:s}function l1e(t,e){let n=t;return F(t1e(),i=>{n=i(t,e)}),n}function c1e(t){let e=D2(t);return dP(e)||(e=Zx,L2(t)),e}function jc(t,e,n){return(e=u1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1e(t){var e=h1e(t,"string");return typeof e=="symbol"?e:e+""}function h1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kh{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,i){jc(this,"hot",void 0),jc(this,"metaManager",void 0),jc(this,"tableMeta",void 0),jc(this,"dataSource",void 0),jc(this,"duckSchema",void 0),jc(this,"colToPropCache",void 0),jc(this,"propToColCache",void 0),this.hot=e,this.metaManager=i,this.tableMeta=i.getTableMeta(),this.dataSource=n,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let i;if(this.colToPropCache=[],this.propToColCache=new Map,n){let o=0,s=0,r=!1;if(typeof n=="function"){const a=dT(e);o=a>0?a:this.countFirstRowKeys(),r=!0}else{const a=this.tableMeta.maxCols;o=Math.min(a,n.length)}for(i=0;i<o;i++){const a=r?n(i):n[i];if(Je(a)){if(typeof a.data<"u"){const l=r?s:i;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}s+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return UB(this.dataSource)}recursiveDuckColumns(e,n,i){let o=n,s=i,r;return typeof o>"u"&&(o=0,s=""),typeof e=="object"&&!Array.isArray(e)&&Qe(e,(a,l)=>{a===null?(r=s+l,this.colToPropCache.push(r),this.propToColCache.set(r,o),o+=1):o=this.recursiveDuckColumns(a,o,`${l}.`)}),o}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&Te(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(Te(n))return this.hot.toVisualColumn(n);const i=this.hot.toVisualColumn(e);return i===null?e:i}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Pm(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:o="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.hot.countSourceRows();let r=s,a=0,l=e;if((typeof l!="number"||l>=s)&&(l=s),l<this.hot.countRows()&&(r=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,n,i)===!1||r===null)return{delta:0};const u=this.tableMeta.maxRows,h=this.getSchema().length,d=[];for(;a<n&&s+a<u;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=Ni(this.getSchema()):(g=[],Oe(h-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},AC(g,this.getSchema())),d.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),o==="below"&&(r=Math.min(r+1,s)),this.spliceData(r,0,d);const f=this.hot.toVisualRow(r);return this.hot.countSourceRows()===d.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):i!=="auto"&&this.metaManager.createRow(r,n)),this.hot.runHooks("afterCreateRow",f,a,i),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:r}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:o="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const s=this.dataSource,r=this.tableMeta.maxCols,a=this.hot.countSourceCols();let l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,n,i)===!1)return{delta:0};let u=a;l<this.hot.countCols()&&(u=this.hot.toPhysicalColumn(l));const h=this.hot.countSourceRows();let d=this.hot.countCols(),f=0,g=u;o==="end"&&(g=Math.min(g+1,a));const m=g;for(;f<n&&d<r;){if(typeof l!="number"||l>=d)if(h>0)for(let b=0;b<h;b+=1)typeof s[b]>"u"&&(s[b]=[]),s[b].push(null);else s.push([null]);else for(let b=0;b<h;b++)s[b].splice(g,0,null);f+=1,g+=1,d+=1}this.hot.columnIndexMapper.insertIndexes(l,f),f>0&&(e==null?this.metaManager.createColumn(null,f):i!=="auto"&&this.metaManager.createColumn(m,n));const w=this.hot.toVisualColumn(m);return this.hot.runHooks("afterCreateCol",w,f,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:f,startPhysicalIndex:m}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(e)?e:-n;const s=this.visualRowsToPhysical(o,n),r=this.hot.countSourceRows();if(o=(r+o)%r,this.hot.runHooks("beforeRemoveRow",o,s.length,s,i)===!1)return!1;const l=s.length;if(this.filterData(o,l,s),o<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(s);const u=Te(this.tableMeta.columns)||Te(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&u===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return s.slice(0).sort((u,h)=>h-u).forEach(u=>{this.metaManager.removeRow(u,1)}),this.hot.runHooks("afterRemoveRow",o,l,s,i),this.hot.forceFullRender=!0,!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let o=typeof e!="number"?-n:e;o=(this.hot.countCols()+o)%this.hot.countCols();const s=this.visualColumnsToPhysical(o,n),r=s.slice(0).sort((h,d)=>d-h);if(this.hot.runHooks("beforeRemoveCol",o,n,s,i)===!1)return!1;let l=!0;const c=r.length,u=this.dataSource;for(let h=0;h<c;h++)l&&s[0]!==s[h]-h&&(l=!1);if(l)for(let h=0,d=this.hot.countSourceRows();h<d;h++)u[h].splice(s[0],n),h===0&&this.metaManager.removeColumn(s[0],n);else for(let h=0,d=this.hot.countSourceRows();h<d;h++)for(let f=0;f<c;f++)u[h].splice(r[f],1),h===0&&this.metaManager.removeColumn(r[f],1);return o<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(s),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",o,n,s,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,n,i){const o=this.hot.getDataAtCol(e),s=o.slice(n,n+i),r=o.slice(n+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];NI(l,r);let u=0;for(;u<i;)l.push(null),u+=1;return wQ(l),this.hot.populateFromArray(n,e,l,null,null,"spliceCol"),s}spliceRow(e,n,i){const o=this.hot.getSourceDataAtRow(e),s=o.slice(n,n+i),r=o.slice(n+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];NI(l,r);let u=0;for(;u<i;)l.push(null),u+=1;return this.hot.populateFromArray(e,n,[l],null,null,"spliceRow"),s}spliceData(e,n,i){if(this.hot.runHooks("beforeDataSplice",e,n,i)!==!1){const s=[...this.dataSource.slice(0,e),...i,...this.dataSource.slice(e)];this.dataSource.length=0,s.forEach(r=>this.dataSource.push(r))}}filterData(e,n,i){let o=this.hot.runHooks("filterData",e,n,i);Array.isArray(o)===!1&&(o=this.dataSource.filter((s,r)=>i.indexOf(r)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}get(e,n){const i=this.hot.toPhysicalRow(e);let o=this.dataSource[i];const s=this.hot.runHooks("modifyRowData",i);o=isNaN(s)?s:o;const{dataDotNotation:r}=this.hot.getSettings();let a=null;if(o&&o.hasOwnProperty&&pn(o,n))a=o[n];else if(r&&typeof n=="string"&&n.indexOf(".")>-1){let l=o;if(!l)return null;const c=n.split(".");for(let u=0,h=c.length;u<h;u++)if(l=l[c[u]],typeof l>"u")return null;a=l}else typeof n=="function"&&(a=n(this.dataSource.slice(i,i+1)[0]));if(this.hot.hasHook("modifyData")){const l=Rs(a);this.hot.runHooks("modifyData",i,this.propToCol(n),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,i){const o=this.hot.toPhysicalRow(e);let s=i,r=this.dataSource[o];const a=this.hot.runHooks("modifyRowData",o);if(r=isNaN(a)?a:r,this.hot.hasHook("modifyData")){const c=Rs(s);this.hot.runHooks("modifyData",o,this.propToCol(n),c,"set"),c.isTouched()&&(s=c.value)}const{dataDotNotation:l}=this.hot.getSettings();if(r&&r.hasOwnProperty&&pn(r,n))r[n]=s;else if(l&&typeof n=="string"&&n.indexOf(".")>-1){let c=r,u=0,h;const d=n.split(".");for(u=0,h=d.length-1;u<h;u++)typeof c[d[u]]>"u"&&(c[d[u]]={}),c=c[d[u]];c[d[u]]=s}else typeof n=="function"?n(this.dataSource.slice(o,o+1)[0],s):r[n]=s}visualRowsToPhysical(e,n){const i=this.hot.countSourceRows(),o=[];let s=(i+e)%i,r=n,a;for(;s<i&&r;)a=this.hot.toPhysicalRow(s),o.push(a),r-=1,s+=1;return o}visualColumnsToPhysical(e,n){const i=this.hot.countCols(),o=[];let s=(i+e)%i,r=n;for(;s<i&&r;){const a=this.hot.toPhysicalColumn(s);o.push(a),r-=1,s+=1}return o}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,Kh.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,i){const o=[];let s,r,a;const l=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(l===0||c===0)return[];const u=i===Kh.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),d=Math.min(Math.max(c-1,0),Math.max(e.col,n.col));for(s=Math.min(e.row,n.row);s<=h;s++){a=[];const f=s>=0?this.hot.toPhysicalRow(s):s;for(r=Math.min(e.col,n.col);r<=d&&f!==null;r++)a.push(u.call(this,s,this.colToProp(r)));f!==null&&o.push(a)}return o}getText(e,n){return Dg(this.getRange(e,n,Kh.DESTINATION_RENDERER))}getCopyableText(e,n){return Dg(this.getRange(e,n,Kh.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}function d1e(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!pn(e,t)}function dS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const i=typeof e.type=="string"?xoe(e.type):e.type;if(t._automaticallyAssignedMetaProps&&Qe(e,(s,r)=>void t._automaticallyAssignedMetaProps.delete(r)),!Je(i))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const o={};Qe(i,(s,r)=>{if(d1e(r,n)){var a;o[r]=s,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(r)}}),Hn(t,o)}function f1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}Wr(n,t);for(let i=0;i<e.length;i++)n.prototype[e[i]]=void 0;return n}function Av(t){return Number.isInteger(t)&&t>=0}function Hv(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function zb(t){return t==null}const j2=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,i;for(e=0,n=this.countRows();e<n;e++)if(i=this.getDataAtCell(e,t),_n(i)===!1)return!1;return!0},isEmptyRow(t){let e,n,i,o;for(e=0,n=this.countCols();e<n;e++)if(i=this.getDataAtCell(t,e),_n(i)===!1)return typeof i=="object"?(o=this.getCellMeta(t,e),hT(this.getSchema()[o.prop],i)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function TD(t,e,n){return(e=g1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=m1e(t,"string");return typeof e=="symbol"?e:e+""}function m1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p1e(){return class{}}class w1e{constructor(e){TD(this,"metaCtor",p1e()),TD(this,"meta",void 0),this.meta=this.metaCtor.prototype,Hn(this.meta,j2()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;Hn(this.meta,e),dS(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function b1e(t,e,n){return(e=v1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=y1e(t,"string");return typeof e=="symbol"?e:e+""}function y1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C1e{constructor(e){b1e(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){Hn(this.meta,e),dS(this.meta,e,e)}}function Yb(t,e,n){return(e=S1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1e(t){var e=_1e(t,"string");return typeof e=="symbol"?e:e+""}function _1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qy{constructor(e){Yb(this,"valueFactory",void 0),Yb(this,"data",[]),Yb(this,"index",[]),Yb(this,"holes",new Set),this.valueFactory=e}obtain(e){Hv(()=>Av(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let i;if(n>=0)i=this.data[n],i===void 0&&(i=this.valueFactory(e),this.data[n]=i);else if(i=this.valueFactory(e),this.holes.size>0){const o=this.holes.values().next().value;this.holes.delete(o),this.data[o]=i,this.index[e]=o}else this.data.push(i),this.index[e]=this.data.length-1;return i}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Hv(()=>Av(e)||zb(e),"Expecting an unsigned number or null/undefined argument.");const i=[],o=this.data.length;for(let r=0;r<n;r++)i.push(o+r),this.data.push(void 0);const s=zb(e)?this.index.length:e;this.index=[...this.index.slice(0,s),...i,...this.index.slice(s)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Hv(()=>Av(e)||zb(e),"Expecting an unsigned number or null/undefined argument.");const i=this.index.splice(zb(e)?this.index.length-n:e,n);for(let o=0;o<i.length;o++){const s=i[o];typeof s=="number"&&this.holes.add(s)}}size(){return this.data.length-this.holes.size}values(){return Vl(this.data,(e,n)=>!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let i=0;i<this.data.length;i++){const o=this._getKeyByStorageIndex(i);o!==-1&&e.push([o,this.data[i]])}let n=0;return{next:()=>{if(n<e.length){const i=e[n];return n+=1,{value:i,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function MD(t,e,n){return(e=R1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t){var e=x1e(t,"string");return typeof e=="symbol"?e:e+""}function x1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const E1e=["data","width"];class T1e{constructor(e){MD(this,"globalMeta",void 0),MD(this,"metas",new qy(()=>this._createMeta())),this.globalMeta=e,this.metas=new qy(()=>this._createMeta())}updateMeta(e,n){const i=this.getMeta(e);Hn(i,n),dS(i,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return f1e(this.globalMeta.getMetaConstructor(),E1e).prototype}}function PD(t,e,n){return(e=M1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M1e(t){var e=P1e(t,"string");return typeof e=="symbol"?e:e+""}function P1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class O1e{constructor(e){PD(this,"columnMeta",void 0),PD(this,"metas",new qy(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,i){const o=this.getMeta(e,n);Hn(o,i),dS(o,i)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(e,n)}getMeta(e,n,i){const o=this.metas.obtain(e).obtain(n);return i===void 0?o:o[i]}setMeta(e,n,i,o){var s;const r=this.metas.obtain(e).obtain(n);(s=r._automaticallyAssignedMetaProps)===null||s===void 0||s.delete(i),r[i]=o}removeMeta(e,n,i){const o=this.metas.obtain(e).obtain(n);delete o[i]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let i=0;i<n.length;i++)Te(n[i])&&e.push(...n[i].values());return e}getMetasAtRow(e){Hv(()=>Av(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new qy(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class U2{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new w1e(e),this.tableMeta=new C1e(this.globalMeta),this.columnMeta=new T1e(this.globalMeta),this.cellMeta=new O1e(this.columnMeta),i.forEach(o=>new o(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,i){let{visualRow:o,visualColumn:s}=i;const r=this.cellMeta.getMeta(e,n);return r.visualRow=o,r.visualCol=s,r.row=e,r.col=n,this.runLocalHooks("afterGetCellMeta",r),r}getCellMetaKeyValue(e,n,i){if(typeof i!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,i)}setCellMeta(e,n,i,o){this.cellMeta.setMeta(e,n,i,o)}updateCellMeta(e,n,i){this.cellMeta.updateMeta(e,n,i)}removeCellMeta(e,n,i){this.cellMeta.removeMeta(e,n,i)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}kt(U2,ci);function OD(t,e,n,i){const{hotInstance:o,dataMap:s,dataSource:r,internalSource:a,source:l,metaManager:c,firstRun:u}=i,h=Hs(a),d=o.getSettings();Array.isArray(d.dataSchema)?o.dataType="array":Yt(d.dataSchema)?o.dataType="function":o.dataType="object",s&&s.destroy(),t=o.runHooks(`before${h}`,t,u,l);const f=new Kh(o,t,c);if(e(f),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const g=f.getSchema();t=[];let m,w=0,b=0;for(w=0,b=d.startRows;w<b;w++)if((o.dataType==="object"||o.dataType==="function")&&d.dataSchema)m=Ni(g),t.push(m);else if(o.dataType==="array")m=Ni(g[0]),t.push(m);else{m=[];for(let C=0,y=d.startCols;C<y;C++)m.push(null);t.push(m)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(o.dataType="array"),d.data=t,f.dataSource=t,r.data=t,r.dataType=o.dataType,r.colToProp=f.colToProp.bind(f),r.propToCol=f.propToCol.bind(f),r.countCachedColumns=f.countCachedColumns.bind(f),n(f),o.runHooks(`after${h}`,t,u,l),u||(o.runHooks("afterChange",null,a),o.render()),o.getSettings().ariaTags&&$e(o.rootElement,[mV(-1),HC(o.countCols()+(o.view?o.countRowHeaders():0))])}function ID(t,e,n){return(e=I1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I1e(t){var e=A1e(t,"string");return typeof e=="symbol"?e:e+""}function A1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class H1e{constructor(e){ID(this,"metaManager",void 0),ID(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",n=>this.extendCellMeta(n)),Ee.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:i,col:o}=e;if((n=this.metaSyncMemo.get(i))!==null&&n!==void 0&&n.has(o))return;const{visualRow:s,visualCol:r}=e,a=this.metaManager.hot,l=a.colToProp(r);e.prop=l,a.runHooks("beforeGetCellMeta",s,r,e);const c=pn(e,"type")?e.type:null;let u=Yt(e.cells)?e.cells(i,o,l):null;if(c)if(u){var h;u.type=(h=u.type)!==null&&h!==void 0?h:c}else u={type:c};u&&this.metaManager.updateCellMeta(i,o,u),a.runHooks("afterGetCellMeta",s,r,e),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}function k1e(t,e,n){N1e(t,e),e.set(t,n)}function N1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hR(t,e,n){return(e=D1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t){var e=L1e(t,"string");return typeof e=="symbol"?e:e+""}function L1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e){return t.get(F1e(t,e))}function F1e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var AD=new WeakMap;class V1e{constructor(e){hR(this,"metaManager",void 0),hR(this,"usageTracker",new Set),hR(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),k1e(this,AD,(n,i,o)=>{if(!o)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{initOnly:i,target:o,onChange:s}=e,r=typeof o=="string",a=r?o:n,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],s?(this.installPropWatcher(n,l,s),r&&this.installPropWatcher(o,l,s)):i&&(this.installPropWatcher(n,l,$1e(AD,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(n))})}installPropWatcher(e,n,i){const o=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(s){const r=!o.usageTracker.has(e);o.usageTracker.add(e),i.call(o,e,s,r),this[n]=s},enumerable:!0,configurable:!0})}}function W1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,i=HD(t),o=HD(t);return i.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),o.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(i),n.lastChild.after(o),{activate(){t._registerTimeout(()=>{i.tabIndex=0,o.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{i.tabIndex=-1,o.tabIndex=-1},10)}}}function HD(t){const n=t.rootDocument.createElement("input");return n.type="text",n.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&$e(n,[xr(),Nu()]),n}function B1e(t){const e=j1e(t);let n;const{activate:i,deactivate:o}=W1e(t,{onFocusFromTop(){var h;const d=(h=e(n))!==null&&h!==void 0?h:Jx(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_above",d),t.selectCell(d.row,d.col)),t.listen()},onFocusFromBottom(){var h;const d=(h=e(n))!==null&&h!==void 0?h:Qx(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_below",d),t.selectCell(d.row,d.col)),t.listen()}}),s={wrapped:!1,flipped:!1};let r=!0,a=!1,l=!1;t.addHook("afterListen",()=>o()),t.addHook("afterUnlisten",()=>i()),t.addHook("afterSelection",(h,d,f,g,m)=>{if(a&&(s.wrapped&&s.flipped||l)&&(l=!1,m.value=!0),r){var w;n=(w=t.getSelectedRangeLast())===null||w===void 0?void 0:w.highlight}}),t.addHook("beforeRowWrap",(h,d,f)=>{s.wrapped=!0,s.flipped=f});function c(){s.wrapped=!1,s.flipped=!1,t.deselectCell(),t.unlisten()}const u={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:NV,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...u,callback:()=>{const{tabNavigation:h}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!h&&(r=!1),h||(l=!0)},position:"before"},{...u,callback:h=>{const{tabNavigation:d,autoWrapRow:f}=t.getSettings();if(a=!1,r=!0,!d||!t.selection.isSelected()||f&&s.wrapped&&s.flipped||!f&&s.wrapped)return f&&s.wrapped&&s.flipped&&(n=h.shiftKey?Jx(t):Qx(t)),c(),!1;h.preventDefault()},position:"after"}])}function Jx(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:i}=t.getSettings();let o=i&&t.countColHeaders()>0?-t.countColHeaders():0,s=i&&t.countRowHeaders()>0?-t.countRowHeaders():0;return o===0&&(o=e.getVisualFromRenderableIndex(o)),s===0&&(s=n.getVisualFromRenderableIndex(s)),o===null||s===null?null:t._createCellCoords(o,s)}function Qx(t){var e,n;const{rowIndexMapper:i,columnIndexMapper:o}=t,{navigableHeaders:s}=t.getSettings();let r=i.getRenderableIndexesLength()-1,a=o.getRenderableIndexesLength()-1;if(r<0){if(!s||t.countColHeaders()===0)return null;r=-1}if(a<0){if(!s||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=i.getVisualFromRenderableIndex(r))!==null&&e!==void 0?e:r,(n=o.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function j1e(t){return e=>{if(!e)return null;const n=Jx(t),i=Qx(t);return e.col<n.col&&(e.col=n.col),e.col>i.col&&(e.col=i.col),e.row<n.row&&(e.row=n.row),e.row>i.row&&(e.row=i.row),e}}function U1e(t){return e=>{let{col:n}=e;t.scrollViewportTo({col:n})}}function z1e(){return()=>{}}function Y1e(t){return e=>{t.scrollViewportTo(e.toObject())}}function G1e(t){return e=>{t.scrollViewportTo(e.toObject())}}function K1e(t){return e=>{t.scrollViewportTo(e.toObject())}}function q1e(t){return e=>{let{row:n}=e;t.scrollViewportTo({row:n})}}function X1e(t){return e=>{const n=t.selection.getSelectionSource(),{row:i,col:o}=e;if(i<0&&o>=0)t.scrollViewportTo({col:o});else if(o<0&&i>=0)t.scrollViewportTo({row:i});else{if(n==="mouse"&&(o===t.view.getLastPartiallyVisibleColumn()||i===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:i,col:o})}}}function Z1e(t){const{selection:e}=t;let n=!1,i=!1;return{resume(){i=!1},suspend(){i=!0},skipNextScrollCycle(){n=!0},scrollTo(o){var s;if(n||i){n=!1;return}let r;e.isFocusSelectionChanged()?r=Y1e(t):e.isSelectedByCorner()?r=z1e():e.isSelectedByRowHeader()?r=q1e(t):e.isSelectedByColumnHeader()?r=U1e(t):e.getSelectedRange().size()===1&&e.isMultiple()?r=G1e(t):e.getSelectedRange().size()===1&&!e.isMultiple()?r=X1e(t):e.getSelectedRange().size()>1&&(r=K1e(t)),(s=r)===null||s===void 0||s(o)}}}const kD=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),Gb=t=>t.map(e=>{const n=e.toLowerCase();return kD.has(n)?kD.get(n):n}).sort().join("+"),J1e=t=>t.split("+"),ND=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),dR=t=>{let{which:e,key:n}=t;if(ND.has(e))return ND.get(e);const i=String.fromCharCode(e).toLowerCase();return/^[a-z0-9]$/.test(i)?i:n.toLowerCase()},z2=Symbol("shortcut-context");function Y2(t){return Je(t)&&t.__kindOf===z2}const Q1e=t=>{const e=FC({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:l,callback:c,group:u,runOnlyIf:h=()=>!0,captureCtrl:d=!1,preventDefault:f=!0,stopPropagation:g=!1,relativeToGroup:m,position:w,forwardToContext:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Gt(u))throw new Error("You need to define the shortcut's group.");if(Yt(c)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(Tt`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const C={callback:c,group:u,runOnlyIf:h,captureCtrl:d,preventDefault:f,stopPropagation:g};Te(m)&&(C.relativeToGroup=m,C.position=w),Y2(b)&&(C.forwardToContext=b),l.forEach(y=>{const E=Gb(y);if(e.hasItem(E)){const N=e.getItem(E);let D=N.findIndex(B=>B.group===m);D!==-1?w==="before"?D-=1:D+=1:D=N.length,N.splice(D,0,C)}else e.addItem(E,[C])})},i=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(u=>{Qe(c,(h,d)=>{Object.prototype.hasOwnProperty.call(u,d)===!1&&(u[d]=c[d])}),n(u)})},o=l=>{const c=Gb(l);e.removeItem(c)};return{__kindOf:z2,addShortcut:n,addShortcuts:i,getShortcuts:l=>{const c=Gb(l),u=e.getItem(c);return Te(u)?u.slice():[]},hasShortcut:l=>{const c=Gb(l);return e.hasItem(c)},removeShortcutsByKeys:o,removeShortcutsByGroup:l=>{e.getItems().forEach(u=>{let[h,d]=u;const f=d.filter(g=>g.group!==l);f.length===0?o(J1e(h)):(d.length=0,d.push(...f))})}}};function eMe(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const tMe=["meta","alt","shift","control"],ig=eMe(),og=[];let Kb=0;function nMe(t,e,n,i,o){const s=f=>tMe.includes(f),r=function(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const m=[];return f.altKey&&m.push("alt"),g&&(f.ctrlKey||f.metaKey)?m.push("control/meta"):(f.ctrlKey&&m.push("control"),f.metaKey&&m.push("meta")),f.shiftKey&&m.push("shift"),m},a=f=>{if(e(f)===!1)return;const g=n(f);if(f.keyCode===229||g===!1||Xc(f))return;const m=dR(f);let w=[];s(m)||(w=r(f));const b=[m].concat(w);!o(f,b)&&(JR()&&w.includes("meta")||!JR()&&w.includes("control"))&&o(f,[m].concat(r(f,!0))),i(f)},l=f=>{if(f.key){const g=dR(f);s(g)&&ig.press(g)}},c=f=>{if(f.key){const g=dR(f);s(g)&&ig.release(g)}},u=()=>{ig.releaseAll()};return{mount:()=>{let f=t;for(Kb+=1;f;)Kb===1&&(f.document.documentElement.addEventListener("keydown",l),og.push({event:"keydown",listener:l}),f.document.documentElement.addEventListener("keyup",c),og.push({event:"keyup",listener:c})),f.document.documentElement.addEventListener("keydown",a),f.document.documentElement.addEventListener("blur",u),f=wd(f)},unmount:()=>{let f=t;for(Kb-=1;f;){if(Kb===0){for(let g=0;g<og.length;g++){const{event:m,listener:w}=og[g];f.document.documentElement.removeEventListener(m,w)}og.length=0}f.document.documentElement.removeEventListener("keydown",a),f.document.documentElement.removeEventListener("blur",u),f=wd(f)}},isPressed:f=>ig.isPressed(f),releasePressedKeys:()=>ig.releaseAll()}}const iMe=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:i,afterKeyDown:o}=t;const s=FC({errorIdExists:g=>`The "${g}" context name is already registered.`});let r="grid";const a=g=>{const m=Q1e(g);return s.addItem(g,m),m},l=()=>r,c=g=>s.getItem(g),u=g=>{if(!s.hasItem(g))throw new Error(Tt`You've tried to activate the "${g}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);r=g};let h=!1;const d=function(g,m){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const b=Y2(w)?w:c(w);let C=!1;if(!b.hasShortcut(m))return C;const y=b.getShortcuts(m);for(let E=0;E<y.length;E++){const{callback:T,runOnlyIf:N,preventDefault:D,stopPropagation:B,captureCtrl:K,forwardToContext:q}=y[E];if(N(g)===!0){if(h=K,C=T(g,m)===!1,h=!1,D&&g.preventDefault(),B&&($s(g),g.stopPropagation()),C)break;q&&d(g,m,q)}}return C},f=nMe(e,n,i,o,d);return f.mount(),{addContext:a,getActiveContextName:l,getContext:c,setActiveContextName:u,isCtrlPressed:()=>!h&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}};let fR=null;const gR=new Map;function G2(t,e){var n,i=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this;const r=new ks(s);let a,l,c,u,h,d,f=!0;WTe(o)&&VTe(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const g=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",m=["rtl","ltr"].includes(g)?g:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",m),this.isRtl=function(){return m==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1},e.language=c1e(e.language);const w=new U2(s,e,[H1e,V1e]),b=w.getTableMeta(),C=w.getGlobalMeta(),y=FC();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),Ov(this)&&CQ(e.licenseKey,t),this.guid=`ht_${cV()}`,gR.set(this.guid,this),this.columnIndexMapper=new cx,this.rowIndexMapper=new cx,this.columnIndexMapper.addLocalHook("indexesSequenceChange",p=>{s.runHooks("afterColumnSequenceChange",p)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",p=>{s.runHooks("afterRowSequenceChange",p)}),l=new qTe(s),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const E=p=>{const{row:v,col:x}=p;return s._createCellCoords(v>=0?s.rowIndexMapper.getRenderableFromVisualIndex(v):v,x>=0?s.columnIndexMapper.getRenderableFromVisualIndex(x):x)},T=p=>{const{row:v,col:x}=p;return s._createCellCoords(v>=0?s.rowIndexMapper.getVisualFromRenderableIndex(v):v,x>=0?s.columnIndexMapper.getVisualFromRenderableIndex(x):x)},N=(p,v)=>{const x=v>p?1:-1,A=Math.min(p,v),V=Math.max(p,v),Y=s.rowIndexMapper.getNearestNotHiddenIndex(p,x);return Y===null||x===1&&Y>V||x===-1&&Y<A?null:Y>=0?s.rowIndexMapper.getRenderableFromVisualIndex(Y):Y},D=(p,v)=>{const x=v>p?1:-1,A=Math.min(p,v),V=Math.max(p,v),Y=s.columnIndexMapper.getNearestNotHiddenIndex(p,x);return Y===null||x===1&&Y>V||x===-1&&Y<A?null:Y>=0?s.columnIndexMapper.getRenderableFromVisualIndex(Y):Y};let B=new SB(b,{rowIndexMapper:s.rowIndexMapper,columnIndexMapper:s.columnIndexMapper,countCols:()=>s.countCols(),countRows:()=>s.countRows(),propToCol:p=>a.propToCol(p),isEditorOpened:()=>s.getActiveEditor()?s.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return i.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return i.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>s.getShortcutManager(),createCellCoords:(p,v)=>s._createCellCoords(p,v),createCellRange:(p,v,x)=>s._createCellRange(p,v,x),visualToRenderableCoords:E,renderableToVisualCoords:T,findFirstNonHiddenRenderableRow:N,findFirstNonHiddenRenderableColumn:D,isDisabledCellSelection:(p,v)=>p<0||v<0?s.getSettings().disableVisualSelection:s.getCellMeta(p,v).disableVisualSelection});this.selection=B;const K=p=>{let{hiddenIndexesChanged:v}=p;v&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",K),this.rowIndexMapper.addLocalHook("cacheUpdated",K),this.selection.addLocalHook("afterSetRangeEnd",(p,v)=>{const x=Rs(!1),A=this.selection.getSelectedRange(),{from:V,to:Y}=A.current(),I=A.size()-1;this.runHooks("afterSelection",V.row,V.col,Y.row,Y.col,x,I),this.runHooks("afterSelectionByProp",V.row,s.colToProp(V.col),Y.row,s.colToProp(Y.col),x,I),v&&(!x.isTouched()||x.isTouched()&&!x.value)&&d.scrollTo(p);const G=B.isSelectedByRowHeader(),Q=B.isSelectedByColumnHeader();G&&Q?ue(this.rootElement,["ht__selection--rows","ht__selection--columns"]):G?(je(this.rootElement,"ht__selection--columns"),ue(this.rootElement,"ht__selection--rows")):Q?(je(this.rootElement,"ht__selection--rows"),ue(this.rootElement,"ht__selection--columns")):je(this.rootElement,["ht__selection--rows","ht__selection--columns"]),B.getSelectionSource()!=="shift"&&u.closeEditor(null),s.view.render(),u.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",p=>{this.runHooks("beforeSelectionFocusSet",p.row,p.col)}),this.selection.addLocalHook("afterSetFocus",p=>{const v=Rs(!1);this.runHooks("afterSelectionFocusSet",p.row,p.col,v),(!v.isTouched()||v.isTouched()&&!v.value)&&d.scrollTo(p),u.closeEditor(),s.view.render(),u.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",p=>{const v=p.length-1,{from:x,to:A}=p[v];this.runHooks("afterSelectionEnd",x.row,x.col,A.row,A.col,v),this.runHooks("afterSelectionEndByProp",x.row,s.colToProp(x.col),A.row,s.colToProp(A.col),v)}),this.selection.addLocalHook("afterIsMultipleSelection",p=>{const v=this.runHooks("afterIsMultipleSelection",p.value);p.value&&(p.value=v)}),this.selection.addLocalHook("afterDeselect",()=>{u.closeEditor(),s.view.render(),je(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeSetRangeStart",...v)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeSetRangeStartOnly",...v)}).addLocalHook("beforeSetRangeEnd",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeSetRangeEnd",...v)}).addLocalHook("beforeSelectColumns",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeSelectColumns",...v)}).addLocalHook("afterSelectColumns",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("afterSelectColumns",...v)}).addLocalHook("beforeSelectRows",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeSelectRows",...v)}).addLocalHook("afterSelectRows",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("afterSelectRows",...v)}).addLocalHook("beforeModifyTransformStart",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("modifyTransformStart",...v)}).addLocalHook("afterModifyTransformStart",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("afterModifyTransformStart",...v)}).addLocalHook("beforeModifyTransformFocus",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("modifyTransformFocus",...v)}).addLocalHook("afterModifyTransformFocus",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("afterModifyTransformFocus",...v)}).addLocalHook("beforeModifyTransformEnd",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("modifyTransformEnd",...v)}).addLocalHook("afterModifyTransformEnd",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("afterModifyTransformEnd",...v)}).addLocalHook("beforeRowWrap",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeRowWrap",...v)}).addLocalHook("beforeColumnWrap",function(){for(var p=arguments.length,v=new Array(p),x=0;x<p;x++)v[x]=arguments[x];return i.runHooks("beforeColumnWrap",...v)}).addLocalHook("insertRowRequire",p=>this.alter("insert_row_above",p,1,"auto")).addLocalHook("insertColRequire",p=>this.alter("insert_col_start",p,1,"auto")),c={alter(p,v){var x,A;let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Y=arguments.length>3?arguments[3]:void 0,I=arguments.length>4?arguments[4]:void 0;const G=Q=>{if(Q.length===0)return[];const ie=[...Q];return ie.sort((Re,P)=>{let[R]=Re,[z]=P;return R===z?0:R>z?1:-1}),Li(ie,(Re,P)=>{let[R,z]=P;const te=Re[Re.length-1],[Z,ne]=te,oe=Z+ne;if(R<=oe){const S=Math.max(z-(oe-R),0);te[1]+=S}else Re.push([R,z]);return Re},[ie[0]])};switch(p){case"insert_row_below":case"insert_row_above":const Q=s.countSourceRows();if(b.maxRows===Q)return;const ie=p==="insert_row_below"?"below":"above";v=(x=v)!==null&&x!==void 0?x:ie==="below"?Q:0;const{delta:se,startPhysicalIndex:Re}=a.createRow(v,V,{source:Y,mode:ie});B.shiftRows(s.toVisualRow(Re),se);break;case"insert_col_start":case"insert_col_end":const P=p==="insert_col_end"?"end":"start";v=(A=v)!==null&&A!==void 0?A:P==="end"?s.countSourceCols():0;const{delta:R,startPhysicalIndex:z}=a.createCol(v,V,{source:Y,mode:P});if(R){if(Array.isArray(b.colHeaders)){const ne=[s.toVisualColumn(z),0];ne.length+=R,Array.prototype.splice.apply(b.colHeaders,ne)}B.shiftColumns(s.toVisualColumn(z),R)}break;case"remove_row":const te=ne=>{let oe=0;F(ne,S=>{let[_,M]=S;const L=_n(_)?s.countRows()-1:Math.max(_-oe,0);if(Number.isInteger(_)&&(_=Math.max(_-oe,0)),!a.removeRow(_,M,Y))return;if(B.isSelected()){const{row:j}=s.getSelectedRangeLast().highlight;j>=_&&j<=_+M-1&&u.closeEditor(!0)}const $=s.countRows();$===0?B.deselect():Y==="ContextMenu.removeRow"?B.refresh():B.shiftRows(_,-M);const H=b.fixedRowsTop;H>=L+1&&(b.fixedRowsTop-=Math.min(M,H-L));const k=b.fixedRowsBottom;k&&L>=$-k&&(b.fixedRowsBottom-=Math.min(M,k)),oe+=M})};Array.isArray(v)?te(G(v)):te([[v,V]]);break;case"remove_col":const Z=ne=>{let oe=0;F(ne,S=>{let[_,M]=S;const L=_n(_)?s.countCols()-1:Math.max(_-oe,0);let O=s.toPhysicalColumn(L);if(Number.isInteger(_)&&(_=Math.max(_-oe,0)),!a.removeCol(_,M,Y))return;if(B.isSelected()){const{col:j}=s.getSelectedRangeLast().highlight;j>=_&&j<=_+M-1&&u.closeEditor(!0)}s.countCols()===0?B.deselect():Y==="ContextMenu.removeColumn"?B.refresh():B.shiftColumns(_,-M);const k=b.fixedColumnsStart;k>=L+1&&(b.fixedColumnsStart-=Math.min(M,k-L)),Array.isArray(b.colHeaders)&&(typeof O>"u"&&(O=-1),b.colHeaders.splice(O,M)),oe+=M})};Array.isArray(v)?Z(G(v)):Z([[v,V]]);break;default:throw new Error(`There is no such action "${p}"`)}s.view.render(),I||c.adjustRowsAndCols()},adjustRowsAndCols(){const p=b.minRows,v=b.minSpareRows,x=b.minCols,A=b.minSpareCols;if(p){const V=s.countRows();V<p&&a.createRow(V,p-V,{source:"auto"})}if(v){const V=s.countEmptyRows(!0);if(V<v){const Y=v-V,I=Math.min(Y,b.maxRows-s.countSourceRows());a.createRow(s.countRows(),I,{source:"auto"})}}{let V;(x||A)&&(V=s.countEmptyCols(!0));let Y=s.countCols();if(x&&!b.columns&&Y<x){const I=x-Y;V+=I,a.createCol(Y,I,{source:"auto"})}if(A&&!b.columns&&s.dataType==="array"&&V<A){Y=s.countCols();const I=A-V,G=Math.min(I,b.maxCols-Y);a.createCol(Y,G,{source:"auto"})}}s.view&&s.view.adjustElementsSize()},populateFromArray(p,v,x,A,V){let Y,I,G,Q;const ie=[],se={},Re=[],P=p.row,R=p.col;if(I=v.length,I===0)return!1;let z=0,te=0;switch(Je(x)&&(z=x.col-R+1,te=x.row-P+1),V){case"shift_down":const Z=av(v),ne=Z.length,oe=Math.max(ne,z),S=s.getData().slice(P),_=av(S).slice(R,R+oe);for(G=0;G<oe;G+=1)if(G<ne){for(Y=0,I=Z[G].length;Y<te-I;Y+=1)Z[G].push(Z[G][Y%I]);G<_.length?Re.push(Z[G].concat(_[G])):Re.push(Z[G].concat(new Array(S.length).fill(null)))}else Re.push(Z[G%ne].concat(_[G]));s.populateFromArray(P,R,av(Re));break;case"shift_right":const M=v.length,L=Math.max(M,te),O=s.getData().slice(P).map(be=>be.slice(R));for(Y=0;Y<L;Y+=1)if(Y<M){for(G=0,Q=v[Y].length;G<z-Q;G+=1)v[Y].push(v[Y][G%Q]);if(Y<O.length)for(let be=0;be<O[Y].length;be+=1)v[Y].push(O[Y][be]);else v[Y].push(...new Array(O[0].length).fill(null))}else v.push(v[Y%I].slice(0,L).concat(O[Y]));s.populateFromArray(P,R,v);break;case"overwrite":default:se.row=p.row,se.col=p.col;let $=0,H=0,k=!0,j;const W=function(xe){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const it=v[xe%v.length];return Be!==null?it[Be%it.length]:it},X=v.length,he=x?x.row-p.row+1:0;for(x?I=he:I=Math.max(X,he),Y=0;Y<I&&!(x&&se.row>x.row&&he>X||!b.allowInsertRow&&se.row>s.countRows()-1||se.row>=b.maxRows);Y++){const be=Y-$,xe=W(be).length,Be=x?x.col-p.col+1:0;if(x?Q=Be:Q=Math.max(xe,Be),se.col=p.col,j=s.getCellMeta(se.row,se.col),(A==="CopyPaste.paste"||A==="Autofill.fill")&&j.skipRowOnPaste){$+=1,se.row+=1,I+=1;continue}for(H=0,G=0;G<Q&&!(x&&se.col>x.col&&Be>xe||!b.allowInsertColumn&&se.col>s.countCols()-1||se.col>=b.maxCols);G++){if(j=s.getCellMeta(se.row,se.col),(A==="CopyPaste.paste"||A==="Autofill.fill")&&j.skipColumnOnPaste){H+=1,se.col+=1,Q+=1;continue}if(j.readOnly&&A!=="UndoRedo.undo"){se.col+=1;continue}const it=G-H;let Le=W(be,it),Ie=s.getDataAtCell(se.row,se.col);if(Le!==null&&typeof Le=="object")if(Array.isArray(Le)&&Ie===null&&(Ie=[]),Ie===null||typeof Ie!="object")k=!1;else{const st=Pm(Array.isArray(Ie)?Ie:Ie[0]||Ie),cn=Pm(Array.isArray(Le)?Le:Le[0]||Le);hT(st,cn)||Array.isArray(st)&&Array.isArray(cn)?Le=Ni(Le):k=!1}else Ie!==null&&typeof Ie=="object"&&(k=!1);k&&ie.push([se.row,se.col,Le]),k=!0,se.col+=1}se.row+=1}s.setDataAtCell(ie,null,null,A||"populateFromArray");break}}};function q(p){const v=D2(p);dP(v)?(s.runHooks("beforeLanguageChange",v),C.language=v,s.runHooks("afterLanguageChange",v)):L2(p)}function J(p,v){const x=p==="className"?s.rootElement:s.table;if(f)ue(x,v);else{let A=[],V=[];C[p]&&(A=Array.isArray(C[p])?C[p]:LI(C[p])),v&&(V=Array.isArray(v)?v:LI(v));const Y=DI(A,V),I=DI(V,A);Y.length&&je(x,Y),I.length&&ue(x,I)}C[p]=v}this.init=function(){l.setData(b.data),s.runHooks("beforeInit"),(xl()||HV())&&ue(s.rootElement,"mobile"),this.updateSettings(b,!0),this.view=new zTe(this),u=Xx.getInstance(s,b,B),d=Z1e(s),h=new LTe(s),Ov(this)&&B1e(s),s.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&s.rootElement.offsetParent===null&&Xee(s.rootElement,()=>{s.view._wt.wtOverlays.updateLastSpreaderSize(),s.render(),s.view.adjustElementsSize()}),typeof f=="object"&&(s.runHooks("afterChange",f[0],f[1]),f=!1),s.runHooks("afterInit")};function ee(){let p=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,p=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&p===!1&&(p=!0,this.onQueueEmpty(this.valid))}}}function re(p){const v=p.replace(",",".");return isNaN(parseFloat(v))===!1?parseFloat(v):p}function me(p,v,x){if(!p.length){x();return}const A=s.getActiveEditor(),V=new ee;let Y=!0;V.onQueueEmpty=()=>{A&&Y&&A.cancelChanges(),x()};for(let I=p.length-1;I>=0;I--){const[G,Q,,ie]=p[I],se=a.propToCol(Q);let Re;Number.isInteger(se)?Re=s.getCellMeta(G,se):Re={...Object.getPrototypeOf(b),...b},Re.type==="numeric"&&typeof ie=="string"&&gte(ie)&&(p[I][3]=re(ie)),s.getCellValidator(Re)&&(V.addValidatorToQueue(),s.validateCell(p[I][3],Re,function(P,R){return function(z){if(typeof z!="boolean")throw new Error("Validation error: result is not boolean");z===!1&&R.allowInvalid===!1&&(Y=!1,p.splice(P,1),R.valid=!0),V.removeValidatorFormQueue()}}(I,Re),v))}V.checkIfQueueIsEmpty()}function pe(p,v){for(let A=p.length-1;A>=0;A--){let V=!1;if(p[A]===null){p.splice(A,1);continue}if(!((p[A][2]===null||p[A][2]===void 0)&&(p[A][3]===null||p[A][3]===void 0))){if(b.allowInsertRow)for(;p[A][0]>s.countRows()-1;){const{delta:Y}=a.createRow(void 0,void 0,{source:v});if(Y===0){V=!0;break}}if(s.dataType==="array"&&(!b.columns||b.columns.length===0)&&b.allowInsertColumn)for(;a.propToCol(p[A][1])>s.countCols()-1;){const{delta:Y}=a.createCol(void 0,void 0,{source:v});if(Y===0){V=!0;break}}V||a.set(p[A][0],p[A][1],p[A][3])}}const x=p.length>0;if(s.forceFullRender=!0,x){c.adjustRowsAndCols(),s.runHooks("beforeChangeRender",p,v),u.closeEditor(),s.view.render(),u.prepareEditor(),s.view.adjustElementsSize(),s.runHooks("afterChange",p,v||"edit");const A=s.getActiveEditor();A&&Te(A.refreshValue)&&A.refreshValue()}else s.view.render()}this._createCellCoords=function(p,v){return s.view._wt.createCellCoords(p,v)},this._createCellRange=function(p,v,x){return s.view._wt.createCellRange(p,v,x)},this.validateCell=function(p,v,x,A){let V=s.getCellValidator(v);function Y(I){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||v.hidden===!0){x(I);return}const Q=v.visualCol,ie=v.visualRow,se=s.getCell(ie,Q,!0);if(se&&se.nodeName!=="TH"){const Re=s.rowIndexMapper.getRenderableFromVisualIndex(ie),P=s.columnIndexMapper.getRenderableFromVisualIndex(Q);s.view._wt.getSetting("cellRenderer",Re,P,se)}x(I)}bQ(V)&&(V=function(I){return function(G,Q){Q(I.test(G))}}(V)),Yt(V)?(p=s.runHooks("beforeValidate",p,v.visualRow,v.prop,A),s._registerImmediate(()=>{V.call(v,p,I=>{s&&(I=s.runHooks("afterValidate",I,p,v.visualRow,v.prop,A),v.valid=I,Y(I),s.runHooks("postAfterValidate",I,p,v.visualRow,v.prop,A))})})):s._registerImmediate(()=>{v.valid=!0,Y(v.valid,!1)})};function ye(p,v,x){return Array.isArray(p)?p:[[p,v,x]]}function de(p,v){const x=s.getActiveEditor(),A=s.runHooks("beforeChange",p,v||"edit"),V=p.filter(Y=>Y!==null);return A===!1||V.length===0?(x&&x.cancelChanges(),[]):V}this.setDataAtCell=function(p,v,x,A){const V=ye(p,v,x),Y=[];let I=A,G,Q,ie;for(G=0,Q=V.length;G<Q;G++){if(typeof V[G]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof V[G][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");V[G][1]>=this.countCols()?ie=V[G][1]:ie=a.colToProp(V[G][1]),Y.push([V[G][0],ie,l.getAtCell(this.toPhysicalRow(V[G][0]),V[G][1]),V[G][2]])}!I&&typeof p=="object"&&(I=v);const se=de(Y,A);s.runHooks("afterSetDataAtCell",se,I),me(se,I,()=>{pe(se,I)})},this.setDataAtRowProp=function(p,v,x,A){const V=ye(p,v,x),Y=[];let I=A,G,Q;for(G=0,Q=V.length;G<Q;G++)Y.push([V[G][0],V[G][1],l.getAtCell(this.toPhysicalRow(V[G][0]),V[G][1]),V[G][2]]);!I&&typeof p=="object"&&(I=v);const ie=de(Y,A);s.runHooks("afterSetDataAtRowProp",ie,I),me(ie,I,()=>{pe(ie,I)})},this.listen=function(){s&&!s.isListening()&&(gR.forEach(p=>{s!==p&&p.unlisten()}),fR=s.guid,s.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(fR=null,s.runHooks("afterUnlisten"))},this.isListening=function(){return fR===s.guid},this.destroyEditor=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;u.closeEditor(p),s.view.render(),v&&B.isSelected()&&u.prepareEditor()},this.populateFromArray=function(p,v,x,A,V,Y,I){if(!(typeof x=="object"&&typeof x[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const G=typeof A=="number"?s._createCellCoords(A,V):null;return c.populateFromArray(s._createCellCoords(p,v),x,G,Y,I)},this.spliceCol=function(p,v,x){for(var A=arguments.length,V=new Array(A>3?A-3:0),Y=3;Y<A;Y++)V[Y-3]=arguments[Y];return a.spliceCol(p,v,x,...V)},this.spliceRow=function(p,v,x){for(var A=arguments.length,V=new Array(A>3?A-3:0),Y=3;Y<A;Y++)V[Y-3]=arguments[Y];return a.spliceRow(p,v,x,...V)},this.getSelected=function(){if(B.isSelected())return at(B.getSelectedRange(),p=>{let{from:v,to:x}=p;return[v.row,v.col,x.row,x.col]})},this.getSelectedLast=function(){const p=this.getSelected();let v;return p&&p.length>0&&(v=p[p.length-1]),v},this.getSelectedRange=function(){if(B.isSelected())return Array.from(B.getSelectedRange())},this.getSelectedRangeLast=function(){const p=this.getSelectedRange();let v;return p&&p.length>0&&(v=p[p.length-1]),v},this.emptySelectedCells=function(p){if(!B.isSelected()||this.countRows()===0||this.countCols()===0)return;const v=[];F(B.getSelectedRange(),x=>{if(x.isSingleHeader())return;const A=x.getTopStartCorner(),V=x.getBottomEndCorner();Oe(A.row,V.row,Y=>{Oe(A.col,V.col,I=>{this.getCellMeta(Y,I).readOnly||v.push([Y,I,null])})})}),v.length>0&&this.setDataAtCell(v,p)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const p=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(p,0),!this.isRenderSuspended()&&p===this.renderSuspendedCounter&&(this.renderCall?this.render():s.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||s.view.render())},this.batchRender=function(p){this.suspendRender();const v=p();return this.resumeRender(),v},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const v=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(v,0),(!this.isExecutionSuspended()&&v===this.executionSuspendedCounter||p)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const x=p();return this.resumeExecution(v),x},this.batch=function(p){this.suspendRender(),this.suspendExecution();const v=p();return this.resumeExecution(),this.resumeRender(),v},this.refreshDimensions=function(){if(!s.view)return;const{width:p,height:v}=s.view.getLastSize(),{width:x,height:A}=s.rootElement.getBoundingClientRect(),V=x!==p||A!==v;s.runHooks("beforeRefreshDimensions",{width:p,height:v},{width:x,height:A},V)!==!1&&((V||s.view._wt.wtOverlays.scrollableElement===s.rootWindow)&&(s.view.setLastSize(x,A),s.render()),s.runHooks("afterRefreshDimensions",{width:p,height:v},{width:x,height:A},V))},this.updateData=function(p,v){OD(p,x=>{a=x},x=>{a=x,s.columnIndexMapper.fitToLength(this.getInitialColumnCount()),s.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols(),B.refresh()},{hotInstance:s,dataMap:a,dataSource:l,internalSource:"updateData",source:v,metaManager:w,firstRun:f})},this.loadData=function(p,v){OD(p,x=>{a=x},()=>{w.clearCellsCache(),s.initIndexMappers(),c.adjustRowsAndCols(),B.refresh(),f&&(f=[null,"loadData"])},{hotInstance:s,dataMap:a,dataSource:l,internalSource:"loadData",source:v,metaManager:w,firstRun:f})},this.getInitialColumnCount=function(){const p=b.columns;let v=0;if(Array.isArray(p))v=p.length;else if(Yt(p))if(s.dataType==="array"){const x=this.countSourceCols();for(let A=0;A<x;A+=1)p(A)&&(v+=1)}else(s.dataType==="object"||s.dataType==="function")&&(v=a.colToPropCache.length);else if(Te(b.dataSchema)){const x=a.getSchema();v=Array.isArray(x)?x.length:dT(x)}else v=this.countSourceCols();return v},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(p,v,x,A){return Gt(p)?a.getAll():a.getRange(s._createCellCoords(p,v),s._createCellCoords(x,A),a.DESTINATION_RENDERER)},this.getCopyableText=function(p,v,x,A){return a.getCopyableText(s._createCellCoords(p,v),s._createCellCoords(x,A))},this.getCopyableData=function(p,v){return a.getCopyable(p,a.colToProp(v))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const x=(f?s.loadData:s.updateData).bind(this);let A=!1,V,Y;if(Te(p.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Te(p.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Te(p.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(V in p)V==="data"||(V==="language"?q(p.language):V==="className"?J("className",p.className):V==="tableClassName"&&s.table?(J("tableClassName",p.tableClassName),s.view._wt.wtOverlays.syncOverlayTableClassNames()):Ee.getSingleton().isRegistered(V)||Ee.getSingleton().isDeprecated(V)?(Yt(p[V])||Array.isArray(p[V]))&&(p[V].initialHook=!0,s.addHook(V,p[V])):!v&&pn(p,V)&&(C[V]=p[V]));p.data===void 0&&b.data===void 0?x(null,"updateSettings"):p.data!==void 0?x(p.data,"updateSettings"):p.columns!==void 0&&(a.createMap(),s.initIndexMappers());const I=s.countCols(),G=b.columns;if(G&&Yt(G)&&(A=!0),(p.cell!==void 0||p.cells!==void 0||p.columns!==void 0)&&w.clearCache(),I>0)for(V=0,Y=0;V<I;V++){if(G){const se=A?G(V):G[Y];se&&w.updateColumnMeta(Y,se)}Y+=1}Te(p.cell)&&Qe(p.cell,se=>{s.setCellMetaObject(se.row,se.col,se)}),s.runHooks("afterCellMetaReset");let Q=s.rootElement.style.height;Q!==""&&(Q=parseInt(s.rootElement.style.height,10));let ie=p.height;if(Yt(ie)&&(ie=ie()),v&&s.rootElement.getAttribute("style")&&s.rootElement.setAttribute("data-initialstyle",s.rootElement.getAttribute("style")),ie===null){const se=s.rootElement.getAttribute("data-initialstyle");se&&(se.indexOf("height")>-1||se.indexOf("overflow")>-1)?s.rootElement.setAttribute("style",se):(s.rootElement.style.height="",s.rootElement.style.overflow="")}else ie!==void 0&&(s.rootElement.style.height=isNaN(ie)?`${ie}`:`${ie}px`,s.rootElement.style.overflow="hidden");if(typeof p.width<"u"){let se=p.width;Yt(se)&&(se=se()),s.rootElement.style.width=isNaN(se)?`${se}`:`${se}px`}v||(s.view&&(s.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),s.view._wt.exportSettingsAsClassNames()),s.runHooks("afterUpdateSettings",p)),c.adjustRowsAndCols(),s.view&&!f&&(s.forceFullRender=!0,s.view.render(),s.view._wt.wtOverlays.adjustElementsSize()),!v&&s.view&&(Q===""||ie===""||ie===void 0)&&Q!==ie&&s.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const p=s.getSelectedLast();if(b.getValue){if(Yt(b.getValue))return b.getValue.call(s);if(p)return s.getData()[p[0][0]][b.getValue]}else if(p)return s.getDataAtCell(p[0],p[1])},this.getSettings=function(){return b},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(p,v,x,A,V){c.alter(p,v,x,A,V)},this.getCell=function(p,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=v,V=p;if(v>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(v)))return null;A=this.columnIndexMapper.getRenderableFromVisualIndex(v)}if(p>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(p)))return null;V=this.rowIndexMapper.getRenderableFromVisualIndex(p)}return V===null||A===null||V===void 0||A===void 0?null:s.view.getCellAtCoords(s._createCellCoords(V,A),x)},this.getCoords=function(p){const v=this.view._wt.wtTable.getCoords(p);if(v===null)return null;const{row:x,col:A}=v;let V=x,Y=A;return x>=0&&(V=this.rowIndexMapper.getVisualFromRenderableIndex(x)),A>=0&&(Y=this.columnIndexMapper.getVisualFromRenderableIndex(A)),s._createCellCoords(V,Y)},this.colToProp=function(p){return a.colToProp(p)},this.propToCol=function(p){return a.propToCol(p)},this.toVisualRow=p=>this.rowIndexMapper.getVisualFromPhysicalIndex(p),this.toVisualColumn=p=>this.columnIndexMapper.getVisualFromPhysicalIndex(p),this.toPhysicalRow=p=>this.rowIndexMapper.getPhysicalFromVisualIndex(p),this.toPhysicalColumn=p=>this.columnIndexMapper.getPhysicalFromVisualIndex(p),this.getDataAtCell=function(p,v){return a.get(p,a.colToProp(v))},this.getDataAtRowProp=function(p,v){return a.get(p,v)},this.getDataAtCol=function(p){const v=[],x=a.getRange(s._createCellCoords(0,p),s._createCellCoords(b.data.length-1,p),a.DESTINATION_RENDERER);for(let A=0;A<x.length;A+=1)for(let V=0;V<x[A].length;V+=1)v.push(x[A][V]);return v},this.getDataAtProp=function(p){const v=[],x=a.getRange(s._createCellCoords(0,a.propToCol(p)),s._createCellCoords(b.data.length-1,a.propToCol(p)),a.DESTINATION_RENDERER);for(let A=0;A<x.length;A+=1)for(let V=0;V<x[A].length;V+=1)v.push(x[A][V]);return v},this.getSourceData=function(p,v,x,A){let V;return p===void 0?V=l.getData():V=l.getByRange(s._createCellCoords(p,v),s._createCellCoords(x,A)),V},this.getSourceDataArray=function(p,v,x,A){let V;return p===void 0?V=l.getData(!0):V=l.getByRange(s._createCellCoords(p,v),s._createCellCoords(x,A),!0),V},this.getSourceDataAtCol=function(p){return l.getAtColumn(p)},this.setSourceDataAtCell=function(p,v,x,A){const V=ye(p,v,x),Y=this.hasHook("afterSetSourceDataAtCell"),I=[];Y&&F(V,Q=>{let[ie,se,Re]=Q;I.push([ie,se,l.getAtCell(ie,se),Re])}),F(V,Q=>{let[ie,se,Re]=Q;l.setAtCell(ie,se,Re)}),Y&&this.runHooks("afterSetSourceDataAtCell",I,A),this.render();const G=s.getActiveEditor();G&&Te(G.refreshValue)&&G.refreshValue()},this.getSourceDataAtRow=function(p){return l.getAtRow(p)},this.getSourceDataAtCell=function(p,v){return l.getAtCell(p,v)},this.getDataAtRow=function(p){return a.getRange(s._createCellCoords(p,0),s._createCellCoords(p,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(p,v,x,A){const V=p===void 0?[0,0,this.countRows(),this.countCols()]:[p,v,x,A],[Y,I]=V;let[,,G,Q]=V,ie=null,se=null;G===void 0&&(G=Y),Q===void 0&&(Q=I);let Re="mixed";return Oe(Math.max(Math.min(Y,G),0),Math.max(Y,G),P=>{let R=!0;return Oe(Math.max(Math.min(I,Q),0),Math.max(I,Q),z=>(se=this.getCellMeta(P,z).type,ie?R=ie===se:ie=se,R)),Re=R?se:"mixed",R}),Re},this.removeCellMeta=function(p,v,x){const[A,V]=[this.toPhysicalRow(p),this.toPhysicalColumn(v)];let Y=w.getCellMetaKeyValue(A,V,x);s.runHooks("beforeRemoveCellMeta",p,v,x,Y)!==!1&&(w.removeCellMeta(A,V,x),s.runHooks("afterRemoveCellMeta",p,v,x,Y)),Y=null},this.spliceCellsMeta=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var x=arguments.length,A=new Array(x>2?x-2:0),V=2;V<x;V++)A[V-2]=arguments[V];if(A.length>0&&!Array.isArray(A[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");v>0&&w.removeRow(this.toPhysicalRow(p),v),A.length>0&&F(A.reverse(),Y=>{w.createRow(this.toPhysicalRow(p)),F(Y,(I,G)=>this.setCellMetaObject(p,G,I))}),s.render()},this.setCellMetaObject=function(p,v,x){typeof x=="object"&&Qe(x,(A,V)=>{this.setCellMeta(p,v,V,A)})},this.setCellMeta=function(p,v,x,A){if(s.runHooks("beforeSetCellMeta",p,v,x,A)===!1)return;let Y=p,I=v;p<this.countRows()&&(Y=this.toPhysicalRow(p)),v<this.countCols()&&(I=this.toPhysicalColumn(v)),w.setCellMeta(Y,I,x,A),s.runHooks("afterSetCellMeta",p,v,x,A)},this.getCellsMeta=function(){return w.getCellsMeta()},this.getCellMeta=function(p,v){let x=this.toPhysicalRow(p),A=this.toPhysicalColumn(v);return x===null&&(x=p),A===null&&(A=v),w.getCellMeta(x,A,{visualRow:p,visualColumn:v})},this.getColumnMeta=function(p){return w.getColumnMeta(this.toPhysicalColumn(p))},this.getCellMetaAtRow=function(p){return w.getCellsMetaAtRow(p)},this.isColumnModificationAllowed=function(){return!(s.dataType==="object"||b.columns)},this.getCellRenderer=function(p,v){const x=typeof p=="number"?s.getCellMeta(p,v).renderer:p.renderer;return typeof x=="string"?IA(x):Gt(x)?IA("text"):x},this.getCellEditor=function(p,v){const x=typeof p=="number"?s.getCellMeta(p,v).editor:p.editor;return typeof x=="string"?MA(x):Gt(x)?MA("text"):x},this.getCellValidator=function(p,v){const x=typeof p=="number"?s.getCellMeta(p,v).validator:p.validator;return typeof x=="string"?toe(x):x},this.validateCells=function(p){this._validateCells(p)},this.validateRows=function(p,v){if(!Array.isArray(p))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(v,p)},this.validateColumns=function(p,v){if(!Array.isArray(p))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(v,void 0,p)},this._validateCells=function(p,v,x){const A=new ee;p&&(A.onQueueEmpty=p);let V=s.countRows()-1;for(;V>=0;){if(v!==void 0&&v.indexOf(V)===-1){V-=1;continue}let Y=s.countCols()-1;for(;Y>=0;){if(x!==void 0&&x.indexOf(Y)===-1){Y-=1;continue}A.addValidatorToQueue(),s.validateCell(s.getDataAtCell(V,Y),s.getCellMeta(V,Y),I=>{if(typeof I!="boolean")throw new Error("Validation error: result is not boolean");I===!1&&(A.valid=!1),A.removeValidatorFormQueue()},"validateCells"),Y-=1}V-=1}A.checkIfQueueIsEmpty()},this.getRowHeader=function(p){let v=b.rowHeaders,x=p;return x!==void 0&&(x=s.runHooks("modifyRowHeader",x)),x===void 0?(v=[],Oe(s.countRows()-1,A=>{v.push(s.getRowHeader(A))})):Array.isArray(v)&&v[x]!==void 0?v=v[x]:Yt(v)?v=v(x):v&&typeof v!="string"&&typeof v!="number"&&(v=x+1),v},this.hasRowHeaders=function(){return!!b.rowHeaders},this.hasColHeaders=function(){if(b.colHeaders!==void 0&&b.colHeaders!==null)return!!b.colHeaders;for(let p=0,v=s.countCols();p<v;p++)if(s.getColHeader(p))return!0;return!1},this.getColHeader=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const x=s.runHooks("modifyColHeader",p);if(x===void 0){const G=[],Q=s.countCols();for(let ie=0;ie<Q;ie++)G.push(s.getColHeader(ie));return G}let A=b.colHeaders;const V=function(G){const Q=[],ie=s.countCols();let se=0;for(;se<ie;se++)Yt(b.columns)&&b.columns(se)&&Q.push(se);return Q[G]},Y=s.toPhysicalColumn(x),I=V(Y);return b.colHeaders===!1?A=null:b.columns&&Yt(b.columns)&&b.columns(I)&&b.columns(I).title?A=b.columns(I).title:b.columns&&b.columns[Y]&&b.columns[Y].title?A=b.columns[Y].title:Array.isArray(b.colHeaders)&&b.colHeaders[Y]!==void 0?A=b.colHeaders[Y]:Yt(b.colHeaders)?A=b.colHeaders(Y):b.colHeaders&&typeof b.colHeaders!="string"&&typeof b.colHeaders!="number"&&(A=Nme(x)),A=s.runHooks("modifyColumnHeaderValue",A,p,v),A},this._getColWidthFromSettings=function(p){let v;if(p>=0&&(v=s.getCellMeta(0,p).width),(v===void 0||v===b.width)&&(v=b.colWidths),v!=null){switch(typeof v){case"object":v=v[p];break;case"function":v=v(p);break}typeof v=="string"&&(v=parseInt(v,10))}return v},this.getColWidth=function(p){let v=s._getColWidthFromSettings(p);return v=s.runHooks("modifyColWidth",v,p),v===void 0&&(v=WC),v},this._getRowHeightFromSettings=function(p){let v=b.rowHeights;if(v!=null){switch(typeof v){case"object":v=v[p];break;case"function":v=v(p);break}typeof v=="string"&&(v=parseInt(v,10))}return v},this.getRowHeight=function(p){let v=s._getRowHeightFromSettings(p);return v=s.runHooks("modifyRowHeight",v,p),v},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const p=b.maxCols,v=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(p,v)},this.countRenderedRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return s.view._wt.drawn?s.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v=0;return uA(s.countRows()-1,x=>{if(s.isEmptyRow(x))v+=1;else if(p===!0)return!1}),v},this.countEmptyCols=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v=0;return uA(s.countCols()-1,x=>{if(s.isEmptyCol(x))v+=1;else if(p===!0)return!1}),v},this.isEmptyRow=function(p){return b.isEmptyRow.call(s,p)},this.isEmptyCol=function(p){return b.isEmptyCol.call(s,p)},this.selectCell=function(p,v,x,A){let V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Gt(p)||Gt(v)?!1:this.selectCells([[p,v,x,A]],V,Y)},this.selectCells=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;v===!1&&d.suspend();const A=B.selectCells(p);return A&&x&&s.listen(),d.resume(),A},this.selectColumns=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,x=arguments.length>2?arguments[2]:void 0;return B.selectColumns(p,v,x)},this.selectRows=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,x=arguments.length>2?arguments[2]:void 0;return B.selectRows(p,v,x)},this.deselectCell=function(){B.deselect()},this.selectAll=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,x=arguments.length>2?arguments[2]:void 0;d.skipNextScrollCycle(),B.selectAll(p,v,x)};const ae=(p,v)=>p.getNearestNotHiddenIndex(v,1,!0);this.scrollViewportTo=function(p){var v;if(typeof p=="number"){var x;p={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(x=arguments[4])!==null&&x!==void 0?x:!0}}const{row:A,col:V,verticalSnap:Y,horizontalSnap:I,considerHiddenIndexes:G}=(v=p)!==null&&v!==void 0?v:{};let Q,ie,se,Re;Y!==void 0&&(Q=Y==="top",ie=!Q),I!==void 0&&(se=I==="start",Re=!se);let P=A,R=V;if(G===void 0||G){const Z=Number.isInteger(A)&&A>=0,ne=Number.isInteger(V)&&V>=0,oe=Z?ae(this.rowIndexMapper,A):void 0,S=ne?ae(this.columnIndexMapper,V):void 0;if(oe===null||S===null)return!1;P=Z?s.rowIndexMapper.getRenderableFromVisualIndex(oe):A,R=ne?s.columnIndexMapper.getRenderableFromVisualIndex(S):V}const z=Number.isInteger(P),te=Number.isInteger(R);return z&&P>=0&&te&&R>=0?s.view.scrollViewport(s._createCellCoords(P,R),Q,Re,ie,se):z&&P>=0&&(te&&R<0||!te)?s.view.scrollViewportVertically(P,Q,ie):te&&R>=0&&(z&&P<0||!z)?s.view.scrollViewportHorizontally(R,Re,se):!1},this.scrollToFocusedCell=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",p);const{highlight:v}=this.getSelectedRangeLast();this.scrollViewportTo(v.toObject())?this.view.render():(this.removeHook("afterScroll",p),this._registerImmediate(()=>p()))},this.destroy=function(){if(s._clearTimeouts(),s._clearImmediates(),s.view&&s.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),w.clearCache(),gR.delete(this.guid),Ov(s)){const p=this.rootDocument.querySelector(".hot-display-license-info");p&&p.parentNode.removeChild(p)}kr(s.rootElement),r.destroy(),u&&u.destroy(),s.batchExecution(()=>{s.rowIndexMapper.unregisterAll(),s.columnIndexMapper.unregisterAll(),y.getItems().forEach(p=>{let[,v]=p;v.destroy()}),y.clear(),s.runHooks("afterDestroy")},!0),Ee.getSingleton().destroy(s),Qe(s,(p,v,x)=>{Yt(p)?x[v]=we(v):v!=="guid"&&(x[v]=null)}),s.isDestroyed=!0,a&&a.destroy(),a=null,c=null,B=null,u=null,s=null};function we(p){return()=>{throw new Error(`The "${p}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return u.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return s.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return s.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return s.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return s.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return s.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return s.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return s.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return s.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return s.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return s.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return s.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return s.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(p){const v=Hs(p);return v==="UndoRedo"?this.undoRedo:y.getItem(v)},this.getPluginName=function(p){return p===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:y.getId(p)},this.getInstance=function(){return s},this.addHook=function(p,v,x){Ee.getSingleton().add(p,v,s,x)},this.hasHook=function(p){return Ee.getSingleton().has(p,s)||Ee.getSingleton().has(p)},this.addHookOnce=function(p,v,x){Ee.getSingleton().once(p,v,s,x)},this.removeHook=function(p,v){Ee.getSingleton().remove(p,v,s)},this.runHooks=function(p,v,x,A,V,Y,I){return Ee.getSingleton().run(s,p,v,x,A,V,Y,I)},this.getTranslatedPhrase=function(p,v){return B2(b.language,p,v)},this.toHTML=()=>OH(this),this.toTableElement=()=>{const p=this.rootDocument.createElement("div");return p.insertAdjacentHTML("afterbegin",OH(this)),p.firstElementChild},this.timeouts=[],this._registerTimeout=function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=p;typeof x=="function"&&(x=setTimeout(x,v)),this.timeouts.push(x)},this._clearTimeouts=function(){F(this.timeouts,p=>{clearTimeout(p)})},this.immediates=[],this._registerImmediate=function(p){this.immediates.push(setImmediate(p))},this._clearImmediates=function(){F(this.immediates,p=>{clearImmediate(p)})},this._getEditorManager=function(){return u},this.isRtl=function(){return s.rootWindow.getComputedStyle(s.rootElement).direction==="rtl"},this.isLtr=function(){return!s.isRtl()},this.getDirectionFactor=function(){return s.isLtr()?1:-1};const Ne=iMe({handleEvent(){return s.isListening()},beforeKeyDown:p=>this.runHooks("beforeKeyDown",p),afterKeyDown:p=>{this.isDestroyed||s.runHooks("afterDocumentKeyDown",p)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",p=>{p.ctrlKey===!1&&p.metaKey===!1&&Ne.releasePressedKeys()}),this.getShortcutManager=function(){return Ne},this.getFocusManager=function(){return h},uW().forEach(p=>{const v=nM(p);y.addItem(p,new v(this))}),fne(s),Ne.setActiveContextName("grid"),Ee.getSingleton().run(s,"construct")}ds(rW);vo.editors={BaseEditor:Dd};function vo(t,e){const n=new G2(t,e||{},hP);return n.init(),n}vo.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new G2(t,e,hP)};vo.DefaultSettings=j2();vo.hooks=Ee.getSingleton();vo.CellCoords=vu;vo.CellRange=_p;vo.packageName="handsontable";vo.buildDate="17/10/2024 09:16:16";vo.version="14.6.1";vo.languages={dictionaryKeys:n1e,getLanguageDictionary:W2,getLanguagesDictionaries:a1e,registerLanguageDictionary:V2,getTranslatedPhrase:B2};function oMe(t,e,n){return(e=aMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function sMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(i){oMe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aMe(t){var e=rMe(t,"string");return typeof e=="symbol"?e:e+""}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}var dd=Symbol("unassigned"),lMe="The Handsontable instance bound to this component was destroyed and cannot be used properly.";function Xy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function K2(t){var e=vo.hooks.getRegistered(),n={};Object.assign(n,vo.DefaultSettings);for(var i in n)n[i]={default:dd};for(var o=0;o<e.length;o++)n[e[o]]={default:dd};return n.settings={default:dd},t==="HotTable"&&(n.id={type:String,default:"hot-".concat(Math.random().toString(36).substring(5))}),n}function q2(t){var e={},n=t.settings;if(n!==dd)for(var i in n)Xy(n,i)&&n[i]!==dd&&(e[i]=n[i]);for(var o in t)Xy(t,o)&&o!=="settings"&&t[o]!==dd&&(e[o]=t[o]);return e}function LD(t,e){var n=q2(t),i=t.settings?t.settings:n,o=t.settings?n:null,s={};for(var r in i)Xy(i,r)&&i[r]!==void 0&&(!(e&&r!=="data")||!$D(e[r],i[r]))&&(s[r]=i[r]);for(var a in o)Xy(o,a)&&a!=="id"&&a!=="settings"&&o[a]!==void 0&&(!(e&&a!=="data")||!$D(e[a],o[a]))&&(s[a]=o[a]);return s}function $D(t,e){var n=function(o){var s=function(){var r=new WeakSet;return function(a,l){if(sm(l)==="object"&&l!==null){if(r.has(l))return;r.add(l)}return l}}();return JSON.stringify(o,s)};return typeof t=="function"&&typeof e=="function"?t.toString()===e.toString():sm(t)!==sm(e)?!1:n(t)===n(e)}var cMe="14.6.1",fP=Md({name:"HotTable",props:K2("HotTable"),provide:function(){return{columnsCache:this.columnsCache}},watch:{$props:{handler:function(e){var n=LD(e,this.hotInstance?this.hotInstance.getSettings():void 0);!this.hotInstance||n===void 0||(n.data&&(this.hotInstance.isColumnModificationAllowed()||!this.hotInstance.isColumnModificationAllowed()&&this.hotInstance.countSourceCols()===this.miscCache.currentSourceColumns)&&(this.matchHotMappersSize(),delete n.data),Object.keys(n).length?this.hotInstance.updateSettings(n):this.hotInstance.render(),this.miscCache.currentSourceColumns=this.hotInstance.countSourceCols())},deep:!0,immediate:!0}},data:function(){return{__hotInstance:null,miscCache:{currentSourceColumns:null},columnSettings:null,columnsCache:new Map,get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(lMe),null)},set hotInstance(e){this.__hotInstance=e}}},methods:{hotInit:function(){var e=LD(this.$props);e.columns=this.columnSettings?this.columnSettings:e.columns,this.hotInstance=wL(new vo.Core(this.$el,e)),this.hotInstance.init(),this.miscCache.currentSourceColumns=this.hotInstance.countSourceCols()},matchHotMappersSize:function(){var e=this;if(this.hotInstance){var n=this.hotInstance.getSourceData(),i=[],o=[],s=this.hotInstance.rowIndexMapper.getNumberOfIndexes(),r=this.hotInstance.isColumnModificationAllowed(),a=0;if(n&&n.length!==s&&n.length<s)for(var l=n.length;l<s;l++)i.push(l);if(r){var c;if(a=this.hotInstance.columnIndexMapper.getNumberOfIndexes(),n&&n[0]&&((c=n[0])===null||c===void 0?void 0:c.length)!==a&&n[0].length<a)for(var u=n[0].length;u<a;u++)o.push(u)}this.hotInstance.batch(function(){i.length>0?e.hotInstance.rowIndexMapper.removeIndexes(i):e.hotInstance.rowIndexMapper.insertIndexes(s-1,n.length-s),r&&n.length!==0&&(o.length>0?e.hotInstance.columnIndexMapper.removeIndexes(o):e.hotInstance.columnIndexMapper.insertIndexes(a-1,n[0].length-a))})}},getColumnSettings:function(){var e=Array.from(this.columnsCache.values());return e.length?e:void 0}},mounted:function(){this.columnSettings=this.getColumnSettings(),this.hotInit()},beforeUnmount:function(){this.hotInstance&&this.hotInstance.destroy()},version:cMe}),uMe=["id"];function hMe(t,e,n,i,o,s){return We(),qe("div",{id:t.id},[$h(t.$slots,"default")],8,uMe)}fP.render=hMe;fP.__file="src/HotTable.vue";var dMe=Md({name:"HotColumn",props:K2("HotColumn"),inject:["columnsCache"],methods:{createColumnSettings:function(){var e=q2(this.$props),n=sMe({},e);e.renderer&&(n.renderer=e.renderer),e.editor&&(n.editor=e.editor),this.columnsCache.set(this,n)}},mounted:function(){this.createColumnSettings()},unmounted:function(){this.columnsCache.delete(this)},render:function(){return null}});dMe.__file="src/HotColumn.vue";const fMe={components:{HotTable:fP},props:["parsedLogs","hotSettings"],data(){return{currentPage:0,pageSize:100,localHotSettings:{...this.hotSettings,height:"calc(100vh - 350px)",width:"100%",renderAllRows:!1,viewportRowRenderingOffset:70,autoRowSize:!1,autoColumnSize:!1,rowHeights:50,currentRowClassName:"current-row",preventOverflow:"horizontal",outsideClickDeselects:!1,colWidths:[80,100,70,100,100,60,60,80,200,150,150,150],afterUpdateSettings:!0,afterRender:!0,afterChange:!0,columns:[{data:"timestamp",title:"Time"},{data:"level",title:"Level"},{data:"signature",title:"Signature",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="truncate-cell" title="${s}">${s==null?void 0:s.substring(0,8)}...</div>`,e)},{data:"slot",title:"Slot"},{data:"programId",title:"Program",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="truncate-cell" title="${s}">${s==null?void 0:s.substring(0,8)}...</div>`,e)},{data:"parentProgramId",title:"Parent",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="truncate-cell" title="${s}">${s==null?void 0:s.substring(0,8)}...</div>`,e)},{data:"depth",title:"Depth"},{data:"instructionIndex",title:"Idx"},{data:"invokeResult",title:"Result"},{data:"logMessages",title:"Logs",renderer:(t,e,n,i,o,s)=>{try{const a=JSON.parse(s).join(`
`);e.innerHTML=`<div class="scrollable-cell" title="${a}">${a}</div>`}catch{e.innerHTML=`<div class="scrollable-cell">${s}</div>`}return e}},{data:"dataLogs",title:"Data",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="scrollable-cell" title="${s}">${s}</div>`,e)},{data:"rawLogs",title:"Raw Logs",renderer:(t,e,n,i,o,s)=>{try{const a=JSON.parse(s).join(`
`);e.innerHTML=`<div class="scrollable-cell" title="${a}">${a}</div>`}catch{e.innerHTML=`<div class="scrollable-cell">${s}</div>`}return e}},{data:"errors",title:"Errors",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="scrollable-cell" title="${s}">${s}</div>`,e)},{data:"transactionError",title:"TX Error",renderer:(t,e,n,i,o,s)=>(e.innerHTML=`<div class="scrollable-cell" title="${s}">${s}</div>`,e)}]}}},computed:{paginatedLogs(){const t=this.currentPage*this.pageSize;return this.parsedLogs.slice(t,t+this.pageSize)},totalPages(){return Math.ceil(this.parsedLogs.length/this.pageSize)}},methods:{nextPage(){this.currentPage<this.totalPages-1&&this.currentPage++},prevPage(){this.currentPage>0&&this.currentPage--},goToPage(t){t>=0&&t<this.totalPages&&(this.currentPage=t)}},watch:{paginatedLogs:{handler(t){this.$refs.hotTable&&this.$refs.hotTable.hotInstance.loadData(t)},deep:!0}}},gMe={class:"overflow-x-auto"},mMe={class:"pagination flex items-center justify-between p-4 bg-surface-50 border-t border-surface-200"},pMe={class:"text-sm text-surface-0"},wMe={class:"flex gap-2"},bMe=["disabled"],vMe=["disabled"],yMe={class:"hot"},CMe={class:"pagination flex items-center justify-between p-4 bg-surface-50 border-t border-surface-200"},SMe={class:"text-sm text-surface-600"},_Me={class:"flex gap-2"},RMe=["disabled"],xMe=["disabled"];function EMe(t,e,n,i,o,s){const r=_r("hot-table");return We(),qe("div",gMe,[le("div",mMe,[le("span",pMe," Showing "+Cn(o.currentPage*o.pageSize+1)+" - "+Cn(Math.min((o.currentPage+1)*o.pageSize,n.parsedLogs.length))+" of "+Cn(n.parsedLogs.length)+" entries ",1),le("div",wMe,[le("button",{onClick:e[0]||(e[0]=(...a)=>s.prevPage&&s.prevPage(...a)),disabled:o.currentPage===0,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,bMe),le("button",{onClick:e[1]||(e[1]=(...a)=>s.nextPage&&s.nextPage(...a)),disabled:o.currentPage>=s.totalPages-1,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,vMe)])]),le("div",yMe,[tn(r,{data:s.paginatedLogs,settings:n.hotSettings,ref:"hotTable"},null,8,["data","settings"])]),le("div",CMe,[le("span",SMe," Showing "+Cn(o.currentPage*o.pageSize+1)+" - "+Cn(Math.min((o.currentPage+1)*o.pageSize,n.parsedLogs.length))+" of "+Cn(n.parsedLogs.length)+" entries ",1),le("div",_Me,[le("button",{onClick:e[2]||(e[2]=(...a)=>s.prevPage&&s.prevPage(...a)),disabled:o.currentPage===0,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,RMe),le("button",{onClick:e[3]||(e[3]=(...a)=>s.nextPage&&s.nextPage(...a)),disabled:o.currentPage>=s.totalPages-1,class:"px-3 py-1 text-sm rounded border border-surface-200 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,xMe)])])])}const TMe=Yl(fMe,[["render",EMe]]);g0e();const qb=t=>typeof t=="object"?JSON.stringify(t,(e,n)=>typeof n=="string"?n.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):n):typeof t=="string"?t.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):t,MMe={name:"App",components:{Button:RE,ProgramIdForm:x0e,ProgramList:A0e,StatsGrid:QEe,LogsTable:TMe},setup(){return ip(async()=>{await Fj(),console.log("WASM Initialized")}),{}},data(){return{websockets:new Map,connectingWebsockets:new Set,receivingMessages:!1,newProgramId:"",programIds:[],environments:[{key:"Devnet",url:"wss://api.devnet.solana.com"},{key:"Testnet",url:"wss://api.testnet.solana.com"}],customUrl:"",selectedEnvironment:"wss://api.devnet.solana.com",onlyShowErrors:!1,parsedLogs:[],lastUpdateTime:"-",hotSettings:{columns:[{data:"timestamp",title:"Time",width:100,type:"text"},{data:"level",title:"Level",width:80,type:"text"},{data:"signature",title:"Signature",width:200,renderer:function(t,e,n,i,o,s,r){const a=document.createElement("a");return a.href=`https://solscan.io/tx/${s.signature}${s.linkSuffix}`,a.target="_blank",a.textContent=s.signature,e.innerHTML="",e.appendChild(a),e}},{data:"slot",title:"Slot",width:100,renderer:function(t,e,n,i,o,s,r){const a=document.createElement("a");return a.href=`https://solscan.io/block/${s.slot}${s.linkSuffix}`,a.target="_blank",a.textContent=s.slot,e.innerHTML="",e.appendChild(a),e}},{data:"programId",title:"Program ID",width:150,renderer:function(t,e,n,i,o,s,r){const a=document.createElement("a");return a.href=`https://solscan.io/account/${s.programId}${s.linkSuffix}`,a.target="_blank",a.textContent=s.programId,e.innerHTML="",e.appendChild(a),e}},{data:"parentProgramId",title:"Parent Program",width:150,renderer:function(t,e,n,i,o,s,r){const a=document.createElement("a");return a.href=`https://solscan.io/account/${s.parentProgramId}${s.linkSuffix}`,a.target="_blank",a.textContent=s.parentProgramId,e.innerHTML="",e.appendChild(a),e}},{data:"depth",title:"Depth",width:80,type:"numeric"},{data:"instructionIndex",title:"Index",width:80,type:"numeric"},{data:"invokeResult",title:"Result",width:100,type:"text"},{data:"logMessages",title:"Log Messages",width:300,type:"text"},{data:"rawLogs",title:"Raw Logs",width:300,type:"text"},{data:"dataLogs",title:"Data Logs",width:200,type:"text"},{data:"errors",title:"Errors",width:200,type:"text"},{data:"transactionError",title:"TX Error",width:200,type:"text"}],licenseKey:"non-commercial-and-evaluation",columnSorting:!0,filters:!0,dropdownMenu:!0,colHeaders:!0,rowHeaders:!0,width:"100%",manualRowResize:!0,manualColumnResize:!0,autoWrapRow:!0,autoWrapCol:!0,nestedRows:!1,contextMenu:!0,readOnly:!0}}},computed:{uniqueProgramsCount(){return new Set(this.parsedLogs.map(e=>e.programId)).size},getMobileOptimizedHotSettings(){const t={...this.hotSettings};return t.columns=t.columns.map(e=>{const n={...e};return window.innerWidth<768&&(n.width=Math.min(e.width,120),["logMessages","rawLogs","dataLogs","errors"].includes(e.data)&&(n.width=150)),n}),window.innerWidth<768&&(t.colHeaders=!0,t.rowHeaders=!1,t.contextMenu=!1,t.dropdownMenu=!1),t}},methods:{parseLog(t){let e="";this.selectedEnvironment.includes("dev")?e="?cluster=devnet":this.selectedEnvironment.includes("test")&&(e="?cluster=testnet");let n={signature:t.signature,linkSuffix:e},i={slot:t.slot,linkSuffix:e},o={programId:t.solana.program_id,linkSuffix:e},s={parentProgramId:t.solana.parent_program_id,linkSuffix:e};return{timestamp:new Date().toLocaleTimeString(),level:t.solana.transaction_error!==null&&t.solana.transaction_error!==""?"Error":"Info",signature:n,slot:i,programId:o,parentProgramId:s,depth:t.solana.depth,instructionIndex:t.solana.instruction_index,invokeResult:t.solana.invoke_result,logMessages:JSON.stringify(t.solana.log_messages),dataLogs:JSON.stringify(t.solana.data_logs),rawLogs:JSON.stringify(t.solana.raw_logs),errors:JSON.stringify(t.solana.errors),transactionError:t.solana.transaction_error||""}},extractProgramId(t){var n;const e=t.match(/Program (\w+) invoke/);return e?e[1]:((n=t.match(/Program (\w+) success/))==null?void 0:n[1])??null},determineStatus(t){return t.includes("success")?"Success":t.includes("failed")?"Failed":t.includes("invoke")?"Started":"Processing"},async addProgramId(){this.newProgramId&&!this.programIds.includes(this.newProgramId)&&(this.programIds.push(this.newProgramId),await this.connectWebSocketForProgram(this.newProgramId),this.newProgramId="")},async removeProgramId(t){const e=this.programIds[t];await this.disconnectWebSocketForProgram(e),this.programIds.splice(t,1)},handleCustomUrlChange(){this.customUrl&&this.customUrl.startsWith("wss://")?this.handleEnvironmentChange():(alert('Please enter a valid WebSocket URL starting with "wss://"'),this.customUrl="",this.selectedEnvironment="wss://api.devnet.solana.com")},async handleEnvironmentChange(){const t=this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment;console.log(`Switching to environment: ${t}`),this.websockets.size>0&&await this.reconnectToNewEnvironment()},getEnvironmentName(){var t;return this.selectedEnvironment==="custom"?"Custom":((t=this.environments.find(e=>e.url===this.selectedEnvironment))==null?void 0:t.key)||"Unknown"},async reconnectToNewEnvironment(){const t=[...this.programIds];await this.clearAll(),this.programIds=t,await this.startAllWebSockets()},updateTable(t){if(t.method==="logsNotification"){const e=new $j(["*"]),n=t.params.result.value.logs,i=t.params.result.context.slot,o=t.params.result.value.signature,s=t.params.result.value.err===null?null:t.params.result.value.err;try{const r=e.from_rpc_logs_response({signature:o,err:s,logs:n},BigInt(i));let a=[];r.forEach(l=>{const c={signature:qb(o),slot:i,solana:JSON.parse(qb(l))};c.solana.transaction_error!==null&&c.solana.transaction_error,(!this.onlyShowErrors||c.solana.transaction_error!==null&&c.solana.transaction_error!=="")&&a.push(c)});try{const l=a.map(c=>this.parseLog(c));this.parsedLogs.unshift(...l),this.parsedLogs=this.parsedLogs.slice(0,1e3),this.lastUpdateTime=new Date().toLocaleTimeString()}catch(l){console.error("Error parsing logs:",l)}}catch(r){console.log("Error parsing logs",{error:qb(r.message),signature:qb(o),slot:i})}}this.$refs.hotTable&&this.$refs.hotTable.hotInstance.render()},async startAllWebSockets(){console.log("Starting WebSockets for all programs");try{await this.disconnectWebSocket();const t=this.programIds.map(e=>this.connectWebSocketForProgram(e));await Promise.all(t),console.log("All WebSocket connections established")}catch(t){console.error("Error starting WebSocket connections:",t)}},async connectWebSocketForProgram(t){if(this.websockets.has(t)){console.log(`WebSocket already exists for program: ${t}`);return}const e=this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment;return console.log(`Connecting WebSocket for program: ${t} on ${e}`),this.connectingWebsockets.add(t),new Promise((n,i)=>{const o=new WebSocket(e),s=()=>{let r=!1;return a=>{var c,u;const l=JSON.parse(a.data);l.result!==void 0&&!r&&(r=!0,this.connectingWebsockets.delete(t),console.log(`Received first message for program: ${t}`)),(u=(c=l.params)==null?void 0:c.result)!=null&&u.value&&(this.receivingMessages=!0,this.lastUpdateTime=new Date().toLocaleTimeString(),this.updateTable(l))}};o.onopen=()=>{const r={jsonrpc:"2.0",id:Date.now(),method:"logsSubscribe",params:[{mentions:[t]},{commitment:"finalized",encoding:"json"}]};o.send(JSON.stringify(r)),console.log(`WebSocket connected and subscribed for program: ${t}`),this.websockets.set(t,o),n()},o.onmessage=s(),o.onerror=r=>{console.error(`WebSocket error for program ${t}:`,r),this.websockets.delete(t),this.connectingWebsockets.delete(t),i(r)},o.onclose=()=>{console.log(`WebSocket connection closed for program: ${t}`),this.websockets.delete(t),this.connectingWebsockets.delete(t)}})},async disconnectWebSocket(){console.log("Disconnecting all WebSockets");const t=Array.from(this.websockets.keys()).map(e=>this.disconnectWebSocketForProgram(e));await Promise.all(t),this.websockets.clear(),console.log("All WebSocket connections closed")},async disconnectWebSocketForProgram(t){const e=this.websockets.get(t);e&&await new Promise(n=>{e.onclose=()=>{console.log(`WebSocket disconnected for program: ${t}`),this.connectingWebsockets.delete(t),n()},e.close(),this.websockets.delete(t)})},async clearAll(){await this.disconnectWebSocket(),this.parsedLogs=[],this.programIds=[],this.lastUpdateTime="-",this.websockets.clear(),this.connectingWebsockets.clear(),console.log("Cleared all data and connections"),this.$refs.hotTable&&this.$refs.hotTable.hotInstance.render()},downloadLogs(){try{const t=new Date().toISOString().replace(/[:.]/g,"-"),e=this.getEnvironmentName(),n=`solana-logs-${e}-${t}.json`,i={metadata:{exportedAt:new Date().toISOString(),environment:e,url:this.selectedEnvironment==="custom"?this.customUrl:this.selectedEnvironment,programIds:this.programIds,totalLogs:this.parsedLogs.length},logs:this.parsedLogs},o=JSON.stringify(i,null,2),s=new Blob([o],{type:"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),console.log(`Downloaded ${i.logs.length} logs to ${n}`)}catch(t){console.error("Error downloading logs:",t),alert("Error downloading logs. Check console for details.")}},watch:{selectedEnvironment(t){console.log(`Environment changed to: ${t}`)}}},beforeUnmount(){this.disconnectWebSocket()}},PMe={class:"container mx-auto p-4"},OMe={class:"space-y-4 mb-6"},IMe={class:"flex flex-col md:flex-row gap-4"},AMe=["value"],HMe={class:"grid grid-cols-2 md:flex gap-2 md:gap-4"},kMe=["disabled"],NMe={key:0,class:"text-xs md:text-sm opacity-75"},DMe={class:"mb-6 overflow-x-auto"},LMe={class:"flex flex-wrap gap-2 min-w-min"},$Me={class:"truncate max-w-[150px] md:max-w-none"},FMe={key:0,class:"flex items-center gap-2"},VMe={key:1,class:"text-green-500 text-xs md:text-sm"},WMe={key:2,class:"text-green-500 text-xs md:text-sm"},BMe={key:3,class:"text-gray-500 text-xs md:text-sm"},jMe={class:"space-y-4 mb-6"},UMe={class:"flex items-center gap-2 mb-4"},zMe={class:"overflow-x-auto"};function YMe(t,e,n,i,o,s){const r=_r("ProgramIdForm"),a=_r("ProgramList"),l=_r("StatsGrid"),c=_r("LogsTable");return We(),qe("div",null,[le("div",PMe,[e[14]||(e[14]=le("h1",{class:"text-2xl font-bold mb-6 text-[var(--p-text-color)]"}," Solana Log Explorer ",-1)),e[15]||(e[15]=le("p",{class:"mb-6 text-[var(--p-text-color)]"}," Monitor and analyze Solana program logs in real-time across different networks. ",-1)),tn(r,{modelValue:o.newProgramId,"onUpdate:modelValue":e[0]||(e[0]=u=>o.newProgramId=u),onAddProgramId:s.addProgramId,class:"mb-4"},null,8,["modelValue","onAddProgramId"]),le("div",OMe,[le("div",IMe,[_g(le("select",{"onUpdate:modelValue":e[1]||(e[1]=u=>o.selectedEnvironment=u),onChange:e[2]||(e[2]=(...u)=>s.handleEnvironmentChange&&s.handleEnvironmentChange(...u)),class:"px-4 py-2 border border-surface-200 rounded bg-surface-50 text-surface-800 w-full md:w-auto"},[e[10]||(e[10]=le("option",{value:"custom"},"Custom URL",-1)),(We(!0),qe(Yn,null,td(o.environments,u=>(We(),qe("option",{key:u.key,value:u.url},Cn(u.key),9,AMe))),128))],544),[[BY,o.selectedEnvironment]]),o.selectedEnvironment==="custom"?_g((We(),qe("input",{key:0,"onUpdate:modelValue":e[3]||(e[3]=u=>o.customUrl=u),onChange:e[4]||(e[4]=(...u)=>s.handleCustomUrlChange&&s.handleCustomUrlChange(...u)),type:"text",placeholder:"Enter WebSocket URL (wss://...)",class:"flex-1 px-4 py-2 border border-surface-200 rounded bg-surface-50 text-surface-800"},null,544)),[[QL,o.customUrl]]):mu("",!0)]),le("div",HMe,[le("button",{onClick:e[5]||(e[5]=(...u)=>s.disconnectWebSocket&&s.disconnectWebSocket(...u)),class:"px-3 py-2 md:px-4 bg-red-500 text-white rounded hover:bg-red-600 text-sm md:text-base"}," Stop Logs "),le("button",{onClick:e[6]||(e[6]=(...u)=>s.startAllWebSockets&&s.startAllWebSockets(...u)),class:"px-3 py-2 md:px-4 bg-green-500 text-white rounded hover:bg-green-600 text-sm md:text-base flex items-center justify-center gap-2"}," Start Logs "),le("button",{onClick:e[7]||(e[7]=(...u)=>s.clearAll&&s.clearAll(...u)),class:"px-3 py-2 md:px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-sm md:text-base flex items-center justify-center gap-2"}," Clear All "),le("button",{onClick:e[8]||(e[8]=(...u)=>s.downloadLogs&&s.downloadLogs(...u)),class:"px-3 py-2 md:px-4 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm md:text-base flex items-center justify-center gap-2",disabled:!o.parsedLogs.length},[e[11]||(e[11]=le("span",null,"Download",-1)),o.parsedLogs.length?mu("",!0):(We(),qe("span",NMe,"(No data)"))],8,kMe)])]),le("div",DMe,[le("div",LMe,[(We(!0),qe(Yn,null,td(o.programIds,u=>(We(),qe("div",{key:u,class:"flex items-center gap-2 bg-gray-100 px-3 py-1 rounded text-sm"},[le("span",$Me,Cn(u),1),o.connectingWebsockets.has(u)?(We(),qe("div",FMe,e[12]||(e[12]=[le("span",{class:"text-primary-500 text-xs md:text-sm"},"Connecting...",-1),le("svg",{class:"animate-spin h-4 w-4 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[le("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),le("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):o.websockets.has(u)&&o.receivingMessages?(We(),qe("span",VMe,"Connected")):o.websockets.has(u)&&!o.receivingMessages?(We(),qe("span",WMe,"Awaiting logs...May take several seconds")):(We(),qe("span",BMe,"Disconnected"))]))),128))])]),le("div",jMe,[tn(a,{programIds:o.programIds,onRemoveProgramId:s.removeProgramId},null,8,["programIds","onRemoveProgramId"]),tn(l,{parsedLogs:o.parsedLogs,uniqueProgramsCount:s.uniqueProgramsCount,lastUpdateTime:o.lastUpdateTime},null,8,["parsedLogs","uniqueProgramsCount","lastUpdateTime"])]),le("div",UMe,[_g(le("input",{type:"checkbox",id:"errorFilter","onUpdate:modelValue":e[9]||(e[9]=u=>o.onlyShowErrors=u),class:"w-4 h-4 text-primary-400 bg-surface-50 border-surface-300 rounded focus:ring-primary-500"},null,512),[[WY,o.onlyShowErrors]]),e[13]||(e[13]=le("label",{for:"errorFilter",class:"text-[var(--p-text-color)] text-sm md:text-base"}," Only show error logs ",-1))]),le("div",zMe,[tn(c,{parsedLogs:o.parsedLogs,hotSettings:s.getMobileOptimizedHotSettings},null,8,["parsedLogs","hotSettings"])])])])}const GMe=Yl(MMe,[["render",YMe],["__scopeId","data-v-9dd54c1a"]]),FD=t=>typeof t=="object"?JSON.stringify(t,(e,n)=>typeof n=="string"?n.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):n):typeof t=="string"?t.replace(/[\n\r\t]/g," ").replace(/\s+/g," "):t,KMe={name:"ConvertView",data(){return{inputLogs:"",convertedLogs:null,error:null,transformer:null}},computed:{formattedOutput(){return this.convertedLogs?JSON.stringify(this.convertedLogs,null,2):""}},mounted(){this.transformer=new $j(["*"])},methods:{handleInput(){this.error=null,this.convertedLogs=null},convertLogs(){try{let t;try{t=JSON.parse(this.inputLogs)}catch{t={logs:this.inputLogs.split(`
`).filter(i=>i.trim()),signature:"unknown",slot:Date.now(),err:null}}let n=this.transformer.from_rpc_logs_response({signature:t.signature||"unknown",err:t.err||null,logs:t.logs||[]},BigInt(t.slot||Date.now())).map(i=>({signature:FD(t.signature),slot:t.slot,solana:JSON.parse(FD(i))}));this.convertedLogs={metadata:{convertedAt:new Date().toISOString(),totalLogs:n.length},logs:n}}catch(t){this.error=`Error converting logs: ${t.message}`,console.error("Error details:",t)}},async copyToClipboard(){try{await navigator.clipboard.writeText(this.formattedOutput)}catch{this.error="Failed to copy to clipboard"}},downloadLogs(){if(!this.convertedLogs)return;const t=new Blob([this.formattedOutput],{type:"application/json"}),e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=`converted-solana-logs-${new Date().toISOString()}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}}},qMe={class:"container mx-auto p-4"},XMe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ZMe={class:"space-y-4"},JMe=["disabled"],QMe={class:"space-y-4"},ePe={key:0,class:"h-[600px] p-4 font-mono text-sm rounded-lg border border-surface-200 bg-surface-800 text-white dark:bg-surface-800 dark:border-surface-700 overflow-auto"},tPe={key:1,class:"h-[600px] flex items-center justify-center border border-dashed border-surface-200 dark:border-surface-700 rounded-lg bg-surface-800"},nPe={class:"flex gap-4"},iPe=["disabled"],oPe=["disabled"],sPe={key:0,class:"mt-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-lg"};function rPe(t,e,n,i,o,s){return We(),qe("div",qMe,[e[6]||(e[6]=le("h1",{class:"text-2xl font-bold mb-6 text-[var(--p-text-color)]"}," Convert Solana Logs ",-1)),le("div",XMe,[le("div",ZMe,[_g(le("textarea",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.inputLogs=r),placeholder:`Paste your raw Solana logs here, for example:\r
\r
Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 invoke [1]\r
Program log: Instruction: Initialize\r
Program 11111111111111111111111111111111 invoke [2]\r
Program 11111111111111111111111111111111 success\r
Program log: Initialized new event. Current value\r
Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 consumed 59783 of 200000 compute units\r
Program 9RX7oz3WN5VRTqekBBHBvEJFVMNRnrCmVy7S6B6S5oU7 success\r
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]\r
Program log: Create\r
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 5475 of 200000 compute units\r
Program failed to complete: Invoked an instruction with data that is too large (12178014311288245306 > 10240)\r
Program AbcdefGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL failed: Program failed to complete`,class:"w-full h-[600px] p-4 font-mono text-sm rounded-lg border border-surface-200 bg-surface-800 text-white dark:bg-surface-800 dark:border-surface-700",onInput:e[1]||(e[1]=(...r)=>s.handleInput&&s.handleInput(...r))},null,544),[[QL,o.inputLogs]]),le("button",{onClick:e[2]||(e[2]=(...r)=>s.convertLogs&&s.convertLogs(...r)),class:"px-4 py-2 bg-primary-500 text-white rounded hover:bg-primary-600 disabled:opacity-50",disabled:!o.inputLogs}," Convert Logs ",8,JMe)]),le("div",QMe,[o.convertedLogs?(We(),qe("div",ePe,[le("pre",null,Cn(s.formattedOutput),1)])):(We(),qe("div",tPe,e[5]||(e[5]=[le("span",{class:"text-[var(--p-text-color)]"},"Converted logs will appear here",-1)]))),le("div",nPe,[le("button",{onClick:e[3]||(e[3]=(...r)=>s.downloadLogs&&s.downloadLogs(...r)),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",disabled:!o.convertedLogs}," Download JSON ",8,iPe),le("button",{onClick:e[4]||(e[4]=(...r)=>s.copyToClipboard&&s.copyToClipboard(...r)),class:"px-4 py-2 bg-surface-700 text-white rounded hover:bg-surface-600 disabled:opacity-50",disabled:!o.convertedLogs}," Copy to Clipboard ",8,oPe)])])]),o.error?(We(),qe("div",sPe,Cn(o.error),1)):mu("",!0)])}const aPe=Yl(KMe,[["render",rPe],["__scopeId","data-v-2d4116a0"]]),lPe={name:"AboutView"},cPe={class:"container mx-auto p-4"};function uPe(t,e,n,i,o,s){return We(),qe("div",cPe,e[0]||(e[0]=[uY('<h1 class="text-2xl font-bold mb-6 text-[var(--p-text-color)]"> About Sologger </h1><div class="max-w-3xl text-[var(--p-text-color)]"><p class="mb-6 text-lg"> Sologger is a real-time Solana program log explorer and analysis tool. It helps developers monitor and debug their Solana programs across different networks. </p><h2 class="text-xl font-bold mt-8 mb-4">Features</h2><ul class="list-disc pl-6 mb-6 space-y-2"><li>Real-time log monitoring</li><li>Multi-program support</li><li>Cross-network compatibility</li><li>Log parsing and analysis</li><li>Data export capabilities</li></ul><h2 class="text-xl font-bold mt-8 mb-4">Getting Started</h2><p class="mb-4"> To begin monitoring your Solana program logs: </p><ol class="list-decimal pl-6 mb-6 space-y-2"><li>Select a network (Devnet, Testnet, or enter your RPC URL (Helius, QuickNode, etc...). In order to listen to logs on Mainnet you must use your own URL </li><li>Enter your program ID</li><li>Click &quot;Start Logs&quot; to begin monitoring</li></ol><h2 class="text-xl font-bold mt-8 mb-4">Contributing</h2><p class="mb-6"> Contributions are welcome! Visit our <a href="https://github.com/brytelands/sologger" target="_blank" rel="noopener noreferrer" class="text-primary-400 hover:text-primary-500 underline"> GitHub repository </a> to get started. </p></div>',2)]))}const hPe=Yl(lPe,[["render",uPe]]),dPe=[{path:"/",name:"home",component:GMe},{path:"/convert",name:"convert",component:aPe},{path:"/about",name:"about",component:hPe}],X2=Y4({history:S4("/sologger/"),routes:dPe}),eE=[];function fPe(t){return{install:()=>{const{scriptSrc:e="https://us.umami.is/script.js",websiteID:n,router:i}=t;if(!n)return console.warn("Website ID not provided for Umami plugin, skipping.");i&&gPe(i),mPe(()=>pPe(e,n))}}}function gPe(t){t.afterEach(e=>bPe({url:e.fullPath}))}function mPe(t){document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)}function pPe(t,e){const n=document.createElement("script");n.defer=!0,n.src=t,n.onload=()=>{console.log("Umami plugin loaded"),wPe()},n.setAttribute("data-website-id",e),n.setAttribute("data-auto-track","false"),document.head.appendChild(n)}function wPe(){for(;eE.length;){const t=eE.shift();t&&(typeof t=="function"?window.umami.track(t):window.umami.track(t.type,t.args[0]))}}function bPe(t){const e=n=>({...n,...t});window.umami?window.umami.track(e):eE.push(e)}const VD=localStorage.getItem("theme")||"light",vPe=VD==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":VD;document.documentElement.setAttribute("data-theme",vPe);const Bd=GY(zG);Bd.use(fPe({websiteID:"64c9238c-3c9a-4076-8998-8b1d61f3277c",scriptSrc:"https://cloud.umami.is/script.js",router:X2}));Bd.use(X2);Bd.component("InputText",a$);Bd.component("Button",RE);Bd.use(cG,{theme:"none"});Bd.mount("#app");
